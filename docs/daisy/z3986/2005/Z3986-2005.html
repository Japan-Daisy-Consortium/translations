<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- saved from url=(0059) -->
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja" xml:lang="ja"><!-- Editorial revision April 20, 2007 by George Kerscher

   fixed validation errors from meta and br missing end tags

   references to Appendix 1 cleaned up

   Appendix 2 changed to refer to the Contact Us form, rather than daisy-staff email address which is discontinued

--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>ANSI/NISO Z39.86-2005 (R2012) デジタル録音図書（Digital Talking Book）の仕様 （DAISY3）（2005年4月21日付承認 日本語訳）</title>


<meta name="viewport" content="width=device-width; initial-scale=1,minimum-scale=1, user-scalable=yes">
<meta name="subject" content="Digital Audio-based Information Systems, DAISY Consortium, digital talking book, DTB, talking book, dtbook, dtbook DTD, NISO, National Information Standards Organization, XML application, DTB package file, audio file formats, image file formats, digital rights management, DRM, time-scale modification, distribution information DTD, SMIL application, DTB-specific SMIL DTD, navigation control file, NCX, NCX DTD, portable bookmarks, portable bookmarks DTD, highlights, resource file, resource file DTD, packaging files for distribution, presentation styles, style sheets for DTBs, conformance">

<meta name="dc.Creator" content="NISO Committee AQ on Digital Talking Books">

<meta name="dc.Subject" content="digital talking books">

<meta name="dc.Subject" content="Specifications for the Digital Talking Book">

<meta name="dc.Description" content="This standard defines the format and content of the electronic file set that comprises a digital talking book (DTB) and establishes a limited set of requirements for DTB playback devices.  It uses established and new specifications to delineate the structure of DTBs whose content can range from XML text only, to text with corresponding spoken audio, to audio with little or no text.  DTBs are designed to make print material accessible and navigable for blind or otherwise print-disabled persons.">

<meta name="dc.Publisher" content="National Information Standards Organization, Bethesda, Maryland NISO Press, Bethesda, Maryland, U.S.A.">

<meta name="dc.Contributor" content="Draft American National Standard Developed by the National Information Standards Organization">

<meta name="dc.Contributor" content="ANSI/NISO Z39.86 Advisory Committee">

<meta name="dc.Contributor" content="DAISY Consortium XML-Techniques Working Group">

<meta name="dc.Date" content="2005-04-21">

<meta name="dc.Type" content="interactive">

<meta name="dc.Format" content="text/html">

<meta name="dc.Identifier" content="ANSI/NISO Z39.86-2005">

<meta name="dc.Language" content="jpn">

<meta name="dc.Rights" content="American National Standards Institute">

<meta name="dc.Rights" content="Copyright © 2005 by National Information Standards Organization">
<link rel="stylesheet" href="css/translation_memo.css" type="text/css">

<style type="text/css">ul.pl li {
  list-style-type: none;
}
h1 span.identifier {
  display: block;
  font-size: 50%;
}
h1 span.title {
  display: block;
  margin-top: 2em;
  margin-bottom: 3em;
  letter-spacing: 0.1em;
  font-size: 80%;
}
.sstatus {
  font-weight: bold;
  font-size: 100%;
}
/* below added mg 20050427 */
body {
   margin-right : 5%;
   margin-left : 5%;
  font-family: arial,verdana,sans-serif;
}
dt {
  font-weight: bold;
}
 pre{
 font-family:monospace

 }
</style>

</head> <body dir="ltr">
  <div class="translation-attention">
    <p>この文書はAmerican National Standards Instituteの&quot;<a href="http://www.daisy.org/z3986/2005/Z3986-2005.html" hreflang="en">ANSI/NISO Z39.86-2005 (R2012), Specifications for the Digital Talking Book (Approved April 21, 2005) (DAISY 3)</a>&quot;の日本語訳である。本文書の原文もしくは完全な情報は、&quot;<a href="http://www.daisy.org/z3986/2005/Z3986-2005.html" hreflang="en">ANSI/NISO Z39.86-2005 (R2012), Specifications for the Digital Talking Book (Approved April 21, 2005)</a>&quot;を参照されたい。</p>
    <p>この日本語訳は参考である。公式な文書ではなく、翻訳・解釈の正確性を保証していない。</p>
    <dl>
    <dt>公開日:</dt>
    <dd>2021年4月19日</dd>
    <dt>翻訳者:</dt>
    <dd>日本DAISYコンソーシアム技術委員会</dd>
    </dl>
</div>
  
<h1 id="h1_a">

  <span class="identifier">
    ANSI/NISO Z39.86-2005 (R2012)<br>
    Revision of ANSI/NISO Z39.86-2002<br>
    ISSN: 1041-5653<br>
  </span>
  <span class="title">デジタル録音図書（Digital Talking Book）の仕様</span>
</h1>
<p id="para_1">要約: この規格は、デジタル録音図書（Digital Talking Book  : DTB）を構成する電子ファイルのセットのフォーマットと内容を定義する。そして、DTB再生（Playback）デバイスの要件の限定的なセットを定める。XMLテキストのみのコンテンツから、肉声による音声と連携したテキストのコンテンツ、テキストがほとんどないまたは全くない音声のコンテンツまで、そのコンテンツのあり方が幅広いDTBの構造を詳細に述べるために、すでに確立した仕様または新たに作成した仕様を使用する。DTBは紙媒体の資料をアクセス可能（Accessible）にし、目が不自由な人やその他のプリントデサビリティの人のために設計されたものである。</p>
<p id="para_2">米国情報標準化機構（（National Information Standards Organization : NISO）によって開発された米国標準規格である。<br>米国国家規格協会（American National Standards Institute : ANSI）によって2005年4月21日に承認された。</p>
<p id="para_2b">出版者<br>NISO Press<br>4733 Bethesda Avenue, Suite 300<br>Bethesda, MD 20814<br>www.niso.org</p>
<p id="para_2c">Copyright ©2005 by the National Information Standards Organization.<br>万国著作権条約と パン・アメリカン著作権条約（Pan-American copyright convention）の元に全ての権利を保持する。非商業的な目的のためにのみ、この出版物は、出版者からの書面による事前の許諾なしにいかなる形式またはいかなる手段による複製または送信してもよい。商業目的の複製または配布に関する問い合わせはNISO Press（4733 Bethesda Avenue, Suite 300, Bethesda, MD 20814 USA）に対して行うことが求められる。</p>
<p id="para_2d">ISSN: 1041-5653 National Information Standards Series<br>ISBN: 1-880124-63-7</p>
<h1 id="h1_2"><a name="toc">目次</a></h1>
<ul class="pl" id="ul_1">
<li id="li_0"><a href="#Preface">2005年版の序文</a></li>
<li id="li_1"><a href="#Foreword">前書き</a>
<ul id="ul_2">
<li id="li_2"><a href="#Vote">投票権を有するNISO 会員</a></li>
<li id="li_3"><a href="#BoD">NISO 理事会</a></li>
<li id="li_4"><a href="#AC">ANSI/NISO Z39.86 諮問委員会</a></li>
<li id="li_5"><a href="#Ack">謝辞</a></li>
</ul>
</li>
</ul>
<ul id="ol_1" class="pl">
<li id="li_6">1. <a href="#GenInfo">一般事項</a>
<ul id="ul_3">
<li id="li_7">1.1 <a href="#Purpose">この規格の目的とスコープ</a></li>
<li id="li_8">1.2 <a href="#Def">定義</a></li>
<li id="li_9">1.3 <a href="#Strategy">戦略</a></li>
<li id="li_10">1.4 <a href="#Access">アクセシビリティの問題</a></li>
<li id="li_11">1.5 <a href="#Rel">他の仕様との関係</a>
<ul id="ul_4">
<li id="li_12">1.5.1 <a href="#Uni">Unicordとの関係</a></li>
</ul>
</li>
<li id="li_13">1.6 <a href="#Patents">特許権</a></li>
<li id="li_14">1.7 <a href="#Maint">保守機関</a></li>
</ul>
</li>
<li id="li_15">2. <a href="#Over">はじめに</a></li>
<li id="li_16">3. <a href="#OPF">DTBパッケージファイル（Package File）</a>
<ul id="ul_5">
<li id="li_17">3.1 <a href="#PkgId">パッケージの識別</a></li>
<li id="li_18">3.2 <a href="#PubMed">出版物メタデータ</a>
<ul id="ul_6">
<li id="li_19">3.2.1 <a href="#DCM">Dublin Core メタデータ</a></li>
<li id="li_20">3.2.2 <a href="#DTBID">DTB ID スキーム</a></li>
<li id="li_21">3.2.3 <a href="#XMeta">X-Metadata</a></li>
</ul></li>
<li id="li_22">3.3 <a href="#Manifest">Manifest</a>
<ul id="ul_6a">
<li id="li_22a">3.3.1 <a href="#Allowed-Char">ファイル名で使用できる文字</a></li>
<li id="li_22b">3.3.2 <a href="#Case">URIの大文字と小文字の区別</a></li>
</ul></li>
<li id="li_23">3.4 <a href="#Spine">Spine</a></li>
<li id="li_24">3.5 <a href="#Tours">Tours</a></li>
<li id="li_25">3.6 <a href="#Guide">Guide</a></li>
</ul>
</li>
<li id="li_26">4. <a href="#Text">テキストのためのコンテンツ形式</a>
<ul id="ul_7">
<li id="li_27">4.1 <a href="#TextIntro">はじめに</a></li>
<li id="li_28">4.2 <a href="#Using">DTBook要素セットの使用</a>
<ul id="ul_8">
<li id="li_29">4.2.1 <a href="#SMILMark">SMILに関連付けられるDTBookのマークアップ</a></li>
<li id="li_30">4.2.2 <a href="#ModExt">DTDのモジュールの拡張</a></li>
</ul></li>
</ul>
</li>
<li id="li_32">5. <a href="#Audio">音声ファイル形式</a>
<ul id="ul_9">
<li id="li_33">5.1 <a href="#AudFormats">配布形式</a></li>
<li id="li_34">5.2 <a href="#AudNotes">音声ノートの形式</a></li>
</ul>
</li>
<li id="li_35">6. <a href="#Image">画像ファイル形式</a></li>
<li id="li_36">7. <a href="#SMIL">メディアファイルの同期</a>
<ul id="ul_10">
<li id="li_37">7.1 <a href="#SMILIntro">はじめに</a>
<ul id="ul_11">
<li id="li_38">7.1.1 <a href="#SMILBack">背景</a></li>
<li id="li_39">7.1.2 <a href="#SMILMods">SMILモジュール</a></li>
</ul>
</li>
<li id="li_40">7.2 <a href="#SMILApp">DTBへのSMILの適用</a></li>
<li id="li_41">7.3 <a href="#SMILElem">SMILの要素</a>
<ul id="ul_12">
<li id="li_42">7.3.1 <a href="#CommAtt">Core属性</a></li>
<li id="li_42a">7.3.2 <a href="#xmllang">xml:lang属性</a></li>
</ul></li>
<li id="li_43">7.4 <a href="#SMILProd">DTBのためのSMIL要件</a>
<ul id="ul_13">
<li id="li_44">7.4.1 <a href="#Escape">「回避可能な」構造</a></li>
<li id="li_45">7.4.2 <a href="#AutoInv">特別なナビゲーションモードの自動呼び出し</a></li>
<li id="li_46">7.4.3 <a href="#Skip">「スキップ可能な」構造</a></li>
<li id="li_47">7.4.4 <a href="#SMILDist">複数のメディアユニット（Media Unit）をまたぐファイルのパッケージング</a></li>
<li id="li_48">7.4.5 <a href="#SMILLinks">リンク</a></li>
<li id="li_49">7.4.6 <a href="#Layout">レイアウト構文</a></li>
<li id="li_50">7.4.7 <a href="#Par">&lt;par&gt;の内容</a></li>
<li id="li_52">7.4.8 <a href="#Notes">SMIL内のノートとアノテーション</a></li>
<li id="li_53">7.4.9 <a href="#Images">SMIL内の画像</a></li>
<li id="li_54">7.4.10 <a href="#T-O">テキストのみのDTB</a></li>
<li id="li_54a">7.4.11 <a href="#P-P">製作者による一時停止</a></li>
</ul></li>
<li id="li_55">7.5 <a href="#SMILMeta">SMILメタデータ</a></li>
<li id="li_56">7.6 <a href="#SMILEx">例</a></li>
<li id="li_57">7.7 <a href="#Clock">メディアクリッピングとクロック値</a></li>
<li id="li_57a">7.8 <a href="#End-Vals">End属性の値</a>
<ul id="ul_12a">
<li id="li_57b">7.8.1 <a href="#A-End-Vals">認められるEnd値</a></li>
<li id="li_57c">7.8.2 <a href="#Active-Dur">アクティブな持続時間の計算</a></li>
<li id="li_57d">7.8.3 <a href="#Nest">ネストされた構造の処理</a></li>
</ul></li>
</ul></li>
<li id="li_58">8. <a href="#NCX">ナビゲーションコントロールファイル（Navigation Control File : NCX)</a>
<ul id="ul_14">
<li id="li_59">8.1 <a href="#NCXIntro">はじめに</a></li>
<li id="li_60">8.2 <a href="#NCXReq">キーとなるNCXの要件</a></li>
<li id="li_61">8.3 <a href="#NCXElem">NCXの要素</a></li>
<li id="li_62">8.4 <a href="#FileReq">その他のファイルの要件</a>
<ul id="ul_15">
<li id="li_63">8.4.1 <a href="#NavMeta">ナビゲーションメタデータ</a></li>
<li id="li_64">8.4.2 <a href="#NCXSpan">複数のメディアユニット（Media Unit）にまたがるDTB</a></li>
<li id="li_65">8.4.3 <a href="#NCXplay">playOrder属性</a></li>
<li id="li_66">8.4.4 <a href="#NCXCustom">smilCustomTest要素</a>
</li>
<li id="li_66a">8.4.5 <a href="#NCXPage">ページナビゲーションを有効にする</a></li>
</ul></li>
<li id="li_67">8.5 <a href="#NCXWorks">NCXの動作の仕方</a></li>
<li id="li_68">8.6 <a href="#NCXEx">例</a></li>
</ul></li>
<li id="li_69">9. <a href="#Bkmk">ポータブルブックマークとハイライト</a>
<ul id="ul_16">
<li id="li_70">9.1 <a href="#BkmkIntro">はじめに</a></li>
<li id="li_71">9.2 <a href="#BkmkElem">ブックマーク/ハイライトの要素</a></li>
<li id="li_72">9.3 <a href="#BkmkEx">例</a></li>
</ul></li>
<li id="li_73">10. <a href="#Resource">リソースファイル</a>
<ul id="ul_17">
<li id="li_74">10.1 <a href="#ResIntro">はじめに</a></li>
<li id="li_75">10.2 <a href="#ResElem">リソースの要素</a></li>
<li id="li_76">10.3 <a href="#ResReq">リソースファイルの要件</a></li>
<li id="li_77">10.4 <a href="#ResEx">例</a></li>
</ul></li>
<li id="li_78">11. <a href="#Dist">配布のためのパッケージングファイル</a>
<ul id="ul_18">
<li id="li_79">11.1 <a href="#DistIntro">はじめに</a></li>
<li id="li_80">11.2 <a href="#DistReq">配布の要件</a></li>
<li id="li_81">11.3 <a href="#DistElem">Distinfoの要素</a></li>
<li id="li_82">11.4 <a href="#DistEx">例</a></li>
</ul></li>
<li id="li_83">12. <a href="#Style">プレゼンテーションスタイル</a>
<ul id="ul_19">
<li id="li_84">12.1 <a href="#StyleIntro">はじめに</a></li>
<li id="li_85">12.2 <a href="#ImpStyles">DTBのためのスタイルシートの実装</a></li>
</ul></li>
<li id="li_86">13. <a href="#Render">コンテンツのレンダリング</a></li>
<li id="li_90">14. <a href="#DRM">デジタル著作権管理（Digital Rights Management : DRM）</a></li>
<li id="li_91">15. <a href="#TSM">タイムスケールの調整</a></li>
<li id="li_92">16. <a href="#Conform">適合性</a>
<ul id="ul_19a">
<li id="li_92a">16.1 <a href="#FileConform">一般的なファイルの適合性要件</a></li></ul></li>
<li id="li_93">17. <a href="#Ref">その他の仕様/ドキュメントへの参照</a>
<ul id="ul_20a">
<li id="li_93a">17.1 <a href="#Norm-Ref">引用規定</a></li>
<li id="li_93b">17.2 <a href="#Inform-Ref">参考規定</a></li>
</ul>
</li>
</ul>
<ul id="ul_21">
<li id="li_94"><a href="#DTBookDTD">付録1 - 文書型定義（Document Type Definitions : DTD） </a></li>
<li id="li_100"><a href="#MaintDes">付録2 - 保守機関の指定</a></li>
</ul>
<h1 id="h1_2a"><a name="Preface">2005年版の序文</a></h1>
<p id="para_2d1">（この序文は、ANSI/ Z39.86-2005、デジタル録音図書（Digital Talking Book）のための仕様の一部ではない。情報提供を目的とするのみである。）</p>
<p id="para_2e">最初のANSI/NISO Z39.86は2002年にリリースされた。その規格の本バージョンの準備は、次に挙げる要因によって促進された。まず最初の要因は、関連する規格と仕様における現在の活動に遅れを取りたくないという願望である。2つめの要因は、最初にリリースしたバージョンにおけるあいまいな箇所を明確にする必要性である。そして、3つめの要因は、この規格の実際のユースケースや使用計画に基づくリクエストに基づいた機能拡張をしたいという望みである。</p>
<p id="para_2f">上記の理由の全てから生じるさまざまな変更が行われた。より重要な拡張機能のいくつかを次に一覧として示す。</p>
<ul id="ul_21a">
<li id="li_100a">製作者が制御する一時停止。これを使うことで、DTBの製作者がDTBを指定されたポイントで一時停止させたり、ユーザー（User）の操作を待つようにさせることが可能となる。例えば、続行する前にユーザー（User）がモデルを調査する必要がある場合にワークブックでこの機能を使用することができる。</li>
<li id="li_100b">複数のナビゲーションメソッドが混合されたときに利用者が自分の位置を維持できることを保証するより堅牢な方法。</li>
<li id="li_100c">ページに直接アクセスすることを可能とするためのより欠点の少ないメカニズム。</li>
<li id="li_100d">テキストコンテンツファイル（Textual Content File）をマークアップするための新しい要素。</li>
<li id="li_100e">1つの媒体上に複数の本が存在する場合の、個別の本を識別するための、より効率的な方法。</li>
</ul>
<p id="para_2g">この規格になされた個別の変更は、HTMLオーサリングツールやテキストエディタでHTMLバージョンを開くと表示されるコメントで説明されている。</p>
<h1 id="h1_3"><a name="Foreword">前書き</a></h1>
<p id="para_3">（この前書きは、ANSI/ Z39.86-2005、デジタル録音図書（Digital Talking Book）のための仕様の一部ではない。情報提供を目的とするのみである。）</p>
<p id="para_4">この規格は、全盲者、視覚障害者、身体障害者、学習障害者、その他のプリントディスアビリティの読者（Reader）のためのデジタル録音図書（Digital Talking Book : DTB）の仕様を示すものである。長年にわたり、「録音図書」は、レコード盤やカセットテープなどのアナログ媒体によってにプリントディスアビリティのある読者（Reader）に利用されてきた。これらの媒体は、ますます堅固で費用対効果の高いフォーマットによって、肉声による録音で作成された豊富な紙媒体の資料の音声をユーザー（User）に提供することについて非常に貢献している。しかし、紙媒体の本と比較した場合、アナログ媒体は、いくつかの点で利用に制約がある。第一に、アナログ媒体は本来、線形（初めから終わりまで順番に通しで）で利用するものであるため、参考図書、教科書、雑誌、その他ランダムにいろいろな箇所を頻繁に利用する資料を読む場合に不十分な点が多いことである。これとは対照的に、デジタル媒体は、目の見える読者（Reader）が紙媒体の本をぱらぱらとページをめくるように（そして、それ以上に効率よく）自由に本や雑誌の中を移動する機能を読者（Reader）に提供している。第二に、アナログ録音では、ユーザー（User）がブックマークを挿入したり、資料にハイライトすることによって本と相互にやりとりをすることができないことである。DTBは、ブックマークやハイライトをDTBとは別に保存するが、DTBそのものと連携することで、これらの機能を提供する。第三に、録音図書のユーザー（User）は、聞いている単語のスペルを確認できないことに長い間不満を感じていることである。以下で説明するように、DTBは、音声プレゼンテーションと同期した、作品のフルテキストを格納するファイルを持つだろう。それによって、読者（Reader）は特定の単語を指定し、そのスペルを聞くことができる。最後に、アナログ媒体は、読者（Reader）にドキュメントのたった１つのバージョンのみを提供していることである。例えば、本にフットノートが含まれている場合、そのフットノートは参照されている箇所に配置されて、読者（Reader）に読まれるか、本文テキストの流れの外側に1箇所にまとめて配置される。前者は、関心のない読者（Reader）にとって望まれない干渉をかけることになる。後者は興味のある読者（Reader）がアクセスすることを難しくする。DTBでは、ユーザー（User）がフットノートを簡単にスキップしたり、読むことができる。デジタル録音図書（Digital Talking Book）は、プリントディスアビリティのあるユーザー（User）に、目の見える読者（Reader）が印刷された本を使用するそれに近い、著しく拡張された読書体験を提供する。</p>
<p id="para_5"><!-- MM 2004-04-05 Added mention of text-only DTBs -->
DTBは、作品の音声による表現を持つことができるだけではなく、フルテキストコンテンツと画像も持つことができるため、アナログ音声図書に課された制限をはるかに超えたものである。テキストコンテンツファイル（Textual Content File）は音声ファイルの再生と同期されているため、DTBは読者（Reader）に対して多様な感覚からのインプットを提供する。これは、例えば、学習障害の読者（Reader）などに対して大きなメリットとなる。視覚障害のある読者（Reader）の一部には、本のほとんどを聞く選択するものがいるかもしれないが、画像を検査すると、音声の読み上げの流れでは利用できないという情報を提供することがわかるかもしれない。他のものは、音声プレゼンテーションをスキップし、代わりに画面の拡大表示ソフトウェアを利用してテキストファイルを読むことを選択するかもしれない。点字を使用する読者（Reader）はリフレッシュ可能な点字ディスプレイデバイスをDTBプレーヤー（Player）に接続し、テキストコンテンツファイル（Textual Content File）にアクセスすることで、一部または全てのドキュメントを読むことを好むかもしれない。テキストコンテンツファイル（Textual Content File）はあるが、音声資料がないDTBは合成音声や画面拡大ソフトウェア、点字デバイスを経由して利用されるかもしれない。</p>
<p id="para_6">デジタル録音図書（Digital Talking Book）は、単一の配布媒体に縛られてはいない。CD-ROMが最初に使用されるであろうが、DTBは、デジタルオーディオレコーディングに関連付けられている大容量ファイルを扱うことができるどのようなデジタル配布媒体にも移すことが可能だろう。しかし、DTBがどのような形で配布されるかに関わらず、通常は知的財産保護システムのコンテキストによるものであろう。</p>
<p id="para_7">この規格を改善するための提案を歓迎する。提案は米国情報標準化機構（National Information Standards Organization）に送付するべきである。連絡先は次のとおり。
4733 Bethesda Avenue, Suite 300, Bethesda, MD 20814 USA, telephone (301) 654&#8209;2512。</p>
<p id="para_8">この規格は、米国情報標準化機構（National Information Standards Organization）により米国国家規格協会（ANSI）に提出するために処理され、承認された。この規格のNISOによる承認は、必ずしも投票権を持つ全てのメンバーが承認に賛成票を投じたことを意味するものではない。この規格を承認した時点の、NISOの会員は次のとおりである。</p>
<h3 id="Vote">投票権を有するNISO 会員</h3>
<p>3M <br />&nbsp;&nbsp;&nbsp;Susan Boettcher <br />&nbsp;&nbsp;&nbsp;Roger D. Larson, Alt</p>
<p>American Association of Law Libraries <br />&nbsp;&nbsp;&nbsp;Robert L. Oakley <br />&nbsp;&nbsp;&nbsp;Mary Alice Baish, Alt</p>
<p>American Chemical Society <br />&nbsp;&nbsp;&nbsp;Matthew Toussant</p>
<p>American Library Association <br />&nbsp;&nbsp;&nbsp;Betty Landesman</p>
<p>American Society for Information Science and Technology (ASIS&amp;T) <br />&nbsp;&nbsp;&nbsp;Gail Thornburg </p><p>American Society of Indexers <br />&nbsp;&nbsp;&nbsp;Judith Gibbs </p><p>American Theological Library Association <br />&nbsp;&nbsp;&nbsp;Myron Chace </p><p>ARMA International <br />&nbsp;&nbsp;&nbsp;Diane Carlisle </p><p>Armed Forces Medical Library <br />&nbsp;&nbsp;&nbsp;Diane Zehnpfennig <br />&nbsp;&nbsp;&nbsp;Emily Court, Alt </p><p>Art Libraries Society of North America (ARLIS/NA) <br />&nbsp;&nbsp;&nbsp;Mark Bresnan </p><p>Association for Information and Image Management (AIIM) <br />&nbsp;&nbsp;&nbsp;Betsy A. Fanning </p><p>Association of Information and Dissemination Centers (ASIDIC) <br />&nbsp;&nbsp;&nbsp;Margie Hlava </p><p>Association of Jewish Libraries <br />&nbsp;&nbsp;&nbsp;Caroline R. Miller <br />&nbsp;&nbsp;&nbsp;Elizabeth Vernon, Alt </p><p>Association of Research Libraries <br />&nbsp;&nbsp;&nbsp;Duane E. Webster <br />&nbsp;&nbsp;&nbsp;Julia Blixrud, Alt </p><p>Auto-Graphics, Inc. <br />&nbsp;&nbsp;&nbsp;Paul Cope </p><p>Barnes &amp; Noble, Inc. <br />&nbsp;&nbsp;&nbsp;Douglas Cheney </p><p>Book Industry Communication <br />&nbsp;&nbsp;&nbsp;Brian Green </p><p>California Digital Library <br />&nbsp;&nbsp;&nbsp;Daniel Greenstein <br />&nbsp;&nbsp;&nbsp;John Kunze, Alt </p><p>Cambridge Information Group <br />&nbsp;&nbsp;&nbsp;Michael Cairns <br />&nbsp;&nbsp;&nbsp;Matthew Dunie, Alt </p><p>College Center for Library Automation (CCLA) <br />&nbsp;&nbsp;&nbsp;Richard Madaus <br />&nbsp;&nbsp;&nbsp;Ann Armbrister, Alt </p><p>Colorado State Library <br />&nbsp;&nbsp;&nbsp;Brenda Bailey-Hainer <br />&nbsp;&nbsp;&nbsp;Steve Wrede, Alt </p><p>CrossRef <br />&nbsp;&nbsp;&nbsp;Edward Pentz <br />&nbsp;&nbsp;&nbsp;Amy Brand, Alt </p><p>Davandy, L.L.C. <br />&nbsp;&nbsp;&nbsp;Michael J. Mellinger </p><p>DYNIX Corporation <br />&nbsp;&nbsp;&nbsp;Ed Riding <br />&nbsp;&nbsp;&nbsp;Gail Wanner, Alt </p><p>EBSCO Information Services <br />&nbsp;&nbsp;&nbsp;Gary Coker <br />&nbsp;&nbsp;&nbsp;Oliver Pesch, Alt </p><p>Elsevier <br />&nbsp;&nbsp;&nbsp;Paul Mostert </p><p>Endeavor Information Systems, Inc. <br />&nbsp;&nbsp;&nbsp;Sara Randall <br />&nbsp;&nbsp;&nbsp;Shelley Hostetler, Alt </p><p>Entopia, Inc. <br />&nbsp;&nbsp;&nbsp;Igor Perisic </p><p>Ex Libris, Inc <br />&nbsp;&nbsp;&nbsp;James Steenbergen </p><p>Fretwell-Downing Informatics <br />&nbsp;&nbsp;&nbsp;Robin Murray </p><p>Gale Group <br />&nbsp;&nbsp;&nbsp;Katherine Gruber <br />&nbsp;&nbsp;&nbsp;Justine Carson, Alt </p><p>Geac Library Solutions <br />&nbsp;&nbsp;&nbsp;Eric Conderaerts <br />&nbsp;&nbsp;&nbsp;Eloise Sullivan, Alt </p><p>GIS Information Systems, Inc. <br />&nbsp;&nbsp;&nbsp;Candy Zemon <br />&nbsp;&nbsp;&nbsp;Paul Huf, Alt </p><p>H.W. Wilson Company <br />&nbsp;&nbsp;&nbsp;Ann Case <br />&nbsp;&nbsp;&nbsp;Patricia Kuhr, Alt </p><p>Helsinki University Library <br />&nbsp;&nbsp;&nbsp;Juha Hakala </p><p>Index Data <br />&nbsp;&nbsp;&nbsp;Sebastian Hammer <br />&nbsp;&nbsp;&nbsp;David Dorman, Alt </p><p>INFLIBNET Centre <br />&nbsp;&nbsp;&nbsp;T A V Murthy <br />&nbsp;&nbsp;&nbsp;Rajesh Chandrakar, Alt </p><p>Infotrieve <br />&nbsp;&nbsp;&nbsp;Jan Peterson </p><p>Innovative Interfaces, Inc. <br />&nbsp;&nbsp;&nbsp;Gerald M. Kline <br />&nbsp;&nbsp;&nbsp;Betsy Graham, Alt </p><p>International DOI Foundation, The <br />&nbsp;&nbsp;&nbsp;Norman Paskin </p><p>Ithaka/JSTOR/ARTstor <br />&nbsp;&nbsp;&nbsp;David Yakimischak <br />&nbsp;&nbsp;&nbsp;Bruce Heterick, Alt </p><p>John Wiley &amp; Sons, Inc. <br />&nbsp;&nbsp;&nbsp;Eric Swanson </p><p>Library Binding Institute <br />&nbsp;&nbsp;&nbsp;Debra Nolan </p><p>Library Corporation, The <br />&nbsp;&nbsp;&nbsp;Mark Wilson <br />&nbsp;&nbsp;&nbsp;Ted Koppel, Alt </p><p>Library of Congress <br />&nbsp;&nbsp;&nbsp;Sally H. McCallum, Alt </p><p>Los Alamos National Laboratory <br />&nbsp;&nbsp;&nbsp;Richard E. Luce </p><p>Lucent Technologies <br />&nbsp;&nbsp;&nbsp;M.E. Brennan </p><p>Medical Library Association <br />&nbsp;&nbsp;&nbsp;Nadine P. Ellero <br />&nbsp;&nbsp;&nbsp;Carla J. Funk, Alt </p><p>MINITEX <br />&nbsp;&nbsp;&nbsp;Cecelia Boone <br />&nbsp;&nbsp;&nbsp;William DeJohn, Alt </p><p>Modern Language Association <br />&nbsp;&nbsp;&nbsp;Daniel Bokser <br />&nbsp;&nbsp;&nbsp;B. Chen, Alt </p><p>MuseGlobal, Inc. <br />&nbsp;&nbsp;&nbsp;Kate Noerr <br />&nbsp;&nbsp;&nbsp;Clifford Hammond, Alt </p><p>Music Library Association <br />&nbsp;&nbsp;&nbsp;Mark McKnight <br />&nbsp;&nbsp;&nbsp;David Sommerfield, Alt </p><p>National Agricultural Library <br />&nbsp;&nbsp;&nbsp;Eleanor G. Frierson <br />&nbsp;&nbsp;&nbsp;Gary K. McCone, Alt </p><p>National Archives and Records Administration <br />&nbsp;&nbsp;&nbsp;Nancy Allard </p><p>National Library of Medicine <br />&nbsp;&nbsp;&nbsp;Betsy L. Humphreys </p><p>National Security Agency <br />&nbsp;&nbsp;&nbsp;Kathleen Dolan </p><p>NFAIS <br />&nbsp;&nbsp;&nbsp;Marjorie Hlava </p><p>Nylink <br />&nbsp;&nbsp;&nbsp;Mary-Alice Lynch <br />&nbsp;&nbsp;&nbsp;Jane Neale, Alt </p><p>OCLC Online Computer Library Center <br />&nbsp;&nbsp;&nbsp;Thomas Hickey </p><p>Openly Informatics, Inc. <br />&nbsp;&nbsp;&nbsp;Eric Hellman </p><p>ProQuest Information and Learning <br />&nbsp;&nbsp;&nbsp;Thomas Hamilton <br />&nbsp;&nbsp;&nbsp;Carol Brent, Alt </p><p>Random House, Inc. <br />&nbsp;&nbsp;&nbsp;Laurie Stark </p><p>Recording Industry Association of America <br />&nbsp;&nbsp;&nbsp;Bruce Block <br />&nbsp;&nbsp;&nbsp;Carlos Garza, Alt </p><p>RLG <br />&nbsp;&nbsp;&nbsp;Lennie Stovel <br />&nbsp;&nbsp;&nbsp;Joan Aliprand, Alt </p><p>Sage Publications <br />&nbsp;&nbsp;&nbsp;Carol Richman <br />&nbsp;&nbsp;&nbsp;Richard Fidczuk, Alt </p><p>Serials Solutions, Inc. <br />&nbsp;&nbsp;&nbsp;Mike McCracken </p><p>SIRSI Corporation <br />&nbsp;&nbsp;&nbsp;Greg Hathorn <br />&nbsp;&nbsp;&nbsp;Slavko Manojlovich, Alt </p><p>Society for Technical Communication (STC) <br />&nbsp;&nbsp;&nbsp;Frederick O'Hara <br />&nbsp;&nbsp;&nbsp;Annette D. Reilly, Alt </p><p>Society of American Archivists <br />&nbsp;&nbsp;&nbsp;Lisa Weber </p><p>Special Libraries Association (SLA) <br />&nbsp;&nbsp;&nbsp;Foster J. Zhang </p><p>Synapse Corporation <br />&nbsp;&nbsp;&nbsp;Trish Yancey <br />&nbsp;&nbsp;&nbsp;Dave Clarke, Alt </p><p>TAGSYS, Inc. <br />&nbsp;&nbsp;&nbsp;John Jordon <br />&nbsp;&nbsp;&nbsp;Anne Salado, Alt </p><p>Talis Information Ltd <br />&nbsp;&nbsp;&nbsp;Terry Willan <br />&nbsp;&nbsp;&nbsp;Katie Anstock, Alt </p><p>The Cherry Hill Company <br />&nbsp;&nbsp;&nbsp;Cary Gordon </p><p>Thomson ISI <br />&nbsp;&nbsp;&nbsp;Carolyn Finn </p><p>Triangle Research Libraries Network <br />&nbsp;&nbsp;&nbsp;Mona C. Couts, Alt </p><p>U.S. Department of Commerce, NIST, Office of Information Services <br />&nbsp;&nbsp;&nbsp;Mary-Deirdre Coraggio </p><p>U.S. Department of Defense, DTIC (Defense Technical Information Center) <br />&nbsp;&nbsp;&nbsp;Richard Evans <br />&nbsp;&nbsp;&nbsp;Jane L. Cohen, Alt </p><p>U.S. DOE, Office of Scientific &amp; Technical Information <br />&nbsp;&nbsp;&nbsp;Ralph Scott <br />&nbsp;&nbsp;&nbsp;Karen Spence, Alt </p><p>U.S. Government Printing Office <br />&nbsp;&nbsp;&nbsp;Judith Russell <br />&nbsp;&nbsp;&nbsp;T.C. Evans, Alt </p><p>U.S. National Commission on Libraries and Information Science (NCLIS) <br />&nbsp;&nbsp;&nbsp;Robert Molyneux </p><p>VTLS, Inc. <br />&nbsp;&nbsp;&nbsp;Carl Grant, Alt </p><p>WebFeat <br />&nbsp;&nbsp;&nbsp;Todd Miller <br />&nbsp;&nbsp;&nbsp;Paul Duncan, Alt</p>
<h3 id="BoD">NISO理事会</h3>
<p>NISOがこの規格を承認した時点で、次の者が理事を務めた。</p>
<p>Jan Peterson, Chair <br />&nbsp;&nbsp;&nbsp;Infotrieve </p><p>Carl Grant, Vice Chair/Chair-Elect <br />&nbsp;&nbsp;&nbsp;VTLS, Inc. </p><p>Beverly C. Lynch, Immediate Past Chair <br />&nbsp;&nbsp;&nbsp;UCLA Graduate School of Education &amp; Information Studies </p><p>Michael J. Mellinger, Treasurer <br />&nbsp;&nbsp;&nbsp;Davandy, L.L.C. </p><p>Patricia R. Harris, Executive Director/Secretary <br />&nbsp;&nbsp;&nbsp;National Information Standards Organization </p><p>Douglas Cheney <br />&nbsp;&nbsp;&nbsp;Barnes &amp; Noble, Inc. </p><p>Brian Green <br />&nbsp;&nbsp;&nbsp;BIC/EDItEUR </p><p>Daniel Greenstein <br />&nbsp;&nbsp;&nbsp;California Digital Library </p><p>Deborah Loeding <br />&nbsp;&nbsp;&nbsp;The H.W. Wilson Company </p><p>Richard E. Luce <br />&nbsp;&nbsp;&nbsp;Los Alamos National Laboratory </p><p>Robin Murray <br />&nbsp;&nbsp;&nbsp;Fretwell- Downing Informatics </p><p>James Neal <br />&nbsp;&nbsp;&nbsp;Columbia University </p><p>Oliver Pesch <br />&nbsp;&nbsp;&nbsp;EBSCO Information Services </p><p>Patricia Stevens (SDC Chair) <br />&nbsp;&nbsp;&nbsp;OCLC, Inc. </p><p>Eric Swanson <br />&nbsp;&nbsp;&nbsp;John Wiley &amp; Sons, Inc.</p>
<h3 id="h2_5"><a name="AC">ANSI/NISO Z39.86 諮問委員会</a></h3>
<p>2002年のこの規格の承認に続き、このドキュメントの維持及び拡張を管理するために諮問委員会が設立された。次に挙げる個人は、この規格のこのバージョンの準備中に委員会を構成したメンバーである。</p>
<ul>
<li>Thomas Kjellberg Christensen &ndash; The Danish National Library for the Blind</li>
<li>Markus Gylling &ndash;  the DAISY Consortium and the Swedish Library of Talking Books and Braille</li>
<li>Markku Hakkinen &ndash; the DAISY for All Project/, DAISY Consortium</li>
<li>George Kerscher, co-Chair&ndash; the DAISY Consortium and Recording for the Blind &amp; Dyslexic</li>
<li>Tom McLaughlin &ndash;  National Library Service for the Blind and Physically Handicapped</li>
<li>Michael Moodie, co-Chair &ndash;  National Library Service for the Blind and Physically Handicapped</li>
<li>David Pawson &ndash;  the Royal National Institute of the Blind</li>
<li>James Pritchett &ndash;  Recording for the Blind &amp; Dyslexic</li>
<li>Lloyd Rasmussen &ndash;  National Library Service for the Blind and Physically Handicapped</li>
<li>Jennifer Sutton, scribe</li>
</ul>
<h2 id="h2_5a"><a name="Ack">謝辞</a></h2>
<p>諮問委員会は次に挙げる個人によるこの規格の継続的な開発に対する大いなる貢献に感謝する。特に Ole Holst Andersen は彼の時間と専門知識を大いに提供してくれた。DAISYコンソーシアムのXML技術ワーキンググループも、DTBook DTDの使用について優れたフィードバックを提供し、改善を必要とする箇所を特定した。</p>
<p>Ole Holst Andersen, Danish National Library for the Blind; Jon Beatty, Minnetonka Software, Inc.; Harvey Bingham; Don Breda, American Council of the Blind; Sean Brooks, Canadian National institute for the Blind; John Bryant, National Library Service for the Blind and Physically Handicapped; Curtis Chong, National Federation of the Blind; John Cookson, National Library Service for the Blind and Physically Handicapped; Keith Creasy, American Printing House for the Blind; Tim Curtin, gh; Marisa de Meglio, the DAISY for All Project;, DAISY Consortium; Guillaume du Bourguet, BrailleNet Association; Jim Dust, Telex Communications Corporation; Daniel Farrington, Dolphin Audio Publishing; Dan Germann, LR Sound; Al Gilman; Luis Gutierrez, American Foundation for the Blind; Diana Hiorth Persson, Dolphin Audio Publishing; John Kibitlewski, gh; Jesper Klein, Swedish Library of Talking Books and Braille; Johan Knol, IDUNA Electronics BV; Brad Kormann, National Library Service for the Blind and Physically Handicapped; Kathy Korpolinski, Recording for the Blind &amp; Dyslexic; Dominic Labbé, VisuAide, Inc.; Chris Lehn, Telex Communications Corporation; Lynn Leith, Canadian National Institute for the Blind; Olaf Mittelstaedt, Swiss Library for the Blind and Visually Handicapped; Brandon Nelson, Canadian National Institute for the Blind; Laust Skat Nielsen, Danish National Library for the Blind; Tatsuo Nishizawa, Plextor; Joe Said, gh; Janina Sajka, American Foundation for the Blind; Gregg Savage, Talking Book Publishers, Inc.; Dave Schleppenbach, gh; Per Sennels, National Resource Center for Special Education of the Visually Impaired (Norway); Sheela Sethuraman, CAST; Charles Steaderman; Jeff Suttor, SUN Microsystems; Niels Thögersen, Danish Institute for the Blind; Chris von See, TechAdapt; Christian Wallin, Danish National Library for the Blind; Chris Wilder-Smith, CAST.</p>
<p><a href="#toc">目次</a></p>
<h1 id="h1_4"><a name="GenInfo">1. 一般事項</a></h1>
<h2 id="h2_6"><a name="Purpose">1.1 この規格の目的とスコープ</a></h2>
<p class="sstatus">(このセクションは<a href="#d-inform">参考情報である</a>（informative）。)</p>
<p id="para_13">この規格は、全盲者、視覚障害者、身体障害者、学習障害者、その他のプリントディスアビリティのある<a href="#d-reader">読者（Reader）</a>のためのデジタル録音図書（<a href="#d-dtb">DTB</a>）の仕様を規定するものである。その目的は、<a href="#d-targetpop">目標母集団（Target population）</a>
にコンテンツと<a href="#d-playsys">再生システム（Playback System）</a>を提供するサービス組織やベンダーの枠を超えた相互運用性を確保することである。</p>
<p id="para_14">この規格は、主にDTBを構成するファイル群とそれらの相互関連性を規定する仕様を提供する。また、それらは、ファイル要件に関連したプレーヤー（Player）のパフォーマンスとユーザー（User）要件で定義された領域でのプレーヤー（Player）の挙動の２つの領域において、DTBの<a href="#d-playback">再生（Playback）</a>デバイスの仕様を規定する仕様も含まれている。</p>
<p><a href="#toc">目次</a></p>
<h2 id="h2_7"><a name="Def">1.2 定義</a></h2>
<p class="sstatus">（このセクションは<a href="#d-norm">規範的である</a>
（Normative）。）</p>
<p id="para_15">次に挙げる略語、頭文字、フレーズ、用語は、この規格において以下で定義されるように使用される。以下の定義及びこの規格全体をとおして、ブラケット［角かっこ］で囲まれた項目は、セクション17「<a href="#Ref">その他の仕様/ドキュメントへの参照</a>」のエントリに対応する。そこでは、それぞれの参照についてフルURLも提供される。</p>
<dl id="dl_1">
<dt id="dt_1"><a name="d-access">アクセス可能である（Accessible）</a></dt>
<dd id="dd_1">目標母集団（Target population）によって完全に使用可能である。</dd>
<dt id="dt_2"><a name="d-css">CSS</a></dt>
<dd id="dd_2"><a href="#CSS">Cascading Style Sheets</a>
<a href="#CSS">[CSS]</a>
はHTMLまたは<a href="#d-xml">XML</a>ドキュメントにスタイル（例えば、フォント、色、スペース、書式など）を追加するためのメカニズムである。</dd>
<dt id="dt_3"><a name="d-drm">DRM</a></dt>
<dd id="dd_3"><em>デジタル著作権管理（Digital Rights Management）</em>は、知的財産がデジタル形式でエンコードされ、配布される時にそれを保護するツールと処理のシステムである。</dd>
<dt id="dt_4"><a name="d-dtb">DTB</a></dt>
<dd id="dd_4">この規格のこの仕様に準拠した<em>デジタル録音図書（Digital Talking Book）</em>コンテンツデータセット。</dd>
<dt id="dt_5"><a name="d-dtbook">DTBook</a></dt>
<dd id="dd_5">
<a href="#d-dtb">DTB</a>のテキストコンテンツのためにマークアップを定義した<a href="#d-xml">XML</a>
要素セット (dtbook.dtd) 。</dd>
<dt id="dt_6"><a name="d-dtd">DTD</a></dt>
<dd id="dd_6">特定用途のために許容される<a href="#d-xml">XML</a>マークアップを定義するルールを機械可読形式及び人が読める形式で格納した<em>文書型定義（Document Type Definition）</em>ファイル。</dd>
<dt id="dt_7"><a name="d-fixed">FIXED</a></dt>
<dd id="dd_7">XML要素の属性の定義で使用される場合、その属性は<a href="#d-dtd">DTD</a>で規定された単一で、固定された値をもつことを意味する。<a href="#d-implied">IMPLIED</a>
と<a href="#d-required">REQUIRED</a>も参照すること。</dd>
<dt id="dt_8"><a name="d-fragid">フラグメント識別子（Fragment Identifier）</a></dt>
<dd id="dd_8">ドキュメント内の名前付きの場所をアドレス指定する方法。カレントのドキュメント内を参照する場合、参照部分は、 "#"で始まる名前付きのターゲットである。別のドキュメントをアドレス指定する場合については、<a href="#d-uri">URI</a>を参照すること。</dd>
<dt id="dt_9"><a name="d-globalnav">グローバルナビゲーション（Global navigation）</a></dt>
<dd id="dd_9"><a href="#d-ncx">NCX</a>によって可能となったあるドキュメントのユーザーが選択した部分への移動。ナビゲーションターゲットは、ドキュメントの階層構造を表す見出しか、ページ、ノート、サイドバーなどの特定のポイントを表してもよい（<a href="#d-may">May</a>
）。</dd>
<dt id="dt_11"><a name="d-implied">IMPLIED</a></dt>
<dd id="dd_11">XML要素の属性の定義で使用される場合、その属性の使用は任意であり、デフォルト値が提供されないことを意味する。<a href="#d-fixed">FIXED</a>と<a href="#d-required">REQUIRED</a>
を参照すること。</dd>
<dt id="dt_12"><a name="d-inform">参考情報である（Informative）</a></dt>
<dd id="dd_12">背景や説明を提供する。<em><a href="#d-norm">規範的である（Normative）</a></em>と対照である。</dd>
<dt id="dt_13"><a name="d-locnav">ローカルナビゲーション（Local navigation）</a></dt>
<dd id="dd_13"><!-- 2004-04-06 MM Added mention of time jumps --><a href="#d-ncx">NCX</a>によって提供されるより細かい粒度のドキュメント内の移動 。例えば、パラグラフやセンテンスによるナビゲーション、または表やネストされたリストの中など。その<a href="#d-tcf">テキストコンテンツファイル（Textual Content File）</a>や<a href="#d-smil">SMIL</a>ファイルによって正確なローカルナビゲーション（Local navigation）が制御できる。粒度は、テキストコンテンツファイルのマークアップ度、または<a href="#d-smil">SMIL</a>ファイルに適用される同期のレベルによって制約される。時間ベースの動き（例えば、アナログカセットのような早送りや巻き戻し、または指定した間隔でタイムジャンプなど）も実装されてもよい（May）。</dd>
<dt id="dt_14"><a name="d-manifest">Manifest</a></dt>
<dd id="dd_14">パッケージファイル（Package File）の構成要素で、<em>Manifest</em>は<a href="#d-dtb">DTB</a>
内にある全てのファイルを一覧する。</dd>
<dt id="dt_15"><a name="d-may">してもよい（May）</a></dt>
<dd id="dd_15">規範的な（Normative）セクションでは、 用語<em>May</em>は、その行為が任意であることを意味する。</dd>
<dt id="dt_16"><a name="d-medunit">メディアユニット（Media Unit）</a></dt>
<dd id="dd_16"><a href="#d-reader">読者（Reader）</a>
に配布するために<a href="#d-dtb">DTB</a>を保存した単一のオブジェクト。例えば、単一のCD-ROMディスク。</dd>
<dt id="dt_17"><a name="d-must">しなければならない（Must）</a></dt>
<dd id="dd_17">規範的な（Normative）セクションでは、用語<em>Must</em>は、コンテンツや実装上の必須要件として解釈される。用語 <em><a href="#d-shall">Shall</a></em>
は <em>Must</em>と同じ定義である。</dd>
<dt id="dt_18"><a name="d-ncx">NCX</a></dt>
<dd id="dd_18"><em>Navigation Control file for <a href="#d-xml">XML</a>
applications</em>
(<em>NCX</em>) は、ページ番号、ノート、図などのように選択された要素への直接アクセスだけではなく、<a href="#d-dtb">DTB</a>の階層構造 への効率的で柔軟なアクセスを読者（Reader）に提供する。</dd>
<dt id="dt_19"><a name="d-norm">規範的である（Normative）</a></dt>
<dd id="dd_19">この規格への適合を確立するために満たされなければならない要件を明らかにする。または、推奨事項や任意の行動方針を提供する。推奨事項、または任意の機能については、適合性は実装の事実に依存しない、しかし、実装されている場合、その実装はこの規格に規定されているとおりである。<em><a href="#d-inform">参考情報である（Informative）</a></em>
と対照である。規範的なセクション内のノートは参考情報（Informative）かもしれない。</dd>
<dt id="dt_20"><a name="d-oebf">OEBF</a></dt>
<dd id="dd_20">Open eBook Forum™ <a href="#OEBF">[OEBF]</a>
は規格を策定・維持し、電子書籍の成功した採用を促進するためにつくられた組織である。<em>Open eBook Publication Structure Version 1.2 </em>は、紙媒体から電子媒体に変換したときの本のコンテンツを表現するための仕様を提供する。この<a href="#d-dtb">DTB</a>
規格はその仕様のサブセット（パッケージファイル（ Package File））を使用している。 </dd>
<dt id="dt_21"><a name="d-opf">OPF</a></dt>
<dd id="dd_21">Open eBook Forum Package File。<em><a href="#d-pacfile">パッケージファイル（Package File）</a></em>を参照すること。</dd>
<dt id="dt_22"><a name="d-pacfile">パッケージファイル（Package File）</a></dt>
<dd id="dd_22"><em>Open eBook Forum Package File (OPF)</em>はoebpkg12.dtdに準拠した<a href="#d-xml">XML</a>
ファイルである。oebpkg12.dtdには  <a href="#d-dtb">DTB</a>に関する管理情報や、それを構成するファイル群についての情報、そして、そのファイル群が相互にどのように関連づけられているかについての情報を格納している。</dd>
<dt id="dt_23"><a name="d-playback">再生（Playback）</a></dt>
<dd id="dd_23">実装に関しては、 <em>再生（Playback）</em>の際に<a href="#d-dtb">DTB</a>コンテンツを処理するために使用される方法を参照する。<em>再生（Playback）</em>はコンテンツに応じ、再生システム（Playback System）がサポートする音声、点字、大活字を合成音声を含めてもよい（May）。</dd>
<dt id="dt_24"><a name="d-playsys">再生システム（Playback System）</a></dt>
<dd id="dd_24"><a href="#d-dtb">DTB</a>のコンテンツを<a href="#d-reader">読者（Reader）</a>
に描写するハードウェア/ソフトウェアプラットフォーム。<em>プレーヤー（Player）</em>と同義。</dd>
<dt id="dt_25"><a name="d-player">プレーヤー（Player）</a></dt>
<dd id="dd_25"><em><a href="#d-playsys">再生システム（Playback System）</a></em>
を参照すること。</dd>
<dt id="dt_26"><a name="d-reader">読者（Reader）</a></dt>
<dd id="dd_26">デジタル録音図書を読む人。<em>ユーザー（User）</em>と同義である。</dd>
<dt id="dt_27"><a name="d-required">REQUIRED</a></dt>
<dd id="dd_27">XML要素の属性の定義で使用される場合、属性は必ず提供されなければならない（Must）ことを意味する。<a href="#d-fixed">FIXED</a>と<a href="#d-implied">
IMPLIED</a>を参照すること 。</dd>
<dt id="dt_28"><a name="d-shall">しなければならない（Shall）</a></dt>
<dd id="dd_28"><em><a href="#d-must">しなければならない（Must）</a></em>
を参照すること。</dd>
<dt id="dt_29"><a name="d-should">するべきである（Should）</a></dt>
<dd id="dd_29">規範的な（Normative）セクションでは、用語<em>should</em>はその行為が推奨されるが必須ではないことを意味する。</dd>
<dt id="dt_30"><a name="d-smil">SMIL</a></dt>
<dd id="dd_30">同期マルチメディア統合言語（Synchronized Multimedia Integration Language）<a href="#ref-SMIL">[SMIL]</a>はこの規格で、複数のメディア内のコンテンツの同期されたプレゼンテーションを制御するために使用されるW3C勧告（SMIL 2.0）である。</dd>
<dt id="dt_31"><a name="d-spine">Spine</a></dt>
<dd id="dd_31">パッケージファイル（Package File）のコンポーネント。<em>Spine</em>は、<a href="#d-dtb">DTB</a>内の<a href="#d-smil">SMIL</a>
ファイルをデフォルトの読む順番でリスト化する。</dd>
<dt id="dt_32"><a name="d-targetpop">目標母集団（Target population）</a></dt>
<dd id="dd_32"><em>目標母集団（Target population）</em>は、全盲者、視覚障害者、身体障害者、学習障害者、その他のプリントディスアビリティの読者（Reader）で構成されている。</dd>
<dt id="dt_33"><a name="d-tcf">テキストコンテンツファイル（Textual Content File）</a></dt>
<dd id="dd_33">ISO/IEC 10646 <a href="#ISO10646">[ISO 10646]</a>で規定される文字集合による対象ドキュメントのコンテンツ。 <a href="#d-dtbook">DTBook</a>
<a href="#d-dtd">DTD</a>に適合した<a href="#d-xml">XML</a>
マークアップに適用される。</dd>
<dt id="dt_34"><a name="d-tsm">TSM</a></dt>
<dd id="dd_34">一定のピッチを維持しつつ、再生（Playback）速度（実際の時間よりもより早いか、または、より遅く）を変化させるタイムスケースの変更。</dd>
<dt id="dt_35"><a name="d-uri">URI</a></dt>
<dd id="dd_35"><em>Uniform Resource Identifier</em>
は、ドキュメント、画像、音声ファイルなどのリソースを識別するためのコンパクトな文字列である。URIは、他のドキュメントまたはファイルの全体もしくは一部分を識別する方法として使用され、DTB内で様々なXMLの要素の属性の値としてもっともよく現れるだろう。この仕様の目的として、URIはRFC 2396 <a href="#RFC2396">[RFC 2396]</a>に定義された文法を厳守しなければならない（Must）。<em><a href="#d-uri">URI</a></em>には、対象となるドキュメント内の名付けられたアンカー名と一致する接頭辞"#"で始まる<a href="#d-fragid">フラグメント識別子（Fragment Identifier）</a>を含めてもよい（May）。<em><a href="#d-fragid">フラグメント識別子（Fragment Identifier）</a></em>
を参照すること。</dd>
<dt id="dt_36"><a name="d-user">ユーザー（User）</a></dt>
<dd id="dd_36"><em><a href="#d-reader">読者（Reader）</a></em>を参照すること 。</dd>
<dt id="dt_37"><a name="d-xml">XML</a></dt>
<dd id="dd_37">Extensible Markup Language <a href="#XML">[XML]</a>
は構造化された情報を格納するファイルをマークアップするための規格化された言語である。</dd>
<dt id="dt_38"><a name="d-xsl">XSL</a></dt>
<dd id="dd_38">Extensible Stylesheet Language は <a href="#d-xml">XML</a>
ドキュメントをどのように変換し、再編制するのか [<a href="#d-xslt">XSLT</a>]を記述し、そして、それからどのようにスクリーン、携帯式のデバイス、紙、音声プレゼンテーションのために構成するか<a href="#XSL">[XSL]</a>を記述することができるかを記述する一連のWorldwide Web Consortium の勧告である。</dd>
<dt id="dt_39"><a name="d-xslt">XSLT</a></dt>
<dd id="dd_39"><a href="#d-xml">XML</a>ドキュメントを他の XML ドキュメントに変換するための言語。<a href="#XSLT">[XSLT]</a>
は XSL の一文として使用するために設計された。<em><a href="#d-xsl">XSL</a></em>を参照すること。</dd>
</dl>
<p id="para_15n"><a href="#toc">目次</a></p>
<h2 id="h2_8"><a name="Strategy">1.3 戦略</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_16">この規格は、幅広く使用されている様々な規格や仕様に基づいている。それにはWorld Wide Web Consortium とOpen eBook Forum™の規格や仕様も含まれている。適用可能であり、適切である規格や仕様が存在する場合はいつもその規格や仕様が使用された。これらの規格と技術の使用は、その機能の追加を促進することが主な目的であるが、同時に目標母集団（Target population）を対象とするこの規格の迅速で継続的な適用を促進することを意図している。</p>
<p id="para_16n"><a href="#toc">目次</a></p>
<h2 id="h2_9">1.4 <a name="Access">アクセシビリティの問題</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_17">デジタル録音図書（Digital Talking Book）のファイル、ストリーム、変換プロセス及び<a href="#d-player">プレイヤー（Player）</a>
は、そのコンテンツを様々な能力や障害をもった人々に提供するために設計された。<a href="#d-user">ユーザー（User）</a>は印刷された文書にアクセスすることができないため、従来の印刷物以外の形態による提供を可能とするために設計された。 肉声による音声、点字、合成音声、<a href="#d-user">ユーザー（User）</a>がサイズを指定できる大活字、プレイヤー（Player）の視覚的なディスプレイにあわせてテキストが改行するリフロー、テキストと音声の同期、その他の学習障害のある人のための拡張を含め、ファイル、ストリーム、変換プロセス、そして、プレーヤー（Player）が情報を、可能な限り多くのプレゼンテーション方式によって、ファイル、ストリーム、変換プロセス、そしてプレイヤー（Player）ができる限り情報を利用可能にすることがユーザー（User）にとって最も利益があることである。手先が器用な人からそうでない人まで幅広く様々な人々が、プレイヤー（Player）を制御することが可能であるならば、ユーザー（User）も大いにその恩恵をうけるだろう。</p>
<p id="para_18">この規格を開発している間に、アドバイサリードキュメントの <a href="#Playfeat">DTB Playback Device Features List</a>
が作成された。これはこの規格の<a href="#d-norm">規範的</a>な部分ではないが、プレイヤー（Player）の開発者がそれに具体化されたアクセシビリティ概念を理解するのに有用だろう。</p>
<p id="para_19">この規格で規定するものに加えて、Worldwide Web Consortium の Web Accessibility Initiative によって作成されたガイドラインとその実装方法集（Techniques）から価値ある追加の情報を入手することができる。現時点では、以下のドキュメントが含まれる。</p>
<ul id="ul_23">
<li id="li_135"><a href="#WCAG">Web Content Accessibility Guidelines</a></li>
<li id="li_136"><a href="#ATAG">Authoring Tool Accessibility Guidelines</a></li>
<li id="li_137"><a href="#UAAG">User Agent Accessibility Guidelines</a></li>
</ul>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_20">全てのプレゼンテーション方式が全てのプレーヤー（Player）やドキュメントで利用可能になるわけではないだろうが、可能な限りいつでも、多様な同等の表現方法をユーザー（User）が利用できるようにすることを強く推奨する。歴史的に、障害のある特定のユーザー（User）グループを対象に販売される製品が時折有効ではないことがあることが分かっている。全ての目標グループにとって全てのプレーヤが<a href="#d-access">アクセス可能である（Accessible）</a>必要は必ずしもない。しかし、この規格に準拠する全てのデバイスは、それが宣伝されている目標母集団（Target population）にとってアクセス可能（Accessible）でなければ<a href="#d-must">ならない（Must）</a>。また、DTB製作ツールと作業工程を障害者にとってアクセス可能（Accessible）にすることを強く推奨する。</p>
<p id="para_20n"><a href="#toc">目次</a></p>
<h2 id="h2_10"><a name="Rel">1.5 他の仕様との関係</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_21">この規格は、ここで参照される規格と仕様の特定のバージョンに基づいている。それらは注記した場合を除き、このドキュメントで定義されているとおりに使用される。これらの規格と仕様が新しくなったり、異なるバージョンがでてきたことにより、参照される仕様が改良または置き換えられることになったしても、その変更はこの規格に直接適用されない。この規格への適合は、これを書いている時点で効力のある規格と仕様のバージョンに基づいている。</p>
<h3 id="h3_8"><a name="Uni">1.5.1 Unicode との関係</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_22">再生システム（Playback System）は、少なくとも、UTF-8とUTF-16のエンコーディングに対応しなくてはならない（Must）。XML仕様 <a href="#XML">[XML]</a>
のセクション2.2を参照すること 。</p>
<p id="para_22n"><a href="#toc">目次</a></p>
<h2 id="h2_11">1.6 <a name="Patents">特許権</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_23">この規格の実装に、特許権によって保護された1つ以上の発明を使用してもよい（May）。そのような権利を主張する全ての企業は、その権利の下で合理的かつ非差別的な条件（reasonable and non-discriminatory terms and conditions : RAND条件）により、全ての申請者にライセンスを与えることに同意していると信じられている。</p>
<p id="para_24">DTBシステムまたはそのいずれかのコンポーネントの製作者は、彼らが使用する関連規格によって定義された技術やこの規格で参照された仕様の全てに、適切なライセンスを取得することについて責任を負う。この標準委員会が認識していない適用可能な特許があるかもしれない。実装が特許権を侵害していないことを保証するのは、実装者の責任である。</p>
<!-- Editorial revision April 21, 2007 by KK

   removed "section 14," from link text, moved period into link text for consistency

-->

<p id="para_25">デジタル録音図書として配布される作品で具体化される知的財産の保護を取り巻く問題は、セクション14「 <a href="#DRM">デジタル著作権管理（Digital Rights Management : DRM）</a>
」で議論されている</p>
<p id="para_25n"><a href="#toc">目次</a></p>
<h2 id="h2_12">1.7 <a name="Maint">保守機関</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_26"><a href="#MaintDes">付録2</a>で示された維持機関は、この規格のレビューや修正の提案に基づく行動について責任を負う。この規格の実装に関する質問や情報の要求は、この保守機関に送るべきである。</p>
<!--

<p id="para_27">A list of errata, proposed changes, and maintenance activities related to this standard will be maintained at http://www.loc.gov/nls/z3986/2005/errata.html.</p>

-->

<p id="para_27">この規格に関連する正誤表、提案された変更、保守活動のリストは、<a href="http://www.daisy.org/z3986/2005/errata.html">http://www.daisy.org/z3986/2005/errata.html</a>
で維持される 。</p>
<p id="para_27n"><a href="#toc">目次</a></p>
<h1 id="h1_5"><a name="Over">2. はじめに</a></h1>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_28"><!-- jp 2004-03-10[Removed last sentence of paragraph id=para_28]-->デジタル録音図書（DTB）は代替メディア、つまり、肉声、合成音声、点字ディスプレイ、視覚的ディスプレイ（例えば、大活字など）を通して目標母集団（Target population）に情報を提供するために配置された電子ファイルの集合である。これらのファイルがこの規格に従って作成され、DTBに組み込まれるならば、迅速で柔軟なナビゲーション、ブックマーキング、ハイライト、キーワード検索、オンデマンドの単語のスペリング、そして選択した項目（例えば、フットノート、ページ番号など）のプレゼンテーションのユーザー（User）による制御のような、幅広い機能を可能にするだろう。これらの機能によって、視覚的及び身体的に傷害のある読者（Reader）がDTB内の情報に柔軟かつ効率的にアクセスすることが可能になる。そして、学習障害や読字障害のある目がみえるユーザー（User）も複数な感覚を通じて情報を受け取ることができる。これらの機能の完全な考察については、この規格の基になったユーザー（User）要件ドキュメントである<a href="#Navfeat">"Document Navigation Features List" [Navigation Features]</a>を参照すること。この規格の開発中に書かれたドキュメント、 <a href="#Theory">Theory Behind the DTBook DTD [DTBook Theory]</a>
もDTBのナビゲーション機能についてある程度詳細に説明をしている。DTBのコンテンツは音声のみのものから、音声、テキスト、画像を組み合わせたもの、テキストのみのものまで様々である。</p>
<p id="para_29">DTBプレーヤー（Player）も様々な機能を備えたものが生産されるだろう。最もシンプルなものは、音声のみの機能を備えたポータブルデバイスかもしれない。より複雑なポータブルプレーヤー（Player）は、録音された肉声の音声データの再生だけではなく、合成音声によるテキスト読み上げ機能も備えていることが考えられる。最も包括的な再生システム（Playback System）は、PCベースであり、視覚及び音声の出力、合成音声によるテキスト読み上げ機能、点字ディスプレイへの出力に対応することが期待される。前述の <a href="#Playfeat">Playback Device Features List [Player Features] </a>は3つのタイプの再生（Playback）デバイスにわたる幅広い機能について委員会の順位を提示している。</p>
<p id="para_30">DTBを構成するファイルは、以下に説明されるような10のカテゴリに分類される。</p>
<dl id="dl_2">
<dt id="dt_40"><a href="#d-pacfile">パッケージファイル（Package File）</a></dt>
<dd id="dd_40">Open eBook Publication Structure 1.2 から作成されたパッケージファイル（Package File）は、DTBとそれを構成するファイルに関する管理情報を格納している。それは、妥当な<a href="#d-xml">XMLの</a>バージョン1.0のファイルであり、DTBを説明するメタデータのセット、DTBを構成するファイルのリスト（<em><a href="#d-manifest">Manifest</a></em>
）、ドキュメントの初期設定として読む順序を定義する<em><a href="#d-spine">Spine</a></em>を格納する。セクション3「<a href="#OPF">パッケージファイル（Package File）</a>」を参照すること。"</dd>
<dt id="dt_41"><a href="#d-tcf">テキストコンテンツファイル（Textual Content File）</a></dt>
<dd id="dd_41">DTBは、この規格で定義された文書型定義（<a href="#d-dtd">DTD</a>)である<a href="#d-dtbook">dtbook.dtd</a>に従ってXML 1.0 ファイルとしてマークアップされたドキュメントのテキストの一部または全てを格納している（<a href="#DTBookDTD">付録1</a>を参照すること 。）。テキストコンテンツファイル（Textual Content File）によって、正しく設定された再生（Playback）デバイスが要求に応じて単語のスペルを綴ったり、キーワード検索を実行したり、細かなナビゲーションを提供することが可能になる。また、点字ディスプレイ、合成音声、または画面拡大ソフトウェアを通じて直接アクセスすることもできる。セクション4 「 <a href="#Text">テキストのためのコンテンツ形式</a>
」を参照すること。 </dd>
<dt id="dt_42">音声ファイル</dt>
<dd id="dd_42">DTBは指定された音声ファイル形式の１つでエンコードされた音声ファイルとしてドキュメントの肉声または合成音声の録音を包含することができる。セクション5 「 <a href="#Audio">音声ファイル形式</a>」はこの規格が指定する形式を提示している。 </dd>
<dt id="dt_43">画像ファイル</dt>
<dd id="dd_43">テキストと音声に加え、DTBは視覚ディスプレイを備えたデバイスで表示することができる画像を包含することができる。セクション6の「 <a href="#Image">画像ファイル形式</a>」はこの規格が指定する形式を一覧している。</dd>
<dt id="dt_44">同期ファイル</dt>
<dd id="dd_44">再生（Playback）中にDTBの異なるメディアファイルを同期するために、この規格は 、XML 1.0アプリケーションであるWorld Wide Web Consortium (W3C)の Synchronized Multimedia Integration Language (<a href="#d-smil">SMIL</a>
)の<a href="#ref-SMIL">SMIL 2.0</a>バージョンの使用を規定する。DTB SMILファイルは、メディアイベントの順序を定義する。各イベント時には、テキスト要素とそれに対応する音声クリップが追加の視覚的要素とあわせて同時に提示される。DTBプレーヤー（Player）は、音声プレゼンテーションのあるポイントへのアクセスと、音声を再生（Playback）する間のテキストコンテンツファイル（Textual Content File）における対応する位置の追跡に同期情報を使用する。この規格は、 <a href="#ref-SMIL">SMIL 2.0</a>仕様の一部を使用している。これらの問題の考察については、セクション7 「<a href="#SMIL">メディアファイルの同期</a>」を、DTD情報については、「 <a href="#DTBookDTD">付録1</a>」を参照すること。</dd>
<dt id="dt_45">ナビゲーションコントロールファイル</dt>
<dd id="dd_45">DTBシステムは、グローバルとローカルのナビゲーション、2つの方式に対応している。<a href="#d-globalnav">グローバルナビゲーション（Global navigation）</a>
-- 構造（章、節、サブセクション）による移動とページ、図、ノートのような他の選択されたポイントによる移動はNavigation Control file for XML applications （<a href="#d-ncx">NCX</a>）を通じて行われる。NCXは、ドキュメントの階層的な構造の動的なビューを提供する。それによって、ユーザー（User）は、ドキュメントの大きな区切りに対応する大きな単位の移動から、ドキュメントの詳細さによって決まる最も小さい単位の移動まで、ドキュメント内を移動することができる。テキスト、音声、そして、画像の要素はユーザー（User）にドキュメントの見出しを提供し、idベースのリンクは、対応する位置のSMILプレゼンテーションを指す。<a href="#DTBookDTD">付録1</a>は 、NCXのDTDに関する情報が含まれている。より細かなローカルナビゲーション（Local navigation）は、NCXでは取り扱わないが、テキストコンテンツファイル（Textual Content File）、SMILファイルを通じて、またはドキュメントやプレーヤー（Player）に左右されるが、音声プレゼンテーションを通した時間ベースの移動を通じて可能である。NCXに関連する仕様については、セクション8「<a href="#NCX">ナビゲーションコントロールファイル（NCX）</a>
」と<a href="#DTBookDTD">付録1</a>
の"NCX DTD"を参照すること。</dd>
<dt id="dt_46">ブックマーク/ハイライトファイル</dt>
<dd id="dd_46">この規格は、ユーザー（User）が設定した エクスポート可能なブックマークやハイライトをサポートしている。それはテキストノートや音声ノートも適用可能である。移動可能なブックマークやハイライト用のXML 1.0ファイルの仕様は、セクション9「 <a href="#Bkmk">移動可能なブックマークとハイライト</a>
」と<a href="#DTBookDTD">付録1</a>
の"DTD for Portable Bookmarks/Highlights"で提示されている。</dd>
<dt id="dt_47">リソースファイル</dt>
<dd id="dd_47">リソースファイルは、ナビゲーション情報の代替的な表現を提供する様々なテキストセグメント、音声クリップ、そして/または、画像ファイルを格納または参照する。例えば、フィードバックやドキュメント内のユーザー（User）の現在位置などである。それは印刷物にある手がかりを通して紙の本で通常提供されている情報を提供する。ファイルの仕様については、セクション10「<a href="#Resource">リソースファイル</a>
」および<a href="#DTBookDTD">付録1</a>
の"DTD for Resource File"を参照すること。</dd>
<dt id="dt_48">配布情報ファイル</dt>
<dd id="dd_48">大きく圧縮しても音声ファイルのファイルサイズが大きくなりすぎてしまう場合は、大きい本は複数の<a href="#d-medunit">メディアユニット（Media Unit）</a>に分割することが一般的だろう。セクション11「 <a href="#Dist">配布用のパッケージングファイル</a>」は、"distInfo"ファイルが、例えば全3枚のうちのdisk1のように、それぞれのSMILファイルの位置を特定のメディアユニット（Media Unit）にどのように対応づけるかを説明している。複数の本が同じメディアユニット（Media Unit）で配布される時、それを読者（Reader）に提示するためにdistInfo ファイルがそれぞれの本の情報をどのように格納するかについても説明している。<a href="#DTBookDTD">付録1</a>
の"Distribution Information DTD"は、 "distInfo"ファイルの文書型定義を提示している。</dd>
<dt id="dt_49">プレゼンテーションスタイル</dt>
<dd id="dd_49">セクション12「 <a href="#Style">プレゼンテーションスタイル</a>」は、 様々な媒体におけるDTBのプレゼンテーションを任意のユーザースタイルシートの使用によってどのように制御することができるかを説明している。</dd>
</dl>
<p id="para_30n"><a href="#toc">目次</a></p>
<h1 id="h1_6">3. <a name="OPF">DTBパッケージファイル（Package File）</a></h1>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_31">Open eBook Forum™（<a href="#d-oebf">OEBF</a>
）Publication Structure 1.2 から作成されたパッケージファイル（Package File）はDTBがどのようなファイルで構成されているか、そして、それらのファイルがどのように相互の関係を持っているかなどの管理情報を格納する。大部分がPublication Structureからのものであるこのセクションは、DTBにそれがどのように適用されているかを描きながら、例とともに各セクションの機能の概要のみを提供する。パッケージファイル（Package File）の完全な詳細については、<a href="#OEBF">OEBF</a>
Publication Structure 1.2の完全版のセクション2を参照すること。</p>
<p id="para_32">
Publication Structureは、パッケージファイル（Package File）の主要な部分について次にように説明する。</p>
<blockquote>
<ul id="ul_25">
<li id="li_140"><strong>パッケージID</strong>
- 全体としてのOEB出版物のための一意の識別子。</li>
<li id="li_141"><strong>メタデータ</strong>
-出版物のメタデータ（タイトル、著者、出版者など）。</li>
<li id="li_142"><strong>MANIFEST</strong>
-出版物を構成するファイル（ドキュメント、画像、スタイルシートなど）の一覧。Manifestには、この仕様ではサポートされていないタイプのファイルのフォールバックの宣言も含まれている。</li>
<li id="li_143"><strong>SPINE</strong>
-読み上げ順序を提供するドキュメントの配置。</li>
<li id="li_144"><strong>TOURS</strong>
-出版物を通しての代替の読み取り順序のセット。例えば、様々な読書の目的、読者（Reader）の専門知識のレベルなどにあわせた選択的視点によるものなど。</li>
<li id="li_145"><strong>GUIDE</strong>
- 例えば、目次、前書き、目録のような、出版物の基本的な構造的機能への参照のセット。</li>
</ul>
</blockquote>
<p id="para_33"><!-- TM 2004-07-23 added required @unique-identifier to example -->パッケージファイル（Package File）の略式の概要は次のとおりである。</p>
<pre><samp id="smp_1">&lt;?xml version="1.0"?&gt;

&lt;!DOCTYPE package PUBLIC "+//ISBN 0-9673008-1-9//DTD OEB 1.2 Package//EN"

	"oebpkg12.dtd"&gt;



&lt;package xmlns="http://openebook.org/namespaces/oeb-package/1.0/"

	unique-identifier="foo"&gt;

         &lt;metadata&gt;...&lt;/metadata&gt;

         &lt;manifest&gt;...&lt;/manifest&gt;

         &lt;spine&gt;...&lt;/spine&gt;

         &lt;tours&gt;...&lt;/tours&gt;

         &lt;guide&gt;...&lt;/guide&gt;

&lt;/package&gt;

</samp></pre>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_34">この規格に準拠したDTBは、パッケージファイル（Package File）をただ１つの含めなくてならない（Must）。 そのパッケージファイル（Package File）は、<a href="#OEBF">OEBF</a>
 Publication Structure 1.2 package DTD (oebpkg12.dtd) に準拠した妥当なXML 1.0ドキュメントでなければならず（Must）、その エンティティ参照 (oeb12.ent)と関連づけられなければならない（Must）。フル仕様のDTBと <a href="#OEBF">OEBF</a>パッケージファイル（Package File）のエンティティ参照はOEBF のウェブサイト <a href="#OEBF">[OEBF]</a>からダウンロードできる。パッケージファイル（Package File）は拡張子".<a href="#d-opf">opf</a>"とともに名付けられなくてはならない（Must）。DTBが複数のメディアユニット（Media Unit）にまたがっている場合、同一のパッケージファイル（Package File）がそれぞれのメディアユニット（Media Unit）に存在していなければならない（Must）。</p>
<p id="para_35">この規格に準拠したパッケージファイル（Package File）は、次の２つの例外を除き、<a href="#OEBF">OEBF</a>
Publication Structure 1.2のセクション2の全てに従わなくてはならない（Must）。</p>
<ul id="ul_24">
<li id="li_138">1. セクション2.3.1は適用されない。具体的には言えば、<a href="#OEBF">OEBF</a>
コア MIMEメディアタイプでないファイルのフォールバックのメカニズムをDTB の製作者や再生（Playback）デバイスは実装する必要はないということである。
</li>
<li id="li_139">2. Publication Structure のセクション2.4では、<code>spine</code>要素はメディアタイプ <em>text/x-oeb1-document</em>の<code>item</code>要素だけを参照してもよいと述べている。しかし、DTBのへの適用では、 <code>spine</code>はメディアタイプ <em>application/smil</em>の<code>item</code>
のみを参照しなければならない（Must）。</li></ul>
<p id="para_35_2"><!--MG 30 March, 2002  New para.-->#FIXED, として宣言されているとしても、名前空間 (<code>xmlns</code>) 属性とその値は、ドキュメントインスタンスにおいて明確に指定されなければならない（Must）。エンティティ宣言が内部のDTDサブセットでされなければならない（Must）。より詳細な情報については、セクション16.1 「<a href="#FileConform">一般的なファイル適合性要件</a>」を参照すること。</p>
<h2 id="h2_13">3.1 <a name="PkgId">パッケージの識別</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_37"><code>package</code>には<code>unique-identifier</code>属性の値を含めなくてはならない（Must）。これは、１つ以上の<code>dc:Identifier</code>
が１つのDTBのパッケージファイル（Package File）のメタデータに存在してもよく（May）、<code>unique-identifier</code>がどの<code>dc:Identifier</code>
要素がパッケージの主たる識別子を提供しているか指定しているため、求められるものである。<code>unique-identifier</code>の値は、そのid属性と<code>package</code>要素の子孫であるただ1つの<code>dc:Identifier</code>要素のid属性とを一致させなくてはならない（Must）。</p>
<p id="para_38">DTBの主たる識別子は、グローバルな一意でなければならない（Must）。</p>
<p class="sstatus" id="h3_16">（この例は、参考情報である（Informative）。）</p>
<!-- NB20050622 Added class attribute to above heading (h3_16) and converted to <p> -->
<p id="para_39">例 3.1:</p>
<pre><samp id="smp_2">

&lt;?xml version="1.0"?&gt;

&lt;!DOCTYPE package PUBLIC "+//ISBN 0-9673008-1-9//DTD OEB 1.2 Package//EN"

	"oebpkg12.dtd"&gt;

&lt;package xmlns="http://openebook.org/namespaces/oeb-package/1.0/" unique-identifier="uid"&gt;

    &lt;metadata&gt;

        &lt;dc-metadata...&gt;

            &lt;dc:Identifier id="uid" scheme="DTB"&gt;uk-rnib-db02006

            &lt;/dc:Identifier&gt;

....

&lt;/package&gt;

</samp></pre>
<h2 id="h2_14">3.2 <a name="PubMed">出版物メタデータ</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_40">パッケージファイル（Package File）のこの部分は、図書館における書誌レコードで普段見るようなDTBに関する情報を格納している。それには、出版者、版表示、著作権表示などのような原本出版物（一般的には印刷本）に関する情報に加え、DTBそのものに関するデータ（例えば、タイトル、著者、製作者、形式、ナレーターなど）が含まれている。</p>
<p id="para_41">パッケージファイル（Package File）は、ただ１つの<code>metadata</code>
要素を格納していなくてはならない（Must）。そして、その<code>metadata</code>
要素は、Dublin Core <a href="#DC">[DC]</a>
のメタデータを保持するただ1つの<code>dc-metadata</code>を格納しなくてはならず（Must）、<code>x-metadata</code>要素に補足メタデータを格納しなくてはならない（Must）。 <code>x-metadata</code>要素は、少なくとも1つの<code>meta</code>要素のインスタンスを格納しなくてはならない（Must）。そして、その<code>meta</code>要素の値を定義するために<code>name</code>と<code>content</code>
属性を使用する。（セクション3.2.3「 <a href="#XMeta">X-Metadata</a>
」を参照すること。）</p>
<h3 id="h3_18">3.2.1 <a name="DCM">Dublin Core メタデータ</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_42">準拠したDTB内のDublin Core メタデータの使用には、<a href="#OEBF">OEBF</a>
Publication Structure 1.2の次の記述に準拠しなくてはならない（Must）。</p>
<blockquote>
<p id="para_43"><code>dc-metadata</code>要素は、Dublin Core イニシアティブ（<a href="http://purl.org/dc/">http://purl.org/dc/</a>
）によって定義された特定の出版物レベルのメタデータを格納する。次の説明は利便性のために用意されたものであり、Dublin Coreの独自の定義が優先される（<a href="http://www.ietf.org/rfc/rfc2413.txt">http://www.ietf.org/rfc/rfc2413.txt</a>を参照せよ ）。</p>
<p id="para_44"><code>dc-metadata</code>要素は、あらゆるDublin Core 要素の任意の数のインスタンスを格納することができる。Dublin Core 要素名は、"dc:"の接頭辞に続き、先頭の文字が大文字で始まる。Dublin Core メタデータ要素は、任意の順序で存在してもよい（May）。同じ要素型（例えば、複数の<code>dc:Creator</code>要素）の複数のインスタンスを、他の<code>metadata</code>要素とともに意味を変更することなく散在させることができる。</p>
<p id="para_45"><!-- TM 2004-07-22 dc namespace version is 1.1 --><!-- MM March 19, 2004  Changed "metadata" to "dc-metadata"-->上位互換性を担保するため、OEBパッケージ内の<code>dc-metadata</code>要素は次の属性を持つことが求められる。</p>
<p><code>xmlns:dc="http://purl.org/dc/elements/1.1/"</code></p>
<p>及び</p>
<p><code>xmlns:oebpackage="http://openebook.org/namespaces/oeb-package/1.0/".</code></p>
</blockquote>
<p id="para_46">次は、Dublin core 要素の簡潔な定義である。より完全な説明については、Publication Structure と <a href="#DC">Dublin Core</a>そのものを参照すること。<code>xml:lang</code>属性と<code>id</code>属性は全ての"dc:..."要素に適用することができる。以下に詳述するように、追加属性は、いくつかの要素とともに使用することができる。全てのDublin Core 要素タイプは、<code>dc-metadata</code>の中であれば、繰り返してもよい（May）（1回以上出現してもよい）ことに注意すること。</p>
<ul id="ul_26">
<li id="li_146">dc:Title <ul id="ul_27"><li id="li_147"><!-- 2004-07-07 MM added subtitles -->内容: サブタイトルを含むDTBのタイトル。</li>
<li id="li_148">出現: 必須</li></ul></li>
<li id="li_149">dc:Creator <ul id="ul_28"><li id="li_150">内容: 出版物の知的内容の主たる著者または作成者の名前。</li>
<li id="li_151">出現: 任意（全てのドキュメントが知られた作成者を持つわけではない） - （推奨）</li>
<li id="li_152">追加属性: <ul id="ul_29"><li id="li_153">role -- （任意）作成者（例:著者、編集者（editor）） が行った役割。規範的な値のリストの詳細はPublication Structureを参照すること。</li>
<li id="li_154">file-as -- （任意）機械処理に適したコンテンツのの正規形</li>
</ul></li>
</ul></li>
<li id="li_155">dc:Subject <ul id="ul_30"><li id="li_156">内容: 出版物のコンテンツの主題。</li>
<li id="li_157">出現: 任意 - 推奨</li></ul></li>
<li id="li_158">dc:Description <ul id="ul_31"><li id="li_159">内容: 出版物の内容を説明する平文。</li>
<li id="li_160">出現: 任意</li></ul></li>
<li id="li_161">dc:Publisher<ul id="ul_32"><li id="li_162">内容: DTBを利用可能にする責任をもつエージェンシー。（<code>dtb:sourcePublisher</code>と<code>dtb:producer</code>を比較すること 。）</li>
<li id="li_163">出現: 必須</li></ul></li>
<li id="li_164">dc:Contributor<ul id="ul_33">
<li id="li_165">内容: <code>dc:Creator</code>に名を連ねている者の中で出版物への貢献が二次的な者。</li>
<li id="li_166">出現: 任意</li>
<li id="li_167">追加属性: <ul id="ul_34"><li id="li_168">role -- （任意）作成者（例:翻訳者、編集者（compiler）） が行った役割。規範的な値のリストの詳細はPublication Structureを参照すること。</li>
<li id="li_169">file-as -- （任意）機械処理に適したコンテンツのの正規形</li>
</ul></li>
</ul></li>
<li id="li_170">dc:Date<ul id="ul_35"><li id="li_171">内容: DTBの出版日。（<code>dtb:sourceDate</code>
と<code>dtb:producedDate</code>を比較すること）形式は<a href="#ISO8601">[ISO8601]</a>による。つまり、構文は、YYYY[-MM[-DD]]。四桁で表される年（必須）、続いて2桁で表される月（任意）、そして、月が表示されるなら、続けてその月の2桁で表される日付（任意）。</li>
<li id="li_172">出現: 必須</li>
<li id="li_173">追加属性: <ul id="ul_36">
<li id="li_174">event -- （任意） DTBの出版に関連する重要な出現。例えば複数の改訂を記述するための<code>dc:Date</code>の繰り返しは可。ベストプラクティスは<code>dtb:revision</code>と<code>dtb:revisionDate</code>を代わりに使用することである。</li>
</ul></li>
</ul></li>
<li id="li_175">dc:Type<ul id="ul_37"><li id="li_176">内容: DTB（すなわち、音声、テキスト、画像）の内容の性質。ベストプラクティスはDublin Coreで列挙されたリスト <a href="#DC-Type">[DC-Type]</a>
を使用して記述することである。</li>
<li id="li_177">出現: 任意</li></ul></li>
<li id="li_178">dc:Format<ul id="ul_38">
<li id="li_179">内容: DTBが製作された規格や仕様。この規格に準拠したDTBの<code>dc:Format</code>
の値は　"ANSI/NISO Z39.86-2005"の場合のみ有効である。</li>
<li id="li_180">出現: 必須</li></ul></li>
<li id="li_181">dc:Identifier<ul id="ul_39"><li id="li_182">内容: DTBを識別するための文字列または数値。この要素の１つのインスタンスは、<code>package</code>
の<code>unique-identifier</code>属性から参照されるが、このインスタンスには idを含めなければならない（Must）。</li>
<li id="li_183">出現: 必須</li>
<li id="li_184">追加属性: <ul id="ul_40"><li id="li_185">scheme -- （任意） 識別子を生成または割り当てるシステムまたは権威の名前。例えば、"DOI"、 "ISBN"、 "DTB"など。</li>
</ul></li></ul></li>
<li id="li_186">dc:Source<ul id="ul_41"><li id="li_187">内容:  DTBが由来するリソースへの参照（例えば、オリジナルの紙版の本や電子書籍など）。ベストプラクティスは、可能な場合にISBNを使用することである。</li>
<li id="li_188">出現: 任意 - 推奨</li></ul></li>
<li id="li_189">dc:Language<ul id="ul_42"><li id="li_190">内容: 出版物のコンテンツの言語。<a href="#RFC3066">[RFC 3066]</a>
言語コード。スウェーデン語: "sv" または "sv-SE"。英国英語: "en" または "en-GB"。米国英語: "en" または "en-US"。</li>
<li id="li_191">出現: 必須</li>
</ul></li>
<li id="li_192">dc:Relation<ul id="ul_43"><li id="li_193">内容: 関連するリソースへの参照。</li>
<li id="li_194">出現: 任意</li></ul></li>
<li id="li_195">dc:Coverage<ul id="ul_44"><li id="li_196">内容: リソースの内容の範囲。DTBで使用されることはないだろう。</li>
<li id="li_197">出現: 任意</li></ul></li>
<li id="li_198">dc:Rights<ul id="ul_45"><li id="li_199">内容: DTBに含まれる、またはかかわる権利管理に関する情報。（dtb:sourceRightsと比較すること。）</li>
<li id="li_200">出現: 任意</li></ul></li>
</ul>
<h3 id="h3_20">3.2.2 <a name="DTBID">DTB ID スキーム</a></h3>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_47">電子出版物を識別するために様々なスキームが利用可能である。DTBドメインでは、識別子の要件は、単純にグローバルな一意である可能性の高い方法で出版物を識別することである。一意性要件の主な目的は、ブックマークファイルの間でファイル名が衝突することを防ぐことである。</p>
<p id="para_48">この基本要件を満たすために、単純なDTB ID スキームが使用されるかもしれない。このスキームでDTB 識別子は、<a href="#ISO3166">[ISO 3166]</a>に記載されている2文字の国名コード、その国の中での一意なエージェンシーコード、そして、そのエージェンシー内での一意な識別子がハイフンで区切られた文字列で構成されている。例えば、us-afb-x12345である。</p>
<p id="para_49">短期的に見れば、このスキームが、DTB出版者のニーズに応える一意性要件に対する単純な解決方法を提供するだろう。長期的に見れば、代替フォーマット資料のグローバルなライブラリーの要件がさらに重要になってくるように、他のさらに洗練されたメカニズムがおそらく採用されることになるだろう。</p>
<h3 id="h3_22">3.2.3 <a name="XMeta">X-Metadata</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_50">次に挙げられる名前は、Dublin Core 要素セットがカバーしていない情報を提供するDTBへの適用のために開発された。これらの名前は、<code>meta</code>要素の<code>name</code>属性の値のように、<code>x-metadata</code>
が含む要素の中でのみ存在してよい（May）。次の<code>x-metadata</code>
の名前のそれぞれについて、「繰り返し可」（1回以上使用されてもよい（May））または「繰り返し不可」として示されている。コンテンツ製作者は、必要ならば以下に列挙したもの以外のメタデータを<code>x-metadata</code>の中に導入してもよい（May）。しかし、この規格で定義されてない限り、メタデータ名は接頭辞 "dtb:"で始まってはならない（Shall Not）。プレイヤー（Player）は、未知のメタデータに遭遇した時も処理を失敗してはならない（Must Not）。少なくともそれを無視しなければならない（Must）。</p>
<ul id="ul_46">
<li id="li_201">dtb:sourceDate<ul id="ul_47"><li id="li_202">内容:  DTBが由来するリソース（例えば、オリジナルの紙版の本や電子書籍など）の発行日。形式は<a href="#ISO8601">[ISO8601]</a>による。つまり、構文は、YYYY[-MM[-DD]]。四桁で表される年（必須）、続いて2桁で表される月（任意）、そして、月が表示されるなら、続けてその月の2桁で表される日付（任意）。</li>
<li id="li_203">出現: 任意 - 推奨。繰り返し不可</li>
</ul></li>
<li id="li_204">dtb:sourceEdition<ul id="ul_48"><li id="li_205">内容: DTBが由来するリソース（例えば、オリジナルの紙版の本や電子書籍など）のエディションを説明する文字列。</li>
<li id="li_206">出現: 任意 - 推奨。繰り返し不可</li></ul></li>
<li id="li_207">dtb:sourcePublisher<ul id="ul_49">
<li id="li_208">内容: DTBが由来するリソース（例えば、オリジナルの紙版の本や電子書籍など）を利用可能にする責任を持つエージェンシー（dc:Publisher と比較すること）。</li>
<li id="li_209">出現: 任意 - 推奨。繰り返し不可</li></ul></li>
<li id="li_210">dtb:sourceRights<ul id="ul_50">
<li id="li_211">内容: DTBが由来するリソース（例えば、オリジナルの紙版の本や電子書籍など）に含まれる、またはかかわる権利管理に関する情報。
（dc:Rights と比較すること）。</li>
<li id="li_212">出現: 任意 - 推奨。繰り返し不可</li></ul></li>
<li id="li_213">dtb:sourceTitle<ul id="ul_51">
<li id="li_214">内容: DTBが由来するリソース（例えば、オリジナルの紙版の本や電子書籍など）のタイトル。dc:Title と異なる場合のみ使用される。</li>
<li id="li_215">出現: 任意。繰り返し不可</li></ul></li>
<li id="li_215a"><!-- TM 2004-05-14 - Put dtb:multimediaType back with ref to StructGuide.  MM 2004-05-14 - Added list of allowable values. -->
dtb:multimediaType<ul id="ul_51a"><li id="li_215b">内容: Structure Guidelines <a href="#StructGuide">[StructGuide]</a>
で定義されているDTBの６つのタイプの１つを記述する。値として記述できるものは、audioOnly、audioNCX、audioPartText、audioFullText、 textPartAudio、textNCX である。</li>
<li id="li_215c">出現: 必須。繰り返し不可</li></ul></li>
<li id="li_216"><!-- TM 2004-05-14 Added do not include ncx, resource, or distInfo only refs -->

<!-- jp 2004-03-10[Replaced description of dtb:multimediaType with dtb:multimediaContent]-->
dtb:multimediaContent<ul id="ul_52"><li id="li_217">内容: このDTBのコンテンツで使用されるメディアの一般的な種類の要約。値は、<a href="#RFC2046">[RFC2046] </a>で定義されたトップレベルのメディアタイプのコンマ区切りのリストである。この規格の現在のバージョンでは、適用可能なタイプは<code>audio</code>
、 <code>text</code>、そして<code>image</code>
のみであろう。NCX、リソースファイル、またはdestInfoによって参照されるメディアタイプはここで一覧されてはならない（Must Not）。</li>
<li id="li_218">出現: 必須。繰り返し不可</li></ul></li>
<li id="li_219">dtb:narrator<ul id="ul_53"><li id="li_220">内容: DTBに収録された録音された声の人の名前。</li>
<li id="li_221">出現: 任意 - 推奨。繰り返し可</li></ul></li>
<li id="li_222">dtb:producer<ul id="ul_54">
<li id="li_223">内容: DTBを製作した組織/製作ユニットの名前。（ dc:Publisher と比較すること）。</li>
<li id="li_224">出現: 任意。繰り返し可</li></ul></li>
<li id="li_225">dtb:producedDate<ul id="ul_55">
<li id="li_226">内容: 完全なDTBが最初に製作された日、つまり、製作が完了した日付。（ dc:Date と比較すること）。形式は<a href="#ISO8601">[ISO8601]</a>による。つまり、構文は、YYYY[-MM[-DD]]。四桁で表される年（必須）、続いて2桁で表される月（任意）、そして、月が表示されるなら、続けてその月の2桁で表される日付（任意）。</li>
<li id="li_227">出現: 任意。繰り返し不可</li></ul></li>
<li id="li_228">dtb:revision<ul id="ul_56"><li id="li_229">内容: DTBの特定のバージョンを示す負でない整数値。DTBが改訂されるそれぞれのタイミングで増分される。</li>
<li id="li_230">出現: 任意。繰り返し不可</li></ul></li>
<li id="li_231">dtb:revisionDate<ul id="ul_57"><li id="li_232">内容: 特定の<code>dtb:revision</code>
に関連づけられる日付。形式は<a href="#ISO8601">[ISO8601]</a>による。つまり、構文は、YYYY[-MM[-DD]]。四桁で表される年（必須）、続いて2桁で表される月（任意）、そして、月が表示されるなら、続けてその月の2桁で表される日付（任意）。</li>
<li id="li_233">出現: 任意。繰り返し不可</li></ul></li>
<li id="li_231a">dtb:revisionDescription<ul id="ul_57a"><li id="li_232a">内容: 特定のdtb:revisionで行われた変更について説明した文字列。</li>
<li id="li_233a">出現: 任意。繰り返し不可</li></ul></li>
<li id="li_234">dtb:totalTime<ul id="ul_58"><li id="li_235">内容: DTBのコンテンツを構成する全てのSMILファイルの合計再生時間。値は、 SMIL 2.0 Timing and Synchronization Module <a href="#ref-SMIL">[SMIL]</a>のクロック値である。  セクション7.7「<a href="#Clock">メディアクリッピングとクロック値</a>」を参照すること。</li>
<li id="li_236">出現: 必須。繰り返し不可</li>
</ul></li>
<li id="li_237">dtb:audioFormat<ul id="ul_59"><li id="li_238">内容: DTBファイルセット内の音声ファイルが書き込まれている形式を記述した文字列。複数の音声形式が使用される場合、この要素は繰り返されてもよい（May）。</li>
<li id="li_239">出現: 任意。音声DTBには推奨。繰り返し可</li>
<li id="li_240"><a href="#Audio">セクション5</a>で規定された形式は次のとおりである 。その後にdtb:audioFormatの規範的な値が続く。<br>
<a href="#MPEG">MPEG</a>-4 AAC: MP4-AAC<br>
<a href="#MPEG">MPEG</a>-1/2 Layer III: MP3<br>リニアPCM、RIFF WAVE形式: WAV<br>
（値は大文字小文字を区別しない。）</li></ul></li>
</ul>
<p class="sstatus" id="h3_24">（この例は、参考情報である（Informative）。）</p>
<!-- NB20050622 Added class attribute to above h3 (h3_24) and converted tp <p> -->
<p id="para_51"><!-- TM 2004-07-23 dc namespace version is 1.1 --><!-- jp 2004-03-10[Replaced dtb:multimediaType with dtb:multimediaContent]-->例 3.2:</p><pre><samp id="smp_3">

....

&lt;metadata&gt;

     &lt;dc-metadata xmlns:dc="http://purl.org/dc/elements/1.1/"

     xmlns:oebpackage="http://openebook.org/namespaces/oeb-package/1.0/"&gt;

          &lt;dc:Title&gt;Revised Standards and Guidelines of

          Service for the Library of Congress Network of Libraries for the

          Blind and Physically Handicapped 1995&lt;/dc:Title&gt;

          &lt;dc:Subject&gt;library information networks&lt;/dc:Subject&gt;

          &lt;dc:Subject&gt;libraries and the physically

          handicapped--standards--U.S.&lt;/dc:Subject&gt;

          &lt;dc:Subject&gt;libraries and the

          blind--standards--U.S.&lt;/dc:Subject&gt;

          &lt;dc:Identifier id="uid"

          scheme="DTB"&gt;us-nls-db00001&lt;/dc:Identifier&gt;

          &lt;dc:Identifier

          scheme="DOI"&gt;10.1000/DX44998&lt;/dc:Identifier&gt;

          &lt;dc:Creator role="aut"&gt;American Library Association.

          Association of Specialized and Cooperative Library

          Agencies&lt;/dc:Creator&gt;

          &lt;dc:Publisher&gt;National Library Service for the Blind

          and Physically Handicapped, Library of Congress&lt;/dc:Publisher&gt;

          &lt;dc:Date&gt;2000-06-22&lt;/dc:Date&gt;

          &lt;dc:Source&gt;0-8389-7797-9&lt;/dc:Source&gt;

          &lt;dc:Language&gt;en&lt;/dc:Language&gt;

          &lt;dc:Format&gt;ANSI/NISO Z39.86-2005&lt;/dc:Format&gt;

          &lt;dc:Description&gt;A document developed to improve library

          service for blind and physically disabled persons by providing a

          tool for assessing the current status of those services

          and for developing long-range plans.&lt;/dc:Description&gt;

     &lt;/dc-metadata&gt;

     &lt;x-metadata&gt;

          &lt;meta name="dtb:sourceDate" content="1995" /&gt;

          &lt;meta name="dtb:sourcePublisher"

          content="American Library Association" /&gt;

          &lt;meta name="dtb:sourceRights" content="copyright 1995,

          American Library Association" /&gt;

          &lt;meta name="dtb:narrator" content="Lowenstein, Ralph" /&gt;

          &lt;meta name="dtb:producer"

          content="American Foundation for the Blind" /&gt;

          &lt;meta name="dtb:multimediaContent" content="audio" /&gt;

          &lt;meta name="dtb:multimediaType" content="audioNCX" /&gt;

          &lt;meta name="dtb:totalTime" content="06:22:34.143" /&gt;

     &lt;/x-metadata&gt;



&lt;/metadata&gt;

....

</samp></pre>
<h2 id="h2_15">3.3 <a name="Manifest">Manifest</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_52"><!-- TM 2004-06-02 - Added requirements that manifest

list only allowed files and only DTB files --><code>package</code>要素の子である<code>manifest</code>は、パッケージファイル（Package File）そのものを含め、DTBを構成するファイル（ドキュメント、音声ファイル、画像、スタイルシートなど）全ての完全なリストを格納しなければならない（Must）。<code>manifest</code>
はこの規格によって認められた種類のファイルのみを列挙しなければならない（Shall）。<code>manifest</code>
はDTBの一部をなすファイルのみを列挙しなければならない（Shall）。distInfoファイルと<code>changeMsgs</code>と関連付けられた全ての音声（またはdistInfoファイル内で<em>のみ</em>列挙されているそのほかの全てファイル ）はDTBの一部をなすものとみなされない。そのため、列挙されるべきではない（Shall Not）（セクション11「<a href="#Dist">配布のためのパッケージングファイル</a>」を参照すること）。リソースファイルおよび関連付けられた全てのメディアファイルは、DTBの一部をなすものとみなされるため、列挙されなければならない（Must）。各ファイルは<code>item</code>要素によって参照される。各<code>item</code>は参照されるファイルの<a href="#d-uri">URI</a>であり、Manifest内で一意の値を持つ<code>href</code>属性を持たなければならない（Must）。このURIは<a href="#d-fragid">フラグメント識別子（Fragment Identifier）</a>を含んではならない（Must Not）。もし相対的である場合、パッケージファイル（Package File）そのものと相対的であるとして解釈される。また、相対URLがManifestで列挙されているXMLファイル内に格納されている場合、その相対URLは参照しているファイル対して相対的であるとみなされる。</p>
<p id="para_53"><!-- TM 2004-06-02 - Changed fallback sentence

--><!-- mm: 2004-04-01 Dropped references to MIME types, which are

covered in new para_53a-->さらに、各<code>item</code>はファイルのMIMEメディアタイプを格納した<code>media-type</code>属性と<code>id</code>属性を持たなければならない（Must）。<code>id</code>は、主に<code>manifest</code>
<code>item</code>
が<code>spine</code>に参照されている時に使用される。プレーヤー（Player）が代替のプレゼンテーション形式を選択できるようにするため、<code>manifest</code>にフォールバックの宣言も含めてもよい（May）（詳細は<a href="#OEBF">OEBF</a>
Publication Structure を参照すること）。フォールバックメカニズムへのサポートは、この規格では要求されない。パッケージファイル（Package File）のManifest内のNCXのエントリは "ncx"と同じ値を持つidを持たなければならない（Must）。Manifestのパッケージファイル内のリソースファイルのエントリは、"resource"と同じ値を持つidを持たなければならない（Must）。<code>manifest</code>
内の<code>item</code>要素の順序は重要ではない。</p>
<p id="para_53a"><!-- jp - 2004-03-29 Major changes related to MIME types, plus addition of specs on file extensions.-->全ての<code>media-type</code>属性の値は<a href="#RFC2046">RFC 2046</a>に準拠しなければならない（Must）。また、<code>media-type</code>属性は、そのファイルタイプについて、存在するならばIANAに登録されたMIME メディアタイプの値を持たなくてはならない（Must）（MIMEメディアタイプの登録プロセスの情報については<a href="#RFC2048">RFC 2048</a>を参照すること）。MIMEメディアタイプが登録されていない場合、そのファイルタイプの適用規格の中から推奨されるMIMEメディアタイプが使用されなければならない（Must） 。ファイルの標準的なMIMEメディアタイプがない場合は、<a href="#RFC2046">RFC 2046</a>
のルールに従って適切な"x-"MIMEメディアタイプが使用されなければならない（Must）。WAVファイルの場合は、この規格は、メディアタイプの値 "audio/x-wav" の使用を義務づけてはいない。この規格で定義されたXMLドキュメントのファイルについて、この規格は必須で一意なメディアタイプを<a href="#RFC3023">RFC 3023</a>に従って定義する。NCXは"application/x-dtbncx+xml"、リソースファイルには"application/x-dtbresource+xml"、そして、テキストコンテンツファイル（Textual Content File）には"application/x-dtbook+xml" である。</p>
<p id="para_53b"><!-- See comment above -->また、製作者はこの規格で言及された全ての種類のファイルについて、特定のファイル名の拡張子を使用しなくてはならない（Must）（下記表参照）。これらの値は、大文字と小文字が区別される。ファイル名の拡張子とMIMEメディアタイプの値が一致しない場合、プレイヤー（Player）はMIMEメディアタイプを優先することを考慮するべきである（Should）。</p>
<p id="para_53c"><!-- See comment above -->次の表は、パッケージのManifestで出現してよい（May）全ての種類のファイルの求められるファイル名の拡張子とMIMEメディアタイプの値をまとめたものである。</p>
<table summary="This table lists each kind of DTB file, the required file name extension and the MIME media type for each">
<thead>
<tr><th>ファイルの種類</th><th>ファイル名の拡張子</th><th>MIMEメディアタイプ</th></tr>
</thead>
<tbody>
<tr><td>MPEG-4 AAC audio</td><td>.mp4</td><td>audio/mpeg4-generic</td></tr>
<tr><td>MPEG-1/2 Layer III (MP3) 音声</td><td>.mp3</td><td>audio/mpeg</td></tr>
<tr><td>リニアPCM - RIFF WAVE形式音声</td><td>.wav</td><td>audio/x-wav</td></tr>
<tr><td>JPEG 画像</td><td>.jpg</td><td>image/jpeg</td></tr>
<tr><td>PNG 画像</td><td>.png</td><td>image/png</td></tr>
<tr><td>Scalable Vector Graphics (SVG) 画像</td><td>.svg</td><td>image/svg+xml</td></tr>
<tr><td>Cascading Style Sheets (CSS)</td><td>.css</td><td>text/css</td></tr>
<tr><td>SMILファイル</td><td>.smil</td><td>application/smil</td></tr>
<tr><td>パッケージファイル（Package File）</td><td>.opf</td><td>text/xml</td></tr>
<tr><td>文書型定義（DTD）と 文書型定義（DTD）の断片（エンティティまたはモジュール）</td><td>[要件なし]</td><td>application/xml-dtd</td></tr>
<tr><td>ナビゲーションコントロールファイル (NCX)</td><td>.ncx</td><td>application/x-dtbncx+xml</td></tr>
<tr><td>テキストコンテンツファイル（Textual Content File） (dtbook)</td><td>.xml</td><td>application/x-dtbook+xml</td></tr>
<tr><td>リソースファイル</td><td>.res</td><td>application/x-dtbresource+xml</td></tr>
</tbody>
</table>
<p class="sstatus" id="h3_26"><!-- NB20050622 Added class attribute to above h3 (h3_26) and converted to <p> -->（この例は、参考情報である（Informative）。）</p>
<p id="para_54"><!-- jp 2004-03-10[Removed reference to multimediaType in descriptions of examples]-->音声、構造、そしてテキストを持つDTBのサンプルの<code>manifest</code>は次のとおりである。</p>
<p id="para_55"><!-- jp - 2004-03-29 Modified per MIME changes-->例 3.3:</p><pre><samp id="smp_4">

....

&lt;manifest&gt;



     &lt;item id="opf" href="rs.opf" media-type="text/xml" /&gt;

     &lt;item id="text" href="rs.xml" media-type="text/x-dtbook+xml" /&gt;

     &lt;item id="text_style" href="dtbbase.css" media-type="text/css" /&gt;

     &lt;item id="ncx" href="rs.ncx" media-type="application/x-dtbncx+xml" /&gt;

     &lt;item id="ncx_style" href="ncx16.css" media-type="text/css" /&gt;

     &lt;item id="SMIL" href="rs.smil" media-type="application/smil" /&gt;

     &lt;item id="foreword" href="rs_fwdx.mp3" media-type="audio/mpeg" /&gt;

     &lt;item id="standards" href="rs_stdx.mp3" media-type="audio/mpeg" /&gt;

     &lt;item id="appendices" href="rs_app.mp3" media-type="audio/mpeg" /&gt;

     &lt;item id="index" href="rs_index.mp3" media-type="audio/mpeg" /&gt;

     &lt;item id="fig_01" href="fig1.png" media-type="image/png" /&gt;

     &lt;item id="resource" href="rs.res" media-type="application/x-dtbresource+xml" /&gt;

     &lt;item id="resource_audio" href="res.mp3" media-type="audio/mpeg" /&gt;





&lt;/manifest&gt;

....

</samp></pre>
<p id="para_56"><!-- jp 2004-03-10[Removed reference to multimediaType in descriptions of examples]-->次は上のDTBの音声のみのバージョンの <code>manifest</code>である。ここでは、本のそれぞれのセグメントごとにSMILファイルが分割されて製作されている。</p>
<p id="para_57"><!-- jp - 2004-03-29 Modified per MIME changes-->例 3.4: </p><pre><samp id="smp_5">

....

&lt;manifest&gt;

     &lt;item id="opf" href="rs.opf" media-type="text/xml" /&gt;

     &lt;item id="ncx" href="rs.ncx" media-type="application/x-dtbncx+xml" /&gt;

     &lt;item id="foreword" href="rs_fwdx.mp3" media-type="audio/mpeg" /&gt;

     &lt;item id="standards" href="rs_stdx.mp3" media-type="audio/mpeg" /&gt;

     &lt;item id="appendices" href="rs_app.mp3" media-type="audio/mpeg" /&gt;

     &lt;item id="index" href="rs_index.mp3" media-type="audio/mpeg" /&gt;

     &lt;item id="SMIL1" href="rsfwd.smil" media-type="application/smil" /&gt;

     &lt;item id="SMIL3" href="rsapp.smil" media-type="application/smil" /&gt;

     &lt;item id="SMIL4" href="rsind.smil" media-type="application/smil" /&gt;

     &lt;item id="SMIL2" href="rsstd.smil" media-type="application/smil" /&gt;



&lt;/manifest&gt;

....

</samp></pre>
<h3 id="h326"><!-- MG 2004-04-19 Major rewrite. Replaced table of values with EBNF description-->3.3.1 <a name="Allowed-Char">ファイル名で使用できる文字</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="fnchars">様々なロケールやプラットフォーム間でのDTBの転送時の相互運用性を担保するために、ファイル名に仕様される文字は<a href="#RFC2396">[RFC2396]</a>の<em>alphanum</em>定義、そして、RFC2396の<em>mark</em>定義のサブセットに制限されなければならない（Must）。これは事実上 利用可能な文字を[A-Za-z0-9._-]に限定する。</p>
<p id="allowedchars">次の定義 "filename" はEBNF形式でどの文字がファイル名で使用できるかを特定したものである。定義 "foldername"は、DTB ファイルセットの構成要素を参照するURIのパス仕様にフォルダが使用される場合の、フォルダ名で使用できる文字を特定している。</p>
<pre><samp id="ebnffnchars">

 digit ::=  [#x0030-#x0039]

 lowalpha ::= [#x0061-#x007A]

 upalpha ::=  [#x0041-#x005A]

 alphanum ::= digit|lowalpha|upalpha

 hyphen ::= [#x002D]

 underscore ::= [#x005F]

 period ::= [#x002E]

 filename ::= (alphanum|hyphen|underscore|period)+

 foldername ::= (alphanum|hyphen|underscore)+

</samp></pre>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_57b">これらの制限は、暫定的な解決法とみなされるべきである（Should）。国際化リソース識別のためのグローバルな勧告また規格が制定されたらすぐに、その適用が優先順位の高い検討事項になるだろう。</p>
<h3 id="h326b"><!-- MG 2004-04-19 New section. -->3.3.2 <a name="Case">URIの大文字と小文字の区別</a></h3>
<p class="sstatus" id="para_57c"><!-- NB20050622 Added class attribute to above para (57c)-->（このセクションは規範的である（Normative）。）</p>
<p id="para_57d">ファイルセットの構成要素を参照する全てのURIは、大文字と小文字が区別される。</p>
<p id="para_57e">ファイルセットの構成要素には、大文字・小文字の正規化を行った場合に同一の名前が複数存在するような名前を与えてはいけない（Must Not）。</p>
<h2 id="h2_16">3.4 <a name="Spine">Spine</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_58"><code>package</code>要素の子<code>spine</code>は、1つ以上の<code>itemref</code>要素のリストで構成されなければならない（Shall）。<code>itemref</code>要素の順序は、DTBにおける規定値としての線形での読む順序を定義している。各<code>itemref</code>は <code>manifest</code>でリスト化されているSMILファイルの<code>id</code>を指し示す<code>idref</code>を格納しなくてはならない（Must）。 <code>spine</code>内の<code>itemref</code>によって参照できるのはSMILファイルのみである。<code>itemref</code>は<code>spine</code>
内でSMILファイルで表現される順に列挙されなければならない（Must）。プレーヤー（Player）がSMILファイルの最後に到達した時、どのファイルを次にレンダリングするかを決めるためにプレーヤー（Player）は<code>spine</code>を参照しなければならない（Must）。</p>
<p class="sstatus" id="h3_28"><!-- mg20050527 replaced this h3 with the above para: <h3 id="h3_28">(The following examples are informative.)</h3>-->
（次の例は参考情報である（Informative）。）</p>
<p id="para_59">以下に挙げる例の最初のものは、上に掲載した2つの<code>manifest</code>の例のうち、最初のものに対応する<code>spine</code>を示している。<br>例 3.5:</p>
<pre><samp id="smp_6">

&lt;spine&gt;



     &lt;itemref idref="SMIL" /&gt;



&lt;/spine&gt;

</samp></pre>
<p id="para_60">以下の<code>spine</code>は上に掲載した2番目の<code>manifest</code>の例にあるものと一致している。正しい読む順序がここに提示されている。この順序は、順序に意味を持たない<code>manifest</code>
内のファイルの順序とは一致しないので注意すること。</p>
<p id="para_61">例3.6: </p>
<pre><samp id="smp_7">

&lt;spine&gt;



      &lt;itemref idref="SMIL1" /&gt;

      &lt;itemref idref="SMIL2" /&gt;

      &lt;itemref idref="SMIL3" /&gt;

      &lt;itemref idref="SMIL4" /&gt;



&lt;/spine&gt;



</samp></pre>
<h2 id="h2_17">3.5 <a name="Tours">Tours</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_62"><code>tours</code>
要素は<code>package</code>要素の任意の子である。<a href="#OEBF">OEBF</a>
Publication Structureは、<code>tours</code>を次のように説明している。 「観光ガイドが観光名所を組み合わせて観光ツアーを組むように、コンテンツプロバイダは、便利なナビゲーションを可能にするために出版物の厳選された部分を組み合わせてツアーを組んでもよい。...リーディングシステムは、様々な読む目的や読者（Reader）の専門知識のレベルに合わせた選択的な閲覧の提供など、出版物の部分に様々なアクセスシーケンスを提供するためにツアーを使うかもしれない。」DTBの構造と<a href="#OEBF">OEBF</a>の<code>tours</code>との間の固有の違いのために、この規格に準拠して製作されたDTBにおいて<code>tours</code>を実装することは実行可能とはいえない。製作者が、上で説明された機能性を提供することを望んでいる時には、NCXでカスタマイズされた<code>navList</code>を製作することで部分的に実現できるかもしれない。</p>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_63">準拠するプレーヤー（Player）が <code>tours</code>に対応することは求められていない。</p>
<h2 id="h2_18">3.6 <a name="Guide">Guide</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_64"><a href="#OEBF">OEBF</a>
Publication Structureで規定されているように、 <code>package</code>要素の子である<code>guide</code>は、目次、序文、文献目録などのようなDTBの重要な構造的特徴への利便性の高いアクセスを再生（Playback）デバイスに提供するために、それらの構造的特徴を列挙する。DTBには、さらに厳格できめ細かいアクセス要求を満たすNCXを含むことが必須であるため、<code>guide</code>がDTBで使用されることはないだろう。</p>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_65">準拠するプレーヤー（Player）が <code>guide</code>に対応することは求められていない。</p>
<p id="para_66"><a href="#toc">目次</a></p>
<h1 id="h1_7">4. <a name="Text">テキストのためのコンテンツ形式</a></h1>
<h2 id="h2_19">4.1 <a name="TextIntro">はじめに</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_67"><!--MG 30 March, 2004  Added requirements re namespaces and entity declarations and reference re filename extension.-->この規格は、デジタル録音図書（Digital Talking Book）フォーマットにおいて本やその他の出版物のテキストコンテンツファイル（Textual Content File）のマークアップのために<a href="#XML">XML</a>
1.0 文書型定義 （DTBook）を定義している。この規格に準拠するためには、DTBのテキストコンテンツファイル（Textual Content File）は、 <a href="#DTBookDTD">付録1</a>にある"DTBook DTD"のdtbook-2005-1.dtdに準拠した妥当な<a href="#XML">XML</a>ファイルでなければならない（Must）。ファイル名の拡張子の要件については、セクション3.3の「<a href="#para_53c">Manifest</a>」を参照すること。<code>dtbook</code>要素における<code>version</code>属性と<code>xmlns</code>属性は、ドキュメントのインスタンスの中で、上記のDTDに記載されている値を使用しつつ、明示的に規定されなくてはならない（Must）。内部のDTBサブセットにおいてエンティティ宣言がなされなくてはならない（Must）。さらなる情報はセクションsection 16.1の 「<a href="#FileConform">一般的なファイルの適合性要件</a>」を参照すること。</p>
<p id="para_68">テキストコンテンツを格納するDTBは、ほとんどの場合、たった１つのテキストコンテンツファイル（Textual Content File）を格納するだろう。しかし、必要に応じて（例えば、非常に大きな本）、DTBは複数のテキストコンテンツファイル（Textual Content File）を格納することができる。それぞれのテキストコンテンツファイル（Textual Content File）はDTBook DTDに対して妥当でなければならない（Must）。</p>
<p id="para_69">DTBのコンテンツ製作者は、特別な状況に対応するため、1つ以上の新しい要素やフルモジュールを追加することで、ベースDTBを拡張してもよい（May）。この規格への準拠を継続して維持するために、DTDの拡張は、<a href="#XML">XML</a>
1.0で規定されたメカニズムを採用しなければならない（Must）。セクション　4.2.2 「 <a href="#ModExt">DTDのモジュールの拡張</a>
」を参照すること。</p>
<p id="para_69a"><!-- 2004-04-13 MM New para., requiring two new metadata items. 2004-07-08 MM Added recommendation that full range of DC metadata be included. -->



<!-- Editorial revision April 21, 2007 by KK

   missing quote added after Package Identity

-->
dtb:uid と dc:Titleの２つのメタデータ項目は 準拠したテキストコンテンツファイル（Textual Content File）の&lt;head&gt;の中に存在し、1つの &lt;meta&gt; 要素の中に格納されなければならない（Must）。dtb:uid はDTBのグローバルな一意の識別子である。値は、パッケージファイル（Package File）のunique-identifier要素によって参照される<code>dc:Identifier</code>
要素の値と同じである。セクション 3.1 「<a href="#PkgId">パッケージの識別</a>」 を参照すること。 dc:Title はDTBのタイトルを格納している。スタンドアローンコンテンツとしてさらにDTBドキュメントの利便性を高めるために、適用可能なフルレンジのDublin Core要素の包含が推奨される。</p>
<h2 id="h2_20">4.2 <a name="Using">DTBook要素セットの使用</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_70">この規格の作成中に開発されたドキュメントである<a href="#Theory">Theory Behind the DTBook DTD [DTBook Theory]</a>はDTBook要素セットの基礎となっている基本原理とデジタル録音図書（Digital Talking Book）アプリケーションに提供することの有益性について論じている。</p>
<p id="para_71">次に挙げるこの規格の2つの外部文書は要素セットの使用について詳細な情報を提供する。まず第一に、HTML形式のDTDの拡張バージョン（<a href="#Dtbookhtm">[DTBook HTML]</a>を参照すること）が各要素について、その要素がどこで使用でき、その要素の中でどの要素が使用できるかの詳細な説明を、属性の拡張されたリストとともに提供している。</p>
<p id="para_72">第二に、DTBookマークアップを採用した包括的なガイドラインが<a href="#DAISY">DAISYコンソーシアム</a>
によって提供されている。このStructure Guidelines <a href="#StructGuide">[StructGuide]</a>は、DTBook要素セットの正しい適用を説明している。そして、テキストコンテンツの構造を捉えることの重要性を強調し、全てのDTBook要素の使用について詳細な例を提供している。</p>
<p id="para_73">DTBook要素セットは、デジタル録音図書（Digital Talking Book）の他にかなりの適用例がある。DTBook要素セットは、様々なアクセス可能な（Accessible）形式でのドキュメントの製作を可能とするように設計されたものである。少なくとも1つの米国の点字翻訳ソフトウェアパッケージは、DTBookドキュメントをインポートし、自動的に翻訳し、それらを2級点字でフォーマットする機能を実装している。同様に自動化されるプロセスは、マークアップドキュメントを大活字本へ変換したり、DTBookドキュメントを点字表示する処理や、合成音声で読み上げたり、大活字としての表示する処理を「即座に（ on the fly ）」に行うように発展していくだろう。最後に、DTBookドキュメントの選択されたセグメントの表示を制御するために、"showin"と呼ばれる属性がDTBook要素セットに組み込まれている。例えば、グラフの記述は、点字と大活字版で異なる場合がある。その場合に、点字版と大活字版両方のエディションのグラフの記述がDTBookドキュメント内に同梱されているとしても、"showin"によって各エディションのそれぞれ適切なバージョンのグラフの記述のみを表示させるようにすることができる。</p>
<p id="para_74">この規格は、テキストコンテンツファイル（Textual Content File）に適用されるべきマークアップの程度については特に規定しない。しかし、マークアップがリッチになればなるほど、読者（Reader）にとって利用可能な機能性が向上する。</p>
<p id="para_75">XML 1.0のマークアップとDTDの使用方法の詳細については、W3CのXMLサイト<a href="#XML">[XML]</a>を参照すること。</p>
<h3 id="h3_35">4.2.1 <a name="SMILMark">SMILに関連付けられるDTBook マークアップ</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_76">テキストコンテンツファイル（Textual Content File）が格納されているDTBに対する効率的なプレーヤー（Player）の動作を保証するために、 <code>smilref</code>属性が存在しなくてはならず（Must）、SMILファイルに参照されるテキストコンテンツファイル（Textual Content File）内の各要素のそれは非空値でなければならない（Must）。<code>smilref</code>の値は通常、与えられた要素を参照するメディアオブジェクトを格納するSMIL時間コンテナ（<code>par</code>または<code>seq</code>）のURIでなければならない（Shall）。しかし、連続したテキストメディアオブジェクトで構成されるテキストのみのDTBでは、<code>smilref</code>はその要素を参照するメディアオブジェクトのURIを格納する。<code>smilref</code>属性はDTBプレーヤー（Player）に、テキストベースのナビゲーションや全文テキスト検索などの後に続くSMILベースの再生（Playback）の再開を可能にする。</p>
<h3 id="h3_37">4.2.2 <a name="ModExt">DTDのモジュールの拡張</a></h3>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_77">DTBook DTDは幅広い資料のマークアップに使用するための要素のベースセットを含んでいる。後述するように、詩、劇、辞書、数学のような特殊なものに適用する要素を格納した追加のモジュールを必要な時にDTBookドキュメント内から「呼び出す」ことができる。</p>
<p id="para_78">DTBook ドキュメントは<a href="#XML">XML</a>アプリケーションである。したがって、DTBook ドキュメントは、XMLのバージョンを識別するXML宣言および任意のキャラクターセットエンコーディングで開始するべきである（Should）。（詳細については<a href="#DTBookDTD">付録 1</a>の「DTBook DTD」を参照すること）。<br>
<br>
<code>
&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</code></p>
<p id="para_79"><!-- mg20050626: changed example to preferred form -->この後に文書型宣言が続く。</p>
<pre><samp id="smp_8">

&lt;!DOCTYPE dtbook PUBLIC "-//NISO//DTD dtbook 2005-1//EN"

  "http://www.daisy.org/z3986/2005/dtbook-2005-1.dtd"&gt;

</samp></pre>
<p id="para_80">DOCTYPEの表現の他の方法に関する議論については、 <a href="#DTBookDTD">付録 1</a>に列挙されている「DTBook DTD」のセクション2.3を参照すること。</p>
<p id="para_81">本はDTBook DTDを拡張するために、文書型宣言を締める"&gt;"の前に角括弧内に入った
指示を追加することでその他のDTDまたはモジュールを呼び出すことができる。角括弧内の指示は、「宣言の内部サブセット」と呼ばれる。例えば:</p>
<!-- mg20050626: changed example to preferred form -->
<pre><samp id="smp_9">

&lt;!DOCTYPE dtbook PUBLIC "-//NISO//DTD dtbook 2005-1//EN"

  "dtbook-2005-1.dtd"

        [

            &lt;!ENTITY % dramaModule SYSTEM "drama.dtd" &gt;

            %dramaModule;

            &lt;!ENTITY % externalblock "| drama"&gt;

            &lt;!ENTITY % externalinline "| stagedir"&gt;

        ]&gt;

</samp></pre>
<p id="para_82">内部サブセットの1行目には"dramaModule"として知られるエンティティを宣言し、モジュールの場所を示すURIを提供する。2行目はこのエンティティを呼び出す。すなわち、まさにDOCTYPE宣言がベースDTD（dtbook-2005-1.dtd）を呼び出すように現在のドキュメントに「このエンティティを持ってくる」。3行目は、エンティティ"% externalblock"を宣言し、それに"drama"という値を与える。dtbook-2005-1.dtd は同じ名前のエンティティを格納しており、内部サブセットは"%externalblock;"が出現するところ（つまり、ブロック要素が認められるところ）dtbook-2005-1ではどこでも衝突する領域のベース（外部）DTD（dtbook-2005-1）を無効にするため、その値に"drama" が追加される。<code>drama</code>はドラマモジュールのルート要素であるため、全てのドラマモジュールはそこで使用することができる。同様に最後の行では事実上、dtbook-2005-1で"%externalinline;" が使えるところはどこでも（つまり、インライン要素が使用できるところはどこでも）、要素<code>stagedir</code>
を使用することができる。</p>
<p id="para_83">複数のモジュールを1つの本で必要としてもよい（May）し、含めてもよい（May）。次の例では、dramaモジュールから1つのインライン要素 (<code>stagedir</code>) とともに poetryモジュールとdrama モジュールが呼び出されている。</p>
<pre><samp id="smp_10">

        [

            &lt;!ENTITY % poemModule "http://www.xyz.org/poem.dtd" &gt;

            %poemModule;

            &lt;!ENTITY % dramaModule "http://www.xyz.org/drama.dtd" &gt;

            %dramaModule;

            &lt;!ENTITY % externalblock "| poem | drama" &gt;

            &lt;!ENTITY % externalinline "| stagedir"&gt;

        ]&gt;

</samp></pre>
<p id="para_83n">この議題に関する議論のさらなる詳細については、「DTBook DTD」（<a href="#DTBookDTD">付録 1</a>を参照すること） のセクション3を参照すること。</p>
<p id="para_84n"><a href="#toc">目次</a></p>
<h1 id="h1_8">5. <a name="Audio">音声ファイル形式</a></h1>
<h2 id="h2_22">5.1 <a name="AudFormats">配布形式</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_85"><!-- dp and mm, 3/24/04.  Removed mention of filename extensions.-->音声ファイル形式のセットを以下に列挙する。準拠したオーディオプレーヤー（Player）は、列挙された形式の少なくとも1つはデコードできなくてはならない（Must）。プレーヤー（Player）は列挙されたフォーマット全てをデコードできることがを強く推奨される。この規格に準拠したコンテンツは、以下の形式の１つまたはそれらが混合された形で配信されなければならない（Must）。</p>
<p id="para_86">同じ本の中で部分によって異なる音声形式でエンコードされることは許容される。例えば、製作者は長い文献目録を本の本体より低いビットレートでエンコードしたり、本の本体と異なるコーデックでエンコードすることを選択してもよい（May）。プレイヤー（Player）は異なるエンコードが行われたセクション間のスムーズな切り替えをサポートしなくてはならない（Must）。これらの部分の粒度に特に制限はない。つまり、SMILプレゼンテーションの任意のところで出現してもよい（May）。</p>
<p id="para_87">マルチチャンネルレンダリングのサポートは求められていない。ステレオ信号は認識されなければならず（Must）、少なくともモノラル形式でレンダリングされなければならない（Must）。</p>
<p id="para_88">準拠した音声を出力するDTBプレーヤー（Player）は次のフォーマットのデコードが可能であるべきである（Should）。</p>
<ul id="ul_60"><!-- dp and mm, 3/24/04.  Removed mention of filename extensions and added crossref to section 3.3.-->
<li id="li_241">MPEG-4 AAC <a href="#MPEG">[MPEG]</a>
- <a href="#MPEG">ISO/IEC 14496-3</a>. <br>
</li>
<li id="li_242">MPEG-1/2 Layer III (MP3) <a href="#MPEG">[MPEG]</a>
- <a href="#MPEG">ISO/IEC 11172-3</a>, <a href="#MPEG">ISO/IEC 13818-3</a>.<br>
</li>
<li id="li_243">リニアPCM - RIFF WAVE 形式 <a href="#RIFFWAV">[RIFFWAV]</a>. <br>プレーヤー（Player）は、単一の"fmt"と"data"のサブチャンクのみを持つモノラルWAVEファイルを扱うことが求められる。そして、その他のRIFFメディアタイプのサポートは求められない。</li>
</ul>
<p id="para_88a">ファイル名の拡張子の要件については、セクション3.3「<a href="#para_53c">Manifest</a>」を参照すること。</p>
<p id="para_89">MP3とAACのISO規格は、可変ビットレート再生（Playback）のサポートを求めているが、この規格に準拠するプレーヤー（Player）は固定ビットレート再生（Playback）のサポートのみを求めている。</p>
<p id="para_90">プレイヤー（Player）は、ビット深度16 bits per sampleで44.1kHz、22.05kHz、11.025kHzのサンプリングレートに対応しなくてはならない（Must）。出力サンプリングレートが上の3つのサンプリングレート中の1つに制限されるように、圧縮された音声がエンコードされなければならない（Must）。</p>
<h2 id="h2_23">5.2 <a name="AudNotes">音声ノートの形式</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_91">ブックマークやハイライトの音声ノートを録音し、エクスポートできるオーディオプレーヤー（Player）は次に挙げる形式またはセクション5.1で規定されている形式によるエンコードをサポートしなくてはならない（Must）。ブックマークやハイライトをインポートすることができるオーディオプレーヤー（Player）は次に挙げる形式によるデコードをサポートしなくてはならない（Must）。</p>
<ul id="ul_61">
<li id="li_244">ADPCM - ITU-T G.726 <br>40kbps、32kbps、24kbpsまたは16 kbpsでの通信品質。 エンコーダとデコーダは、実装が簡単である。ファイルの拡張子は".726"でなければならない（Shall）。</li>
</ul>
<p id="para_91n"><a href="#toc">目次</a></p>
<h1 id="h1_9">6. <a name="Image">画像ファイル形式</a></h1>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_92"><!-- dp and mm, 3/24/04.  Removed mention of filename extensions and added crossref to section 3.3.-->DTBに含まれる画像は、JPEG (JFIF V 1.02) <a href="#JPEG">[JPEG]</a>、PNG <a href="#RFC2083">[RFC 2083]</a>、または Scalable Vector Graphics <a href="#SVG">[SVG]</a>のうち、1つ以上の形式で提示されなければならない（Must）。画像表示をサポートする本仕様に準拠する再生（Playback）デバイスは、JPEGとPNGの表示ができなければならない（Must）。SVGのサポートも推奨される。SVG仕様の付録8は、アクセシビリティに関する議題を説明している。ファイル名の拡張子の要件については、セクション3.3 「<a href="#para_53c">Manifest</a>」を参照すること。</p>
<p id="para_92n"><a href="#toc">目次</a></p>
<h1 id="h1_10">7. <a name="SMIL">メディアファイルの同期</a></h1>
<h2 id="h2_24">7.1 <a name="SMILIntro">はじめに</a></h2>
<h3 id="h3_43">7.1.1 <a name="SMILBack">背景</a></h3>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_93">同期マルチメディア統合言語（Synchronized Multimedia Integration Language : <a href="#ref-SMIL">SMIL 2.0</a>
）<a href="#ref-SMIL">[SMIL]</a>は、インターネットを経由したマルチメディアプレゼンテーションの定義と再生（Playback）の規格としてWorld Wide Web Consortiumによって開発された。SMILは、1つ以上のメディアオブジェクトの再生（Playback）の順序を定義する。DTBの場合、主なメディアオブジェクトは、音声とテキストコンテンツファイル（Textual Content File）である。 SMILは、これらの並行的で同期されたプレゼンテーションを提供する。求められる音声とテキストを表現するデコーダが存在し、知的財産権保護のためのシステムがアクセスを制限していない限り、SMILを使用し、この規格のテキストと音声メディアタイプでエンコードされたコンテンツを利用して構築された全てのDTBは、現在のSMILの仕様または後のSMILの仕様に準拠したプレーヤー（Player）を実装する全てのデバイスまたはプラットフォームで再生することができる。</p>
<p id="para_94">DTB再生システム（Playback System）が基本的なSMILプレーヤと異なる点は、DTBのユーザー（User）要件 (<a href="#Navfeat">[Navigation Features]</a>)に提示されている特定のナビゲーションと表現に関係する機能が包含されていることである。これらの機能は、NCXファイル、テキストコンテンツ、および/またはSMILファイルそのものからの情報を使用することができる。この情報への鍵は、テキストコンテンツ（存在する場合に）とSMILファイル内にある一意の識別子が包含されていることである。音声ファイルは、時間ベースの位置によって索引付けされる。音声ファイル自身の中には埋め込まれたセマンティックな構造を格納していない。音声コンテンツにセマンティックな構造を提供するためには、音声ファイルの時間上の位置をテキストコンテンツ内のそれに対応する位置と関連付ける必要がある。これは、（URIによって参照される）テキストコンテンツファイル（Textual Content File）内の特定の位置に対するポインタとそれに対応する音声コンテンツの時間上の位置のペアリングを通してSMILを使用することで達成できる。DTB SMILアプリケーションの場合、SMILファイル内の各同期ポイントには一意の識別子が割り当てられる。テキストコンテンツ及びSMIL両方の中にこれらの識別子があることで、再生システム（Playback System）が多様な異なる方法によるナビゲーションを提供することが可能になる。</p>
<p id="para_95">SMILは、<code>customTest</code>と呼ばれる制御構造を取り込む。これによって、SMIL著者は、クラスによって、ドキュメントの選択された要素（例えば、ノート、ページ番号、行番号など）を識別することが可能である。再生（Playback）デバイスは、これらのクラスの存在をユーザー（User）に明らかにし、ユーザー（User）が連続再生（Playback）中に要素の与えられたクラスを読むかスキップするかを選択できるようにする。</p>
<p id="para_95a"><!-- MH 2004-05-17 New paragraph. -->SMILプレゼンテーションの時間コンテナの持続時間は、子のメディアオブジェクトと時間コンテナの持続時間、または、タイムコンテナの終点を知らせるイベントを認識されることによって決定されるかもしれない。DTB製作者は、ユーザー（User）が例えば、関係する資料を吟味できるように、または、問題に取りかかれるようにすることを目的にプレゼンテーションに一時停止を取り入れたコンテンツを製作することを選ぶかもしれない。関連するタスクが完了したら、ユーザー（User）は、プレーヤー（Player）のユーザーインターフェイスの適切なメカニズムによって再生（Playback）が継続できることを知らせるだろう。</p>
<p id="para_95b"><!-- MH 2004-05-17 New paragraph. MM 2004-06-02 Added mention of specified duration for pauses. -->連続的なプレゼンテーションにおける一時停止は、再開ボタンまたは再生ボタンを押すなどのユーザーイベントの出現まで、または、規定された持続時間の終点まで時間コンテナがアクティブであることを示す<code>end</code>属性の値をもつ時間コンテナを指定することによって作成される。</p>
<p id="para_95c">回避可能な構造は、ユーザー（User）が開始したエスケープイベントによって実行される。回避可能な構造は、子の時間コンテナの通常の終了時間またはユーザー（User）のエスケープイベントの発生のいずれかが最初に来るまで再生する時間コンテナによってラップされる。この場合、回避可能性をサポートするDTBプレーヤは、現在の構造からユーザー（User）が回避をリクエストしたことを示すためのユーザインターフェースメカニズムを提供してもよい。</p>
<p id="para_96">DTB製作者は、同期イベントの粒度を決定する。同期イベントは、主な構造的要素（NCXで指し示されるもの）に限定することができるし、フルテキストコンテンツを持つ本にパラグラフ、センテンス、または、単語レベルまで同期を含めるために同期イベントを増やすこともできる。同期のこのレベルの要件は、テキストコンテンツには、望ましいマークアップタグが含まれているということと、これらの要素には、SMILファイルから参照できるように一意の識別子が含まれているということである。</p>
<p id="para_97">DTBのSMILファイルは、一連の並行するイベント（例えば、テキストと音声と（と可能性として画像）のイベントが同時に発生するなど）で主に構成される。SMILは、「時間コンテナ」<code>seg</code>（メディアオブジェクトの連続）と<code>par</code>（複数のメディアオブジェクトが同時に再生するグループ化された並行する時間）の使用を介して、この構造を表現する。DTBのSMILファイルのシンプルな形式は次のものである。現れる3つの<code>par</code>が次から次へと再生され、各<code>par</code>によって参照されるテキストと音声コンテンツが同時にレンダリングされる。<br></p>
<pre><samp id="smp_11">

&lt;smil&gt;

 ...

&lt;seq&gt;

  &lt;par&gt;&lt;text.../&gt;&lt;audio.../&gt;&lt;/par&gt;

  &lt;par&gt;&lt;text.../&gt;&lt;audio.../&gt;&lt;/par&gt;

  &lt;par&gt;&lt;text.../&gt;&lt;audio.../&gt;&lt;img.../&gt;&lt;/par&gt;

&lt;/seq&gt;

....

&lt;/smil&gt;

</samp></pre>
<h3 id="h3_45">7.1.2 <a name="SMILMods">SMILモジュール</a></h3>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_98">この規格におけるメディアオブジェクトの同期は、 <a href="#ref-SMIL">SMIL 2.0</a>の仕様に基づいている。開発者は背景や詳細を完全に知るために <a href="#ref-SMIL">SMIL 2.0</a>
<a href="#ref-SMIL">[SMIL]</a>を参照することが求められる。本仕様では、機能ごとにグループ化された次に挙げるモジュールからSMILの仕様の小さなサブセットのみが適用されている。アスタリスクでマークされたモジュールは、この仕様の適用については全体またはその一部が使用されている。他のものは、W3Cのモジュール化のガイドライン下での<em>ホスト言語適合性</em>のために求められるコアセットの一部であるという理由で含まれる以外では使用されない。</p>
<ul id="ul_62">
<li id="li_245">Timing <ul id="ul_63">
<li id="li_246">*BasicInlineTiming</li>
<li id="li_247">MinMaxTiming</li>
<li id="li_248">SyncbaseTiming</li>
<li id="li_249">EventTiming</li>
<li id="li_250">*BasicTimeContainers</li>
</ul></li>
<li id="li_251">Content Control <ul id="ul_64">
<li id="li_252">*BasicContentControl</li>
<li id="li_253">*CustomTestAttributes</li>
<li id="li_254">SkipContentControl</li>
</ul>
</li>
<li id="li_255">Layout <ul id="ul_65">
<li id="li_256">*BasicLayout</li>
</ul>
</li>
<li id="li_257">Linking <ul id="ul_66">
<li id="li_258">*BasicLinking</li>
<li id="li_259">*LinkingAttributes</li>
</ul>
</li>
<li id="li_260">Media Objects <ul id="ul_67">
<li id="li_261">*BasicMedia</li>
<li id="li_262">*MediaClipping</li>
</ul>
</li>
<li id="li_263">Metainformation <ul id="ul_68">
<li id="li_264">*Metainformation</li>
</ul>
</li>
<li id="li_265">Structure <ul id="ul_69">
<li id="li_266">*Structure</li>
</ul>
</li>
</ul>
<p id="para_99">DTBへの適用に特化した<em>プロファイル</em>を形成するために、W3Cモジュール化ガイドラインを使用して、上述のモジュールを組み合わせることができる。「 <a href="#ref-SMIL">SMIL 2.0</a>モジュール」のセクション2は、このプロセスの詳細について説明している。</p>
<h2 id="h2_25">7.2 <a name="SMILApp">DTBへのSMILの適用</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_100">一般的に利用可能なパーサを使用して検証を簡素化し、コンテンツモデルや適用可能な属性リストの決定の複雑さを軽減するために、この規格では<a href="#DTBookDTD">付録1</a>に<a href="#DTBookDTD">DTB-Specific SMIL DTD</a>が含まれているこのDTDには、上で一覧されたモジュールから、DTBへの適用で求められる要素と属性のみが掲載されている。加えて、SMILモジュールの中には、<a href="#d-implied">IMPLIED</a>された時のみDTBへ適用が求められるモジュールがあるという点では、SMILモジュールより制限がある。
</p>
<p id="para_101"><!--MG 30 March, 2004 Added requirements re namespaces and entity declarations and reference re filename extensions.-->準拠したDTBは、少なくとも1つのSMILファイルを含めなくてはならない（Must）。DTBに含まれる全てのSMILファイルは、dtbsmil-2005-1.dtdに準拠した妥当な<a href="#XML">XML</a>
ドキュメントでなければならない（Must）。ファイル名の拡張子の要件については、セクション3.3「<a href="#para_53c">Manifest</a>」を参照すること。<code>smil</code>要素のxmlns属性は、上で名付けられたDTDに記載されている値を使用して明示的にそのドキュメントのインスタンスの中で明記されなければならない（Must）。エンティティ宣言は内部DTDサブセット内で出現しなければならない（Must）。より詳細は情報については、セクション16.1「<a href="#FileConform">一般的なファイルの適合要件</a>
」を参照すること。</p>
<p id="para_102">SMILファイル内の時間コンテナ（<code>seq</code>または<code>par</code>） は<code>id</code>を格納しなければならない（Must）。通常は単一のメディアのDTDに限定されるだろうが、メディアオブジェクト（ <code>audio</code>
、 <code>text</code>
、そして<code>img</code>
）も<code>id</code>を格納してもよい（May）。セクション7.4.10「 <a href="#T-O">テキストのみのDTB</a>」を参照すること。</p>
<p id="para_103">テキストコンテンツファイル（Textual Content File）では、同期される各セグメント（例えば、見出し、パラグラフ、リスト項目など）が、SMILセグメントポイントに対応する一意のidを保持する要素内に格納されなければならない（Must）。また、SMILファイルによって参照されるテキストコンテンツファイル（Textual Content File）の要素は時間コンテナまたはそれを参照するメディアオブジェクトのURIを指定する<code>smilref</code>属性を持っていなければならない（Must）。<code>smilref</code>の値は通常、一定の要素を参照するメディアオブジェクトを格納するSMIL時間コンテナのURIになるだろう。ただし、一連のテキストメディアオブジェクトからなるテキストのみのDTBでは、 <code>smilref</code>はメディアオブジェクトそのものを参照するURIを格納しなければならない（Shall）。セクション4.2.1 「 <a href="#SMILMark">SMILに関連付けられるDTBookのマークアップ</a>
」を参照すること。</p>
<p id="para_105">SMILファイルはテキストコンテンツファイル（Textual Content File）の粒度と一致する粒度を持つことを強く推奨する。つまり、テキストコンテンツファイル（Textual Content File）が、パラグラフレベルでマークアップされている場合は、SMILファイルもパラグラフレベルに対する同期を含むべきである（Should）。</p>
<p id="para_106">SMILファイル内の全ての時間オフセット（及び全ての適用可能なDTBファイル、例えば、NCXの<code>clipBegin</code>/<code>clipEnd</code>、ブックマークの<code>timeOffset</code>など）
は通常の再生スピードに基づいている。同期を維持するために、プレイヤー（Player）は実際の再生（Playback）速度の独立性の時間オフセットを処理しなければならない（Must）。</p>
<h2 id="h2_26">7.3 <a name="SMILElem">SMILの要素</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_107">上述のように、DTBへの適用では、DTBのSMILプロファイル内のモジュールをマークアップする要素と属性の一部のみを使用する。この規格に準拠する再生（Playback）デバイスがサポートする必要があるSMILの要素と属性は、DTB-Specific SMIL DTDを構成する次のSMIL要素と属性のみである。</p>
<ul id="ul_70">
<li id="li_267"><strong>&lt;smil&gt;</strong><br>
<strong>説明: </strong><a href="#ref-SMIL">SMIL 2.0</a>ファイルのルート要素 は<code>smil</code>である。<code>smil</code>要素はただ1つの<code>head</code>
とただ1つの <code>body</code>を格納する、<br>
<strong>宣言: </strong><code>&lt;!ELEMENT smil (head, body) &gt;</code><br>
<strong>構文:</strong>
<code>&lt;smil&gt;</code>...内容...<code>&lt;/smil&gt; </code><br>
<strong>属性:</strong><br>
<ul id="ul_71">
<li id="li_269"><strong>%Core.attrib;</strong>
。セクション7.3.1「<a href="#CommAtt">Core属性</a>」を参照すること。</li>
<li id="li_269a"><!-- JP 2004-03-31 New attribute --><strong>xmlns (CDATA, FIXED) "http://www.w3.org/2001/SMIL20/":</strong> SMILにおける全ての要素の初期設定のXML名前空間を指定する。名前空間の詳細については<a href="#XMLNamespaces">[XML-Namespaces]</a>
を参照すること。この属性と（DTDで指定された）その値は、そのドキュメントインスタンスで明示的に指定されなければならない。</li>
<li id="li_270"><strong>xml:lang (NMTOKEN, <a href="#d-implied">IMPLIED</a>)</strong></li>
</ul>
<strong>有効な親要素:</strong>
なし<br>
<br>
</li>
<li id="li_271"><strong>&lt;head&gt;</strong><br>
<strong>説明: </strong>一時的なプレゼンテーションに直接関係しない情報（メタデータ（<code>meta</code>要素を使用）。また、任意の<code>layout</code>と任意の<code>customAttributes</code>
）を格納する。<!-- LNN 2004-06-24: removed ', in that order' since it is no longer

    relevant--><br>
<strong>宣言: </strong><code>&lt;!ELEMENT head (meta*, (layout, meta*)?, (customAttributes,meta*)?) &gt;</code><br>
<strong>構文:</strong>
<code>&lt;head&gt;</code>...内容...<code>&lt;/head&gt;</code><br>
<strong>属性:</strong><br>
<ul id="ul_72">
<li id="li_272"><strong>%Core.attrib;</strong>
。セクション7.3.1「<a href="#CommAtt">Core 属性</a>」を参照すること。</li>
<li id="li_273"><strong>xml:lang (NMTOKEN, IMPLIED)</strong></li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;smil&gt; </code><br>
<br>
</li>
<li id="li_274"><strong>&lt;meta&gt;</strong><br>
<strong>説明:</strong>
SMILドキュメントを説明する情報を格納する。<br>
<strong>内容:</strong>
<code>&lt;meta</code>
...属性... <code>/&gt;</code><br>
<strong>宣言: </strong><code>&lt;!ELEMENT meta EMPTY &gt;</code><br>
<strong>属性:</strong><br>
<ul id="ul_73">
<li id="li_275"><strong>content (CDATA, #IMPLIED)</strong></li>
<li id="li_276"><strong>name (CDATA, #<a href="#d-required">REQUIRED</a>)</strong></li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;head&gt; </code><br>
<strong>コメント: </strong>規定の内容については、セクション7.5「<a href="#SMILMeta">SMILメタデータ</a>」を参照すること。<br>
<br>
</li>
<li id="li_277"><strong>&lt;layout&gt;</strong><br>
<strong>説明: </strong>視覚、音声、または触覚的なレンダリング空間で、様々な製作者定義の要素、例えば、表、本文、フットノートなどをどこに表示するかについて（それを格納する<code>region</code>要素を通して）制御する。<br>
<strong>宣言: </strong><code>&lt;!ELEMENT layout (region)+ &gt;</code><br>
<strong>構文:</strong>
<code>&lt;layout&gt;</code>...内容...<code>&lt;/layout&gt;</code><br>
<strong>属性:</strong><br>
<ul id="ul_74">
<li id="li_278"><strong>%Core.attrib;</strong>。セクション7.3.1「<a href="#CommAtt">Core 属性</a>」を参照すること。</li>
<li id="li_279"><strong>xml:lang (NMTOKEN, IMPLIED)</strong></li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;head&gt;</code><br>
<strong>コメント: </strong>構文は制限されている。規範の内容については、セクション7.4.6「<a href="#Layout">レイアウト構文</a>」を参照すること。<br>
<br>
</li>
<li id="li_280"><strong>&lt;region&gt;</strong><br>
<strong>説明: </strong>メディアオブジェクト（例えば、テキスト、画像など）の位置、サイズ、及び拡大縮小を制御する。<br>
<strong>宣言: </strong><code>&lt;!ELEMENT region EMPTY &gt;</code><br>
<strong>構文:</strong>
<code>&lt;region</code>
...属性... <code>/&gt;</code><br>
<strong>属性:</strong>
<br>
<ul id="ul_75">
<li id="li_281"><strong>id (ID, REQUIRED)</strong>
メディアオブジェクトの<code>region</code>属性の値は、適切な<code>region</code>
要素のidを参照する。</li>
<li id="li_282"><strong>bottom (CDATA, 'auto')</strong>
表示スペースに <code>region</code>の位置を示す。詳細は<a href="#ref-SMIL">SMIL 2.0</a>を参照すること。</li>
<li id="li_283"><strong>left (CDATA, 'auto' )</strong>
表示スペースに <code>region</code>の位置を示す。詳細は<a href="#ref-SMIL">SMIL 2.0</a>を参照すること。</li>
<li id="li_284"><strong>right (CDATA, 'auto') </strong>
表示スペースに <code>region</code>の位置を示す。詳細は<a href="#ref-SMIL">SMIL 2.0</a>を参照すること。</li>
<li id="li_285"><strong>top (CDATA, 'auto')</strong>
表示スペースに <code>region</code>の位置を示す。詳細は<a href="#ref-SMIL">SMIL 2.0</a>を参照すること。</li>
<li id="li_286"><strong>height (CDATA, 'auto') </strong>
表示スペースに <code>region</code>の位置を示す。詳細は<a href="#ref-SMIL">SMIL 2.0</a>を参照すること。</li>
<li id="li_287"><strong>width (CDATA, 'auto')</strong>
表示スペースに <code>region</code>の位置を示す。詳細は<a href="#ref-SMIL">SMIL 2.0</a>を参照すること。</li>
<li id="li_288"><strong>fit ((hidden|fill|meet|scroll|slice) 'hidden')</strong> 視覚的メディアオブジェクトの固有の高さや幅が、それが表示される<code>region</code>
のそれらと異なる場合の振る舞いを指定する。属性の値の定義については<a href="#ref-SMIL">SMIL 2.0</a>を参照すること。</li>
<li id="li_289"><strong>backgroundColor (CDATA, IMPLIED)</strong>
表示されるメディアオブジェクトによってカバーされない<code>region</code>
領域の背景色を設定する。</li>
<li id="li_290"><strong>showBackground ((always|whenActive) 'always')</strong> <code>region</code>でレンダリングされるべきメディアがない場合に<code>region</code>
の<code>backgroundColor</code>を表示するかどうかを制御する。属性の値の定義については<a href="#ref-SMIL">SMIL 2.0</a>を参照すること。</li>
<li id="li_291"><strong>z-index (CDATA, IMPLIED)</strong> マルチレイヤー表示の制御のために使用される。</li>
<li id="li_291a"><!-- MH 2004-04-05 new attribute--><strong>xml:lang (NMTOKEN, <a href="#d-implied">IMPLIED</a>)</strong></li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;layout&gt;</code><br>
<strong>コメント: </strong><code>region</code>要素上の<code>id</code>を参照する<code>region</code>
属性を持つ全てのメディアオブジェクトはその<code>region</code>内で表示されるだろう。<br>
<br>
</li>
<li id="li_292"><strong>&lt;customAttributes&gt;</strong><br>
<strong>説明: </strong>自動的にレンダリングまたはスキップすることをユーザー（User）が選択できる構造の種類を製作者が指定できる<code>customTest</code>を1つ以上格納する。<br>
<strong>宣言: </strong><code>&lt;!ELEMENT customAttributes (customTest)+ &gt;</code><br>
<strong>構文:</strong>
<code>&lt;customAttributes&gt;</code>...内容...<code>&lt;/customAttributes&gt;</code><br>
<strong>属性:</strong>
<br>
<ul id="ul_76">
<li id="li_293"><strong>%Core.attrib;</strong>
。セクション7.3.1「<a href="#CommAtt">Core 属性</a>」を参照すること。</li>
<li id="li_294"><strong>xml:lang (NMTOKEN, IMPLIED)</strong></li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;head&gt;</code><br>
<strong>コメント: </strong>規範の内容については、セクション7.4.3「<a href="#Skip">スキップ可能な構造</a>」を参照すること。<br>
<br>
</li>
<li id="li_295"><strong><a name="custtest">&lt;customTest&gt;</a></strong><br>
<strong>説明: </strong>DTBの通常の再生（Playback）中にユーザー（User）が表示するまたはスキップするかを選択できる構造の種類（ページ番号、ノート、行番号など）を定義する。以下の<code>par</code>と<code>seq</code>
の<code>customTest</code>属性の定義を参照すること。<br>
<strong>宣言: </strong><code>&lt;!ELEMENT customTest EMPTY &gt;</code><br>
<strong>構文:</strong>
<code>&lt;customTest</code>
...属性... <code>/&gt;</code><br>
<strong>属性:</strong><br>
<ul id="ul_77">
<li id="li_296"><strong>id (ID, REQUIRED)</strong>
SMILの <code>body</code>
内で<code>par</code>または<code>seq</code>の <code>customTest</code>
属性に参照される一意の識別子としての役割を担う。</li>
<li id="li_297"><strong>class (CDATA, IMPLIED)</strong></li>
<li id="li_298"><strong>title (CDATA, IMPLIED)</strong></li>
<li id="li_299"><strong>xml:lang (NMTOKEN, IMPLIED)</strong></li>
<li id="li_300"><strong>defaultState ((true|false) 'false')</strong> 連続的な再生（Playback）中に、プレーヤー（Player）がその構造を描写する(<code>値 = true</code>) かスキップする(<code>値 = false</code>) かを指定する。値が存在しない場合、初期設定の値はfalseで、コンテンツはスキップされる。</li>
<li id="li_301"><strong>override ((visible|hidden) 'hidden')</strong> <code>defaultState</code>
のランタイム再設定が奨励される(<code>値 = "visible"</code>）べきか抑止するべきか（<code>値 = "hidden"</code>）を指定する。規範的な内容については、セクション7.4.3 「<a href="#Skip">スキップ可能な構造</a>」を参照すること。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;customAttributes&gt;</code><br>
<br>
</li>
<li id="li_302"><strong>&lt;body&gt;</strong><br>
<strong>説明: </strong>一時的なプレゼンテーションを定義する時間コンテナを格納する。<br>
<strong>宣言:</strong><code>&lt;!ELEMENT body (par|seq|text|audio|img|a)+ &gt;</code><br>
<strong>構文:</strong>
<code>&lt;body&gt;</code>...内容...<code>&lt;/body&gt;</code><br>
<strong>属性:</strong><br>
<ul id="ul_78">
  <!-- Editorial revision April 21, 2007 by KK

     fixed double periods in <body> Attributes in "Core Attributes"

  -->
<li id="li_303"><strong>%Core.attrib;</strong>。セクション7.3.1「<a href="#CommAtt">Core 属性</a>」を参照すること。</li>
<li id="li_304"><strong>xml:lang (NMTOKEN, IMPLIED)</strong></li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;smil&gt;</code><br>
<strong>コメント: </strong>
<code>body</code>は0以上の <code>seq</code>または<code>par</code>を格納する。そして、0以上のメディアオブジェクト（<code>text</code>、<code>audio</code>、<code>img</code>）またはそのリンク (<code>a</code>)も直接格納してもよい（May）。<br>
<br>
</li>
<li id="li_305"><strong>&lt;seq&gt;</strong><br>
<strong>説明: </strong>一連の<code>par</code>や<code>seq</code>などの一連のSMILイベントのコンテナ。<br>
<strong>宣言: </strong><code>&lt;!ELEMENT seq (par|seq|text|audio|img|a)+ &gt;</code><br>
<strong>構文:</strong>
<code>&lt;seq&gt;</code>...内容...<code>&lt;/seq&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_79">
<li id="li_306"><strong>id (ID, REQUIRED):</strong></li>
<li id="li_307"><strong>class (CDATA, IMPLIED):</strong>要素のこのインスタンスの任意の記述子。入力されたら自動的に特別なナビゲーション機能を呼び出すことを目的に表やリストのような構造の識別に利用することができる。セクション7.4.2「 <a href="#AutoInv">特別なナビゲーションモードの自動呼び出し</a>
」を参照すること。リソースファイルからプレゼンテーションを選択するために使用することもできる。セクション10.3「 <a href="#ResReq">リソースファイルの要件</a>
」を参照すること。</li>
<li id="li_308"><strong>customTest (IDREF, IMPLIED):</strong><code>head</code>内で一致する<code>customTest</code>要素と結びつく<code>seq</code>を参照するID。

</li>
<li id="li_309"><strong>dur (CDATA, IMPLIED)</strong>
seqの持続期間。値の構文は、SMIL 2.0 Timing and Synchronization Module <a href="#ref-SMIL">[SMIL]</a>で定義される。</li>
<li id="li_309a"><!-- MH 2004-04-05 new attribute--><strong>xml:lang (NMTOKEN, <a href="#d-implied">IMPLIED</a>)</strong></li>
<li id="li_309b"><!-- MH, MM 2004-06-10 New attribute --><strong>end (CDATA, IMPLIED)</strong>回避可能なコンテンツ、または、製作者による一時停止コンテンツの有効な持続期間を決定する。<code>end</code>値の構文については、セクション 7.8 「<a href="#End-Vals">End属性の値</a>」 を参照すること。セクション 7.4.1 「<a href="#Escape">回避可能な構造</a>」と7.4.11 「<a href="#P-P">制作者による一時停止</a>」も参照すること。 </li>
<li id="li_309c"><!-- TM 2004-09-15 New attribute --><strong>fill ((freeze | remove) 'remove')</strong>
視覚的要素を最後の状態で凍結するかもう表示しないかを決定する。セクション7.4.11「 <a href="#P-P">製作者による一時停止</a>」と<a href="#ref-SMIL">SMIL 2.0</a>のセクション10.3.1 を参照すること。</li>
</ul>
<!-- 2004-07-07 MM Added element a -->有効な親要素<strong>:</strong>
<code>body</code>、<code>seq</code>、<code>par</code>、<code>a</code><br>
<strong>コメント: </strong><code>seq</code>をネストすることが許容される。<br>
<br>
</li>
<li id="li_310"><strong>&lt;par&gt;</strong><br>
<strong>説明: </strong>複数の要素（たとえば、テキスト、音声、画像）が同時に再生する並行する時間グループ。<br>
<strong>宣言: </strong><code>&lt;!ELEMENT par (seq|text|audio|img|a)+ &gt;</code><br>
<strong>Syntax:</strong>
<code>&lt;par&gt;</code>...コンテンツ...<code>&lt;/par&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_80">
<li id="li_311"><strong>id (ID, REQUIRED):</strong></li>
<li id="li_312"><strong>class (CDATA, IMPLIED):</strong>
その要素のこのインスタンスの任意の記述子。入力されたら自動的に特別なナビゲーション機能が呼び出すことを目的に表やリストのような構造の識別に利用することができる。セクション7.4.2「 <a href="#AutoInv">特別なナビゲーションモードの自動呼び出し</a>
」を参照すること。リソースファイルからプレゼンテーションを選択するために使用することもできる。セクション10.3「 <a href="#ResReq">リソースファイルの要件</a>
」を参照すること。</li>
<li id="li_313"><strong>customTest (IDREF, IMPLIED):</strong> <code>head</code>内にある一致する<code>customTest</code>要素を参照するID。</li>
<li id="li_313a"><!-- MH 2004-04-05 new attribute--><strong>xml:lang (NMTOKEN, <a href="#d-implied">IMPLIED</a>)</strong></li>
</ul>
   <!-- 2004-07-07 MM Added element a --><strong>有効な親要素:</strong>
<code>body</code>、<code>seq</code>、<code>a</code><br>
<strong>コメント: </strong>規範的内容については、セクション7.4.7 「<a href="#Par"><code>par</code>の内容</a>」を参照すること。 <br>
<br>
</li>
<li id="li_314"><strong>&lt;text&gt;</strong><br>
<strong>説明: </strong>レンダリングされるテキストコンテンツのセグメントを指し示す。<br>
<strong>宣言: </strong><code>&lt;!ELEMENT text EMPTY &gt;</code><br>
<strong>Syntax:</strong>
<code>&lt;text</code>...属性...<code>/&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_81">
<li id="li_315"><strong>id (ID, IMPLIED):</strong>
任意の識別子。</li>
<li id="li_316"><strong>src (CDATA, REQUIRED):</strong>
レンダリングされるテキストコンテンツファイル（Textual Content File）のフラグメントのURI</li>
<li id="li_317"><strong>type (CDATA, IMPLIED):</strong>
メディアファイルのタイプ。</li>
<li id="li_318"><strong>region (CDATA, IMPLIED):</strong>（ドキュメントの<code>head</code>内の<code>layout</code>内で定義される）テキストが表現される<code>region</code>を指定する。適切な<code>region</code>のidを参照する 。同じレンダリング空間に現れるテキストオブジェクトの全てのタイプは <code>region</code>では同じ値が割り振られるだろう。例えば、ページ番号と製作者ノートは、両方とも画面のメインのテキスト領域（<code>region="text"</code>
）に表示されるかもしれない。一方で、ノート（例えば、フットノート）は、画面の下部にある別の領域（ <code>region="notes"</code>
）に表示されるかもしれない。</li>
<li id="li_318a"><!-- MH 2004-04-05 new attribute--><strong>xml:lang (NMTOKEN, <a href="#d-implied">IMPLIED</a>)</strong></li>
</ul>
<strong>有効な親要素:</strong><!--OHA and MM March 19, 2004 Added "a"--><code>body</code>、<code>par</code>、<code>seq</code>、<code>a</code><br>
<br>
</li>
<li id="li_319"><strong>&lt;audio&gt;</strong><br>
<strong>説明: </strong>レンダリングされる音声コンテンツのセグメントを指し示す。<br>
<strong>宣言: </strong><code>&lt;!ELEMENT audio EMPTY &gt;</code><br>
<strong>構文:</strong>
<code>&lt;audio</code>...属性...<code>
/&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_82">
<li id="li_320"><strong>id (ID, IMPLIED):</strong>
任意の識別子。</li>
<li id="li_321"><strong>src (CDATA, REQUIRED):</strong>
レンダリングされるクリップを格納する音声ファイルのURI。</li>
<li id="li_322"><strong>type (CDATA, IMPLIED):</strong>
メディアファイルのタイプ。</li>
<li id="li_323"><!-- tkc and mm, Feb. 20, 2004.  Made REQUIRED.--><strong>clipBegin (CDATA, REQUIRED):</strong>音声ファイルの開始点からの時間オフセットとして連続的な音声ファイルの区分の開始点を指定する。値の構文は、SMIL 2.0 Timing and Synchronization Module<a href="#ref-SMIL">[SMIL]</a>によって定義される。 セクション7.7「<a href="#Clock">メディアクリッピングとクロック値</a>
」を参照すること。</li>
<li id="li_324"><!-- tkc and mm, Feb. 20, 2004.  Made REQUIRED.--><strong>clipEnd (CDATA, REQUIRED):</strong>
 音声ファイルの開始点からの時間オフセットとして連続的な音声ファイルの区分の終点を指定する。<code>clipBegin</code>
と同じ属性値の構文を使用する。</li>
<li id="li_325"><strong>region (CDATA, IMPLIED):</strong>
（ドキュメントの<code>head</code>内の<code>layout</code>内で定義される）音声オブジェクトが表現される<code>region</code>を指定する。適切な<code>region</code>のidを参照する。</li>
<li id="li_325a"><!-- MH 2004-04-05 new attribute--><strong>xml:lang (NMTOKEN, <a href="#d-implied">IMPLIED</a>)</strong></li>
</ul>
<strong>有効な親要素:<!--OHA and MM March 19, 2004 Added "a"--></strong><code>body</code>、<code>par</code>、<code>seq</code>、<code>a</code>。<br>
<br>
</li>
<li id="li_326"><strong>&lt;img&gt;</strong><br>
<strong>説明: </strong>レンダリングされる画像を指し示す。<br>
<strong>宣言: </strong><code>&lt;!ELEMENT img EMPTY &gt;</code><br>
<strong>構文:</strong>
<code>&lt;image</code>...属性...<code>
/&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_83">
<li id="li_327"><strong>id (ID, IMPLIED):</strong>
任意の識別子。</li>
<li id="li_328"><strong>src (CDATA, REQUIRED):</strong>
レンダリングされる画像ファイルのURI。</li>
<li id="li_329"><strong>type (CDATA, IMPLIED):</strong>
メディアファイルのタイプ。</li>
<li id="li_330"><strong>region (CDATA, IMPLIED):</strong>
（ドキュメント<code>head</code>内の<code>layout</code>
内で定義される）画像が表現される<code>region</code>
を指定する。適切な<code>region</code>のidを参照する。</li>
<li id="li_330a"><!-- MH 2004-04-05 new attribute--><strong>xml:lang (NMTOKEN, <a href="#d-implied">IMPLIED</a>)</strong></li>
</ul>
<strong>有効な親要素:<!--OHA and MM March 19, 2004 Added "a"--></strong>
<code>body</code>、<code>par</code>、<code>seq</code>、<code>a</code><br>
<br>
</li>
<li id="li_331"><strong>&lt;a&gt;</strong><br>
<strong>説明: </strong>リンクを定義する。初期設定の動作では、リンクが格納するメディアオブジェクトの持続時間が有効になる。<br>
<strong><!-- LNN 2004-06-24: allowed par and seq -->宣言: </strong><code>&lt;!ELEMENT a (par|seq|text|audio|img)* &gt;</code><br>
<strong>構文:</strong>
<code>&lt;a&gt;</code>...内容...<code>&lt;/a&gt; </code><br>
<strong>属性:</strong>
<ul id="ul_84">
<li id="li_332"><strong>%Core.attrib;</strong>
。セクション7.3.1「<a href="#CommAtt">Core 属性</a>」を参照すること。</li>
<li id="li_333"><strong>xml:lang (NMTOKEN, IMPLIED)</strong></li>
<li id="li_334"><strong>href (%URI;, REQUIRED)</strong>
リンクのターゲットのURIを指定する。URIはフラグメント識別子（Fragment Identifier）を含めてもよい（May）。</li>
<li id="li_334a"><strong><!-- LNN 2004-06-24: attribute 'external' added.  MM 2004-07-06: changed default to 'false' -->external ((true|false) 'false')</strong>
DTBの一部ではないメディアコンテンツを指す外部リンク。コンテンツがDTBプレーヤー（Player）にとってレンダリングできるかどうかに関係なく、外部のメディアコンテンツは外部のアプリケーションによってレンダリングされなければならない（Must）。</li>
</ul>
<strong>有効な親要素:</strong>
<code>body</code>、<code>par</code>、<code>seq</code><br>
<strong>コメント: </strong>
規範の内容については、7.4.5,「<a href="#SMILLinks">リンク</a>」を参照すること。<br>
<br>
</li>
</ul>
<h3 id="h3_49">7.3.1 <a name="CommAtt">Core 属性</a></h3>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_107n">上で列挙されるエンティティ%Core.attrib; が次の属性を利用することが可能である。</p>
<ul id="ul_85">
<li id="li_335"><strong>id (ID, IMPLIED)</strong></li>
<li id="li_336"><strong>class (CDATA, IMPLIED)</strong></li>
<li id="li_337"><strong>title (CDATA, IMPLIED)</strong></li>
</ul>
<h3 id="h3_49a"><!-- MH 2004-04-02 New section. -->7.3.2 <a name="xmllang">xml:lang属性</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p>xml:lang属性は 、コンテンツを保有する、または参照するSMILの要素の<a href="#RFC3066">[RFC 3066]</a>言語コードを指定する。</p>
<h2 id="h2_27">7.4 <a name="SMILProd">DTBのためのSMILの要件</a></h2>
<h3 id="h3_51">7.4.1 <a name="Escape">「回避可能な」構造</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_108"><!-- MM Feb. 18, 2004  Clarified meaning of escape -->DTBプレーヤー（Player）は、表、リスト、製作者のノート、アノテーション、サイドバー、ノートの構造について、読者（Reader）がDTBのレンダリングからシングルアクションで「回避」できる機能を提供するべきである（Should）。回避は、ローカルナビゲーション（Local navigation）を現在の構造（表、リストなど）の直後のポイントに移動することを意味する。</p>
<p id="para_108a"><!-- MM Feb. 18, 2004 Added sidebar. MM 2004-05-19 Removed requirement that class attribute values be drawn from DTBook. -->この機能をサポートするには、どのような構造のものであれ、そのSMILエントリが、1つ以上の子の時間コンテナ（<code>seq</code>または<code>par</code>
）を格納する1つの<code>seq</code>要素で構成されなければならない （Must）。また、構造のタイプを識別するclass属性は、回避可能な構造を格納しただけの親の<code>seq</code>に適用されなければならない（Must）。class属性の値は、表やリストを除いて制限されない。セクション 7.4.2によれば、表やリストのclassの属性の値はそれぞれ"table"、"list"でなければならない（Must）。</p>
<p id="para_108aa"><!-- MH 2004-05-19 New requirement. MM 2004-05-21, 06-10 and 07-06 Editorial changes. -->回避可能な構造のみを格納した親の<code>seq</code>要素は、<code>"DTBuserEscape;childId-value.end"</code>の値を持つ<code>end</code>属性を持たなくてはならない（Must）。<code>childID-value</code>は 親の <code>seq</code>の最後の子の時間コンテナの <code>id</code>の値である。規定されるようにその値は、ユーザー起動のエスケープアクション (DTBuserEscape) または最後の子の時間コンテナの通常の終点、いずれか先に起こることによって回避可能な構造が終了することをプレーヤー（Player）に定義する。「 <a href="#End-Vals">End属性値</a>
」と<a href="#Ex7.4">例7.4</a>を参照すること 。</p>
<p id="para_108d"><!-- MM 2004-05-21   New requirement. -->リソースファイルエントリは、DTB内で識別される回避可能な構造の各タイプごとに与えられなくてはならない（Must）。通常は、リソースは SMIL時間コンテナの<code>class</code>
属性を経由して回避可能な構造と関係付けられる。セクション10「<a href="#Resource">リソースファイル</a>
」を参照すること。</p>
<p id="para_108b"><!-- MM Feb. 18, 2004 New para. -->上記の規則は、これらの構造がSMILで識別されるDTBのみに適用される。例えば、時間コンテナが完全な章を保持しているDTB内では、このセクションで説明されている構造にとっては「回避可能」は不可である。</p>
<h3 id="h3_53">7.4.2 <a name="AutoInv">特別なナビゲーションモードの自動呼び出し</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_109"><!-- TM 2004-05-11 Changed 'seq or par' to 'seq' -->DTBプレーヤー（Player）の開発者は、読者（Reader）が表やリストに入った時に自動的に特別なプレーヤー（Player）ナビゲーションモードを呼び出すことを選択してもよい（May）（「<a href="#Navfeat">ドキュメントナビゲーション機能リスト[Navigation Features]{</a>」を参照すること。 ）。この機能をサポートするには、適切な方法で"table"や"list"の値を使用して、表やリストを格納する<code>seq</code>がclass属性が含まれていなければならない（Must）。</p>
<h3 id="h3_55">7.4.3 <a name="Skip">「スキップ可能な」構造</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_110"><!-- MM 2004-02-18 Clarified when skippability is possible -->プレイヤー（Player）は、DTB内のある構造を「オフにする」、つまり、プレーヤー（Player）が再生（Playback）中に自動的にスキップする構造を選択することができるオプションをユーザー（User）に提供するべきである（Should）。この機能をサポートするために、 以下に規定される構造を厳格に格納する<code>seq</code>または<code>par</code>は、それに適用される<code>customTest</code>属性を持っていなければならない（Must）。また、それぞれの「スキップ可能な」構造の <code>customTest</code>要素と同様に<code>customAttributes</code>要素が、それぞれのSMILファイルの<code>head</code>に存在し、コンテンツを格納しなければならない（Must）。</p>
<p id="para_110a"><!-- MM 2004-02-18 Added "optional" before sidebar. 2004-04-20 MM/LR/MH Changed items to non-DTBook names. -->最低限、行番号、ノート、ノートリファレンス、アノテーション、ページ番号、任意の製作者ノートと製作者サイドバーの時間コンテナに<code>customTest</code>
属性は適用されなければならない（Must）。ノート、アノテーション、任意の製作者ノート、複数のセグメントを格納する任意のサイドバーは<code>seq</code>内でラップされた一連の<code>par</code>として表現されなければならない（Must）。それで<code>seq</code>
に<code>customTest</code>が適用でき、ユーザー（User）はその全体のシーケンスをスキップできる。</p>
<p id="para_110b"><!-- MM 2004-02-18 New para -->上のパラグラフのルールはまさに「スキップ可能な」構造を格納するSMIL時間コンテナを持つDTBのみに適用される。例えば、時間コンテナが完全な章を保持するDTBでは、「スキップ可能」は、このセクションで説明された構造では不可能である。</p>
<p id="para_110c"><!--MH 30 March, 2004 - Added new paragraph leaving customTest attribute values open and requiring resource files if skippability is implemented. OHA 2004-07-14 Added: (via the corresponding...NCX) --> （<code>seq</code>または<code>par</code>
上のcustomTest属性と<code>customTest</code>要素上の<code>id</code>
属性の）属性値は製作者に委ねられる。スキップ可能な要素を利用する製作者は、プレーヤー（Player）がスキップ可能な要素をユーザーインターフェイス内で表示してよい（May）ようにするために、（対応するNCX内の<code>smilCustomTest</code>を通じて）それぞれの要素のリソースファイルエントリを供給しなければならない（Must）。</p>
<p id="para_110d"><!--MM and MH 30 March, 2004 New requirement -->
<code>customTest</code>
要素の<code>defaultState</code>の値は、DTBの全てのSMILファイルで同じでなければならない（Must）。</p>
<p id="para_112"><code>override</code>属性の推奨される値は "visible" である。これは、SMIL 2仕様で規定される初期値に反していることに注意すること。<a href="#custtest">上述の<code>&lt;customTest&gt;</code>の説明を参照すること</a>。 </p>
<p id="para_113"><!-- MM 2004-04-05 Clarified what navigates means. 2004-04-20 Limited to global navigation; changed must to should.-->ユーザー（User）がグローバルナビゲーション（Global navigation）を通じて直接、無効にされたスキップ可能な要素に移動する場合、プレーヤー（Player）は現在の状態を無視し、その要素のコンテンツをレンダリングするべきである（Should）。</p>
<p id="para_114">セクション8.5 「<a href="#NCXWorks">どのようにNCXが機能するのか</a>」は、ユーザー（User）に効率的なプレゼンテーションを提示するために、スキップ可能な構造上の情報がNCX内でどのように集約されているのかについて説明している。</p>
<h3 id="h3_57">7.4.4 <a name="SMILDist">複数のメディアユニット（Media Unit）をまたぐファイルのパッケージング</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_115">DTBが複数のメディアユニット（Media Unit）（例えば、CD-ROMディスクなど）にまたがるとき、SMILファイルをレンダリングすることが要求される全てのファイルは、そのSMILファイルと同じメディアユニット（Media Unit）上に存在しなくてはならない（Must）。この要件は、プレーヤー（Player）が完全なDTBプレゼンテーションを提供するためにSMILファイルの位置を追跡するだけでよいことを保証する。</p>
<h3 id="h3_59">7.4.5 <a name="SMILLinks">リンク</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_116"><!-- 2004-04-20 ZED AC New language regarding targets in text and SMIL-->リンク （つまり、<code>href</code>属性と一緒になった<code>&lt;a&gt;</code>（アンカー）要素)がDTBのテキストコンテンツファイル（Textual Content File）に存在する場合、対応するSMILファイルにそれらが含まれなくてはならない（Must）。テキストコンテンツとSMILファイル内の関連リンクは、テキストコンテンツとSMILファイル内のそれぞれの同じ情報を指し示さなければならない（Must）。具体的には、SMILリンク先であるSMILの時間コンテナのidが、テキストリンク先であるテキスト要素上のsmilref属性と同じでなければならない（Must）。アンカーの入れ子は禁止されている。リンクの初期設定の動作は、少なくともそれに含まれるオブジェクトが持続する期間はアクティブであることである。プレイヤー（Player）は他の動作を確立してもよい（May）（例えば、予め定めた時間 （可能であればユーザー（User）が変更可能であること）または次のリンクが現れるまでアクティブ状態でリンクを維持するなど）。</p>
<p id="para_116a"><!-- 2004-06-29 TM - new paragraph on @external -->外部リンクはDTBの一部ではないメディアコンテンツを指し示している。そのようなリンクは、<code>&lt;a&gt;</code>要素の<code>external</code>
属性によって外部リンクとして識別されなければならない（Must）。<code>external</code>
属性の初期値は"false"である。DTBプレーヤがそのコンテンツをレンダリング可能であろうとなかろうと、外部メディアコンテンツは、外部アプリケーションによってレンダリングされなければならない（Must）。</p>
<h3 id="h3_61">7.4.6 <a name="Layout">レイアウト構文</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_117">この規格では、SMIL 2.0 Basic Layout 構文のみを使用できる（つまり、 <a href="#CSS2">CSS2</a>構文その他を使用することが認められていない。）。</p>
<h3 id="h3_63">7.4.7 <a name="Par"></a>&lt;par&gt;の内容</h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_118">各<code>par</code>は <code>text</code>、<code>audio</code>、<code>image</code>、そして<code>seq</code>をそれぞれたった1つずつ格納することができる。この議題に関するより詳しい議論については、セクション 7.4.10 「<a href="#T-O">テキストのみのDTB</a>」を参照すること。</p>
<p id="para_119">テキストコンテンツファイル（Textual Content File）と音声ファイルの両方が存在する場合は、同じ<code>par</code>内にある<code>text</code>と<code>audio</code>オブジェクトは両方とも資料の同じボディ（例えば、同じパラグラフなど）を表現しなくてはならない（Must）。</p>
<p id="para_120">ポータブルDTBプレーヤー（Player）にはリソースに制約があるためため、複数の音声メディアオブジェクトが同時にレンダリングされるようなSMILプレゼンテーションを作成してはならない（Must Not）。リーディングシステムは、複数の音声ファイルの同時レンダリングをサポートすることは求められていない。</p>
<h3 id="h3_67">7.4.8 <a name="Notes">SMIL内のノートとアノテーション</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_122">リンクは、ターゲットとして対応する<code>note</code>と<code>annotation</code>ともに、全ての<code>noteref</code>と<code>annoref</code>のメディアオブジェクト（通常は<code>audio</code>）に適用されることが強く推奨される。リンクの存在は、<code>noteref</code>がオン、 <code>note</code>がオフの時に<code>note</code>へのアクセスが容易になるなどの機能をキープレーヤー（Player）が持つことを可能とする。</p>
<p id="para_123">初期設定、つまり、<code>noteref</code>と<code>note</code>の（シンプルなプレーヤー（Player）上の）線形のプレゼンテーションが<code>note</code>
リファレンスと<code>note</code>をレンダリングするための製作エージェンシーのポリシーに適切な順序と位置にあるようにするために、<code>noteref</code>と<code>note</code>がSMIL内で実装されることが推奨される。</p>
<h3 id="h3_69">7.4.9 <a name="Images">SMIL内の画像</a></h3>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_124">画像表示の継続時間は、最長のメディアオブジェクトまたは同じ <code>par</code>に格納される時間コンテナのそれに等しくなるだろう。以下の例7.2は、画像とそれに関係付けられたキャプションと製作者ノートのSMILの実装例を示している。</p>
<h3 id="h3_71">7.4.10 <a name="T-O">テキストのみのDTB</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_125">テキストのみのDTBはSMILファイルを持たなくてはならない（Must）。これは、ユーザー（User）がSMILで有効になっている多くの機能にアクセスすることを保証する。上で言及されているように、SMILファイルはテキストコンテンツファイル（Textual Content File）の粒度と一致する粒度を持つことが強く推奨される。</p>
<p id="para_126">音声資料を持たないDTBでは、<code>text</code>メディアオブジェクトの持続時間は、ユーザー（User）によって制御される（つまり、プレーヤー（Player）がコマンド上の次の<code>text</code>オブジェクトをレンダリングする）か、またはプレーヤー（Player）（例えば、テキスト音声合成エンジン、大活字に用いるペーシングアルゴリズム、点字ディスプレイなどが次のメディアオブジェクトのトリガーになるなど）によって制御される。</p>
<h3 id="h3_72a">7.4.11  <!-- MH 2004-06-03 New section.  MM 2004-06-04 Editorial changes. --><a name="P-P">製作者による一時停止</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_126a">製作者は、ユーザー（User）が再生（Playback）を再開するアクションをとるまで一時停止するDTBプレゼンテーションを持つコンテンツを作成してもよい（May）。この一時停止は製作者によって使用されていもよい（May）。例えば、練習問題をしたり、コンテンツに関係する物理モデルを調査する時間をユーザー（User）に提供する場合などである。</p>
<p id="para_126aa"><!-- MH 2004-06-09 New Para to explain Duration. -->
製作者は任意に、時間コンテナのための最大のアクティブ持続期間を指定してもよい（May）。このアクティブ持続期間は、ユーザー（User）が再生（Playback）を直接再開しない場合に、製作者がDTBが再生（Playback）を再開する前に一時停止を希望する追加の時間を、コンテンツの単純持続時間に加えたものである。</p>
<p id="para_126b">この目的のために作成されたコンテンツは、少なくとも1つの子の時間コンテナ（<code>seq</code>または<code>par</code>）を格納する1つの<code>seq</code>要素で構成される。そして、親の<code>seq</code>
は <code>end</code>属性値 "DTBuserResume"を持ち、任意で持続時間の情報を持つ。持続時間が指定されない限り、この<code>end</code>属性値を持つ時間コンテナが無期限の持続時間を持つことになるだろう。ユーザー（User）によるDTBuserResumeの呼び出しによってまたは指定された持続時間の終点に到達した時のみ終了する。プレイヤー（Player）は子のメディアオブジェクトの内容を提示し、DTBuserResumeの発生または存在するなら指定された持続期間の終了を待つ。<code>end</code>の値の構文については、セクション7.8「<a href="#End-Vals">End属性値</a>」を参照すること。  </p>
<p id="para_126c">製作者による一時停止をサポートしていないプレーヤー（Player）は<code>end</code>イベントとそれに続く再生を無視するだろう。</p>
<p id="para_126d"><a href="#Ex7.5">例 7.5 と例7.6</a>を参照すること。 </p>
<h2 id="h2_28">7.5 <a name="SMILMeta">SMILメタデータ</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_127">メタデータは<code>&lt;meta&gt;</code>要素を使用して<code>&lt;head&gt;</code>要素内に含まれている。コンテンツの製作者は必要に応じて、以下に列挙している以外のその他のメタデータを導入してもよい（May）。しかし、この規格で定義されてない限り、メタデータ名は接頭辞"dtb:"で初めてはならない（Shall Not）。プレイヤー（Player）は、未知のメタデータに遭遇した時に処理を失敗してはならない（Must Not）。少なくともそれを無視しなければならない（Must）。</p>
<ul id="ul_86">
<li id="li_338">dtb:generator <ul id="ul_87">
<li id="li_339">内容: SMILファイルを生成したソフトウェアの名前とバージョン。</li>
<li id="li_340">出現: 任意 - 推奨</li>
</ul>
</li>
<li id="li_341">dtb:totalElapsedTime <ul id="ul_88">
<li id="li_342">内容: このSMILファイルの開始点までの経過時間の合計。SMIL 2.0 Timing and Synchronization Module<a href="#ref-SMIL">[SMIL]</a>のクロック値。 セクション7.7「<a href="#Clock">メディアクリッピングおよびクロック値</a>」を参照すること。</li>
<li id="li_343">出現: 必須</li>
<li id="li_344">コメント: textNCX タイプのDTBには、"0"と設定する。</li>
</ul>
</li>
<li id="li_345">dtb:uid <ul id="ul_89">
<li id="li_346">内容:グローバルな一意なDTBの識別子。値は、パッケージファイル（Package File）のunique-identifier要素で参照される<code>dc:Identifier</code>
要素の値と同じである。セクション3.1「<a href="#PkgId">パッケージの識別</a>
」を参照すること</li>
<li id="li_347">出現: 必須</li>
</ul>
<br><br></li>
</ul>
<h2 id="h2_29">7.6 <a name="SMILEx">例</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_128">次の例は、<code>head</code>の使用例とその内容を示している。<code>meta</code>要素の3つのインスタンスは、DTBの一意のid、このSMILファイルを生成したツール、そして、ファイルの開始点までの経過時間を格納する。 <code>region="text"</code>または<code>region="notes"</code>を持つテキスト要素の視覚的表示位置は<code>layout</code>内の<code>region</code>
によって指定される。テキスト領域が画面の大部分を占めている（"text"領域の下端は、全体的なレンダリングウィンドウの下部から15％である）。ノート領域はその底部のみ15％を占めている。<code>customAttributes</code>は <code>customTest="notes"</code>
または<code>customTest="prodnotes"</code>
付の時間コンテナは自動的に再生されれ、<code>customTest="pagenum"</code>
付の時間コンテナは、初期設定でスキップされることを指し示している。再生（Playback）デバイスのユーザーインターフェイスがそれをサポートしているなら、ユーザー（User）はこれらの設定を変更することができる。</p>
<p id="para_129">例7.1: </p>
<pre><samp id="smp_12">

&lt;?xml version="1.0"  encoding="UTF-8"?&gt;

&lt;!DOCTYPE smil PUBLIC "-//NISO//DTD dtbsmil 2005-1//EN"

  "http://www.daisy.org/z3986/2005/dtbsmil-2005-1.dtd"&gt;

&lt;smil xmlns="http://www.w3.org/2001/SMIL20/"&gt;

    &lt;head&gt;

       &lt;meta name="dtb:uid" content="dk-dbb-4z0065" /&gt;

       &lt;meta name="dtb:generator" content="smilgen2.4" /&gt;

       &lt;meta name="dtb:totalElapsedTime" content="01:33:56.233" /&gt;

       &lt;layout&gt;

          &lt;region id="text" top="0%" left="0%" right="0%" bottom="15%"/&gt;

          &lt;region id="notes" top="85%" left="0%" right="0%" bottom="0%"/&gt;

       &lt;/layout&gt;

       &lt;customAttributes&gt;

          &lt;customTest id="pagenum" defaultState="false" override="visible"/&gt;

          &lt;customTest id="note" defaultState="true" override="visible"/&gt;

          &lt;customTest id="prodnote" defaultState="true" override="visible"/&gt;

       &lt;/customAttributes&gt;

    &lt;/head&gt;

    &lt;body&gt;

     ...

    &lt;/body&gt;



&lt;/smil&gt;

</samp></pre>
<p id="para_130">例 7.2は <code>body</code>内のSMIL要素の使用例を示している。<!-- LNN 2004-06-24: dropped the following: 'The initial

  <code>seq</code> includes the attribute <code>"dur" </code>which specifies

  that the entire SMIL file is one hour, three minutes, 24.9 seconds long.' -->

  各<code>par</code>（１つのページ番号、1つの見出し、2つのパラグラフ、図が示されている）はテキスト、画像（該当する場合）と同時にレンダリングされるべき対応する音声クリップのセグメントが含まれている。図は、2つのパラグラフの間に入る。</p>
<p id="para_131">画像ファイルは、その図のキャプションと図を説明する製作者ノートのテキスト版と音声版が並行して提示される。グループ全体が、連続した２つの<code>par</code>と同時にレンダリングされた画像ファイルとともに１つの<code>par</code>でラップされる。</p>
<!-- L.S. Nilesen: replaced '<p id="para_132">The <code>par</code> for the second paragraph includes a link that "wraps" the <code>audio</code>  element.

</p>' with the following -->
<p id="para_132">リンクは２つめのパラグラフの<code>par</code>を 「ラップ」している。</p>
<p id="para_133">例7.2: </p>
<pre><samp id="smp_13">&lt;?xml version="1.0" encoding="UTF-8"?&gt;

&lt;!DOCTYPE smil PUBLIC "-//NISO//DTD dtbsmil 2005-1//EN"

  "http://www.daisy.org/z3986/2005/dtbsmil-2005-1.dtd"&gt;

&lt;smil xmlns="http://www.w3.org/2001/SMIL20/"&gt;

&lt;head&gt;

....

&lt;/head&gt;

&lt;body&gt;

   &lt;seq id="baseseq" <!-- LNN 2004-06-24: dropped 'dur="1:03:24.9"' -->&gt;

      &lt;par id="p1" customTest="pagenum"&gt;

         &lt;text region="text" src="rs.xml#pg_1" /&gt;

         &lt;audio src="rs_fwdx.mp3" clipBegin="00:00:00"

         clipEnd="00:00:00.91" /&gt;

      &lt;/par&gt;



      &lt;par id="h1"&gt;

         &lt;text region="text" src="rs.xml#h1_1" /&gt;

         &lt;audio src="rs_fwdx.mp3" clipBegin="00:00:01.62"

         clipEnd="00:00:02.53" /&gt;

      &lt;/par&gt;



      &lt;par id="para1"&gt;

         &lt;text region="text" src="rs.xml#para_1" /&gt;

         &lt;audio src="rs_fwdx.mp3" clipBegin="00:00:03.51"

         clipEnd="00:01:45.36" /&gt;

      &lt;/par&gt;



      &lt;par id="img1"&gt;

         &lt;img region="image" src="fig1.png" /&gt;

         &lt;seq id="icap1"&gt;

            &lt;par id="cap1"&gt;

               &lt;text region="caption" src="rs.xml#caption_1" /&gt;

               &lt;audio src="rs_fwdx.mp3" clipBegin="00:01:45.98"

               clipEnd="00:01:52.66" /&gt;

            &lt;/par&gt;



            &lt;par id="pnote1" customTest="prodnote" class="prodnote"&gt;

               &lt;text region="text" src="rs.xml#prodnote_1" /&gt;

               &lt;audio src="rs_fwdx.mp3" clipBegin="00:01:53.08"

               clipEnd="00:02:55.34" /&gt;

            &lt;/par&gt;

         &lt;/seq&gt;

      &lt;/par&gt;



      &lt;a href="rs12.smil#h2_9"&gt;

         &lt;par id="para2"&gt;

            &lt;text region="text" src="rs.xml#para_2" /&gt;

            &lt;audio src="rs_fwdx.mp3" clipBegin="00:02:56.21"

            clipEnd="00:04:03.75" /&gt;

         &lt;/par&gt;

      &lt;/a&gt;

      ...

   &lt;/seq&gt;

&lt;/body&gt;

&lt;/smil&gt;



</samp></pre>
<p id="para_134">複数のセグメントを格納するノートまたはサイドバーは、１つの<code>seq</code>でラップされる連続した<code>par</code>
として表現されるだろう。そのため、ユーザー（User）は全体のシーケンスをスキップすることができる。例7.3の最初の部分は、この状況を示している。さらに、パラグラフの中間部分のノートリファレンスは、ノートリファレンスまたはノートの有無に関わらず、再生（Playback）デバイスが適切にコンテンツをレンダリングできるようにするためのこの特別な構文を要求するだろう。</p>
<p id="para_135">例7.3の後半では、最初の<code>par</code>が（テキストコンテンツファイル（Textual Content File）内の１つの<code>span</code>要素で識別される）ノートリファレンスに先行するパラグラフ120の一部を格納している。2番目の<code>par</code>はノートリファレンスそのものを保持している（つまり、"footnote 1"）。3番目の<code>par</code>はfootnote1のコンテンツを格納し、最後のそれはパラグラフ120の残りを保持している。その <code>seq</code>と各<code>par</code>は一意の<code>id</code>を格納することに注意すること。テキストまたはノート領域のいずれかにおいて各セグメントが表示されるかどうかを<code>text</code>上の<code>region</code>属性が制御する。</p>
<p id="para_136">例 7.3:</p>
<pre><samp id="smp_14">...

&lt;body&gt;



   &lt;seq id="baseseq"  <!-- LNN 2004-06-24: dropped 'dur="02:14:34.156"' -->&gt;

      ... (a series of pars)

      &lt;seq id="sidebar_1" customTest="sidebar"&gt;

         &lt;par id="para_9"&gt;

            &lt;text region="text" src="rs.xml#para_9" /&gt;

            &lt;audio src="rs_fwdx.mp3" clipBegin="02:02.711"

            clipEnd="02:14.678" /&gt;

         &lt;/par&gt;



         &lt;par id="para_10"&gt;

            &lt;text region="text" src="rs.xml#para_10" /&gt;

            &lt;audio src="rs_fwdx.mp3" clipBegin="02:15.545"

            clipEnd="02:44.612" /&gt;

         &lt;/par&gt;

      &lt;/seq&gt;

      ... (a series of pars)

      &lt;seq id="para_120"&gt;

         &lt;par id="span_3"&gt;

            &lt;text region="text" src="rs.xml#span_3" /&gt;

            &lt;audio src="rs_fwdx.mp3" clipBegin="46:58.744"

            clipEnd="47:21.659" /&gt;

         &lt;/par&gt;



         &lt;par id="nref_1" customTest="noteref"&gt;

            &lt;text region="text" src="rs.xml#nref_1" /&gt;

            &lt;audio src="rs_fwdx.mp3" clipBegin="47:22.610"

            clipEnd="47:23.555" /&gt;

         &lt;/par&gt;



         &lt;par id="ftn_1" customTest="note" class="note"&gt;

            &lt;text region="notes" src="rs.xml#ftn_1" /&gt;

            &lt;audio src="rs_notes.mp3" clipBegin="00:00.091"

            clipEnd="00:34.754" /&gt;

         &lt;/par&gt;



         &lt;par id="span_4"&gt;

            &lt;text region="text" src="rs.xml#span_4" /&gt;

            &lt;audio src="rs_fwdx.mp3" clipBegin="47:24.057"

            clipEnd="47:582" /&gt;

         &lt;/par&gt;

      &lt;/seq&gt;

      ... (a series of pars)



   &lt;/seq&gt;



&lt;/body&gt;

.... </samp></pre>
<p id="para_136a"><!-- MH 2004-07-06 New example. --><a name="Ex7.4">例 7.4</a>:</p>
<p id="para_136b">次の例は、回避可能性ためのDTBuserEscapeとchildID.endの使用例を示している。<code>id</code>
sf0003を持つ <code>par</code>に回避可能なコンテンツが格納されている。<code>par</code>をラップする<code>seq</code>
は、DTBuserEscapeイベントが発生するか、通常の再生時間の後に子で<code>id</code>としてsf0003 を持つ時間コンテナ（その<code>par</code>）が終了した場合に<code>seq</code>がいつ終わるか指定する１つの<code>end</code>属性を持つ。</p>
<pre><samp id="smp_14a">

&lt;seq id="fr003" end="DTBuserEscape;sf0003.end"  customTest="prodnote" class="prodnote"&gt;

 &lt;par id="sf0003"&gt;

  &lt;text src="book02.xml#sf0003" /&gt;

  &lt;audio src="book02.mp3" clipBegin="npt=00:00:00" clipEnd="npt=00:00:11.5" /&gt;

 &lt;/par&gt;

&lt;/seq&gt;

</samp></pre>
<p id="para_136c"><!-- MH 2004-07-06 New example. --><a name="Ex7.5">例 7.5</a>:</p>
<p id="para_136d">次の例は製作者制御の一時停止のためのDTBuserResumeの使用例を示している。例の最初の部分で、１つの <code>prodnote</code>は、補足的で物理的なモデルがこの本のプレゼンテーションのこのポイントで検査されることを読者（Reader）に指し示している。読書を再開する準備ができたら再生ボタンを押す指示がユーザー（User）に与えられる。指示が提示された後、ユーザー（User）が再生（Playback）を再開するキーを押すまで再生（Playback）は一時停止される。</p>
<pre><samp id="smp_14b">

&lt;p id="sf0002"&gt;The water molecule is composed of one Oxygen and two Hydrogen atoms.&lt;/p&gt;



&lt;prodnote id="sf0003"&gt;Please examine the model of the water molecule.

Notice how the two Hydrogen atoms are a attached to the Oxygen atom.  Press

the resume key when you have finished to continue reading.&lt;/prodnote&gt;



&lt;p id="sf0004"&gt;Heavy water is chemically the same as regular (light) water,

but with the two hydrogen atoms replaced with deuterium atoms.&lt;/p&gt;

</samp></pre>
<p id="para_136e">例の2番目の部分で、対応するSMIL時間コンテナが示されている。<code>id="sf0003"</code>を持つ<code>seq</code>では、<code>end</code>属性は値として<code>DTBuserResume</code>を持ち、ユーザー（User）がDTBプレーヤー（Player）の再開キーをアクティブにするまでこの時間コンテナは終了しないことを指し示す。<code>fill="freeze"</code>属性は、ユーザー（User）が再生（Playback）を再開するまで、強制的に（視覚的または点字によって）テキストを表示する機能を持つDTBプレーヤー（Player）に<code>prodnote</code>のテキストを維持させるために指定される。</p>
<pre>
<samp id="smp_14c">

&lt;par id="sf0002"&gt;

 &lt;text region="textRegion" src="chemtext.xml#sf0002" /&gt;

 &lt;audio src="chem002.mp3" clipBegin="00:00:00.00" clipEnd="00:00:04.00" /&gt;

&lt;/par&gt;

&lt;seq id="sf0003" end="DTBuserResume" fill="freeze" customTest="prodnote" &gt;

 &lt;par id="sf0003a" &gt;

   &lt;text region="textRegion" src="chemtext.xml#sf0003" /&gt;

   &lt;audio src="chem002.mp3" clipBegin="00:00:04.08" clipEnd="00:00:16.00" /&gt;

 &lt;/par&gt;

&lt;/seq&gt;

&lt;par id="sf0004"&gt;

 &lt;text region="textRegion" src="chemtext.xml#sf0002" /&gt;

 &lt;audio src="chem002.mp3" clipBegin="00:00:16.08" clipEnd="00:00:25.00" /&gt;

&lt;/par&gt;

 </samp>

</pre>
<p id="para_136f"><!-- MH 2004-07-06 New example. -->例 7.6:</p>
<p id="para_136g">次の例では、製作者によって提供される一時停止に許される最大限の時間を製作者が適用している。ユーザー（User）が許された時間内にDTBuserResumeボタンをアクティブにしない場合、指定した時間の間隔が経過した後、再生（Playback）が再開される。<code>id="sf0003"</code>を持つ<code>seq</code>では、<code>end</code>属性は、値<code>"DTBuserResume;sf0003a.end+00:01:00"</code>を持つ。この<code>end</code>属性値は、DTBuserResumeがアクティブになる、あるいは子の時間コンテナ（sf0003a）の終点から1分が経過する、いずれか早い方が発生した時に、その<code>seq</code>が終了するということを定義する。これによって、再生（Playback）が自動的に再開される前に、モデルを確認する時間として<code>id="sf0003a"</code>を持つ<code>par</code>の終点に続く1分間をユーザー（User）は持つことができる。</p>
<pre>
<samp id="smp_14d">

&lt;seq id="sf0003" end="DTBuserResume;sf0003a.end+00:01:00" fill="freeze" customTest="prodnote" &gt;

  &lt;par id="sf0003a" &gt;

   &lt;text region="textRegion" src="chemtext.xml#sf0003" /&gt;

   &lt;audio src="chem002.mp3" clipBegin="00:00:04.08" clipEnd="00:00:16.00" /&gt;

  &lt;/par&gt;

 &lt;/seq&gt;

 </samp>

</pre>
<h2 id="h2_30">7.7 <a name="Clock"><!-- TM 2004 2004-07-07 changed *val to *value --><!-- dp and mm, 3/24/04.  Added  reference to media clipping attributes, full syntax description, and specified support for npt= and non-support for SMPTE.-->メディアクリッピングとクロック値</a></h2>
<p id="para_137">SMIL 2.0 <a href="#ref-SMIL">[SMIL]</a>のセクション7.5.1「MediaClipping属性」は SMILのクリッピング属性とその値の構文を定義する。また、SMIL 2.0 <a href="#ref-SMIL">[SMIL]</a>
Timing and Synchronization Module は、表現してよい（May）「クロック値」(タイミング）の複数の異なるフォーマットを説明している。そのモジュールのセクション10.3.1 にある<em>Clock Values</em>を参照すること。以下で制約されるように、再生（Playback）デバイスは、上記のセクションで説明する形式と構文をサポートしなくてはならない（Must）。3つのフォーマットは以下のとおり。</p>
<p id="para_138">Full-clock-value（時間、分、秒、秒の小数点以下）: 例えば、3:22:55.91（またはnpt = 3:22:55.91）</p>
<p id="para_139">Full-clock-value（分、秒、秒の小数点以下）: 例えば、43:15.044（またはnpt = 43:15.044）</p>
<p id="para_140">Timecount値 (1桁以上 + 任意の小数 + 測定単位 -- h = 時間、min= 分、 s = 秒、 ms = ミリ秒): 例 34.6s (または npt=34.6s)、356ms (または npt=356ms)、58.214 (または npt=58.214)。（単位が示されていない場合のTimcount値の単位は、初期設定では秒の "s"である。）先頭と末尾の空白文字は無視されるが、空白の埋め込みはクロック値では認められない。</p>
<p id="para_141a">クリッピングおよびクロック値の構文は次のとおりである。</p>
<pre><samp>

Clip-value-MediaClipping ::= [ "npt=" ] Clock-value

Clock-value              ::= ( Full-clock-value | Partial-clock-value | Timecount-value )

Full-clock-value         ::= Hours ":" Minutes ":" Seconds ("." Fraction)?

Partial-clock-value      ::= Minutes ":" Seconds ("." Fraction)?

Timecount-value          ::= Timecount ("." Fraction)? (Metric)?

Metric                   ::= "h" | "min" | "s" | "ms"

Hours                    ::= DIGIT+; any positive number

Minutes                  ::= 2DIGIT; range from 00 to 59

Seconds                  ::= 2DIGIT; range from 00 to 59

Fraction                 ::= DIGIT+

Timecount                ::= DIGIT+

2DIGIT                   ::= DIGIT DIGIT

DIGIT                    ::= [0-9]

</samp></pre>
<p id="para_141b">SMIL 2.0 のセクション 7.5.1「MediaClipping属性」にあるSMPTE構文は認められない。</p>
<p id="para_141c"><!-- TM 2004-05-11 New para -->クリップの継続時間は、正でなければならない（Must）。すなわち、clipEndのクロック値は、それに対応するclipBegin クロック値より大きくなければならない（must）。参照されるメディアファイルの持続時間より大きいクロック値を格納するclipEndはあってはならない（Shall Not）。</p>
<h2 id="h2_30a"><!-- MH 2004-06-17 New section. -->7.8 <a name="End-Vals">End属性の値</a>
</h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_141c2">このセクションは、 回避可能性と製作者による一時停止をサポートする特定の目的のDTBの<code>seq</code>要素で使用される<code>end</code>属性について、認められる値のセットを定義する。</p>
<p id="para_141d"><code>end</code>属性は、時間コンテナのアクティブ状態の持続期間について追加の制御を提供する。認められる<code>end</code>値は、記載される使用のみの特有のものであり、DTB内のその他の使用目的のための定義はされない。</p>
<p id="para_141e">回避可能性と製作者による一時停止をサポートするDTBプレーヤー（Player）は、次の値をサポートしなければならない（Must）。</p>
<h3 id="h3_74a">7.8.1 <a name="A-End-Vals">認められる<code>End</code>値</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_141f">SMIL 2.0 勧告 <a href="#ref-SMIL">[SMIL]</a>,のセクション10.3.1 "Attributes"は <code>end</code>
属性の値と値の構文を定義する。これらの値の次に挙げるサブセットをこの規格で使用することができる。</p>
<p id="para_141g"><em>回避可能なコンテンツの値</em></p>
<pre>
DTBuserEscape;childId-value.end

</pre>
<p id="para_141h"><em>製作者による一時停止の値</em></p>
<pre>
DTBuserResume(;childId-value.end + Clock-value)?

</pre>
<p id="para_141i"><em>回避可能でもある製作者による一時停止の値</em></p>
<pre>
DTBuserEscape; DTBuserResume(;childId-value.end + Clock-value)?

</pre>
<p id="para_141j"><code>childId-value</code>は <code>end</code>属性が適用された<code>seq</code>
の最後の子の時間のコンテナ の<code>id</code>に由来する。</p>
<p id="para_141k">
<code>Clock-value</code>は、（もし存在するのであれば）製作者が指定する一時停止の長さを記述する。そして、認められる値は、セクション7.7「メディアクリッピングとクロック値」で定義されている。<code>childId-value</code>で識別される時間コンテナが終了した時に一時停止時間が開始する。</p>
<p id="para_141l">end値のリストの説明は、次のセクション「アクティブな持続時間の計算」で 詳しく述べられている。</p>
<h3 id="h3_74b">7.8.2 <a name="Active-Dur">アクティブな持続時間の計算</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_141m">時間コンテナのアクティブな持続時間は、いずれかの<code>end</code>値によって変更される、全ての子の時間コンテナとメディアオブジェクトの単純な持続時間として定義される。DTB プレーヤー（Player）はアクティブな持続時間を計算する。それは、<code>end</code>値でDTBuserResumeが指定される時のみ無期限となる。end値のリストの場合、リストでの１つの値によって定義された条件の最初の発生が、時間コンテナのアクティブな持続時間の終了の信号を送るだろう。</p>
<h3 id="h3_74c">7.8.3 <a name="Nest">ネストされた構造の処理</a>
</h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_141n">ネストされた回避可能な構造の場合、動作を処理する初期設定のSMILイベントは、ネストされた時間コンテナの階層を上方に移動させるために、ネストされた構造の子において回避イベントの発生を引き起こし、トップレベルの回避可能な時間コンテナを終了させるだろう。リストがテーブルのセル内や別のリスト内にある場合のように、いくつかのケースでは、ユーザー（User）は現在の時間コンテナからの回避だけを望んでもよく（May）、ネストされた時間コンテナ階層の次の連続する要素に移動してもよい（May）。回避可能性を実装したDTBプレーヤー（Player）は、ネストされた回避可能な時間コンテナからの回避が、ネストされた階層全体から抜け出ることをなのか、現在位置する回避可能な構造からのみ回避することなのかを指定するオプションをユーザー（User）に提供するべきである（Should）。</p>
<p id="para_142n"><a href="#toc">目次</a></p>
<h1 id="h1_11">8. <a name="NCX">ナビゲーションコントロールファイル（Navigation Control File : NCX)</a></h1>
<h2 id="h2_31">8.1 <a name="NCXIntro">はじめに</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_142">The Navigation Control file for <a href="#XML">XML</a>アプリケーション (NCX) は、それを通してユーザー（User）がナビゲートすることをできるようににするためにDTBの階層的な構造を明らかにする。NCXは、ドキュメントの主要な構造要素、つまり、部、章、節に直接ジャンプすることを読者（Reader）に可能にするという点で目次と似ている。しかし、NCXは多くの場合、コンテンツのオリジナルのプリント版の目次を入れるために出版者が選択するよりも多くのドキュメントの要素を格納するだろう。それは、PCユーザーに馴染みのある折りたたみ可能なツリーとして可視化することができる。マークアップテキストファイル全体を停止することなく、ドキュメントの主な構造要素への迅速なアクセスを提供するニーズが、その開発の動機になった。ドキュメントの主な構造要素は、全く存在しないことが多いかもしれない。ページ、フットノート、図、表などの他の要素は、別の非階層リストに含めることができ、同様にユーザー（User）がアクセスすることができる。</p>
<p id="para_143">これらのナビゲーション機能がこれらを必要とするユーザー（User）の利便性の確保と、必要としない人に負担を生じさせないことを意図するものであることを強調することが重要である。NCXのナビゲーション機能を必要としないそれらのユーザー（User）は、本の単純な線形の再生（Playback）の代替が利用できるだろう。</p>
<h3 id="h3_77">8.2 <a name="NCXReq"></a>キーとなるNCXの要件</h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_144"><!--MG 30 March, 2004 Added requirements re namespaces and entity declarations and reference re filename extensions.-->全てのDTBはただ1つのNCXファイルを格納しなければならない（Must）。NCX ファイルは、ncx-2005-1.dtd (<a href="#DTBookDTD">付録 1</a>
"NCX DTD"を参照すること) に準拠した妥当な<a href="#XML">XML</a>ドキュメントでなければならない（Must）。そして、セクション8.4の追加の規範的な要件を満たさなければならない（Must）。ファイル名の拡張子の要件については、セクション3.3 「<a href="#para_53c">Manifest</a>」を参照すること。上記のDTDに記載された値を使用して、<code>ncx</code>要素の<code>version</code>と<code>xmlns</code>属性をドキュメントインスタンス内で明示的に指定しなければならない（Must）。エンティティ宣言は内部のDTDサブセット内に存在しなければならない（Must）。詳しくはセクション16.1「<a href="#FileConform">一般的なファイルの適合性要件</a>」 を参照すること。</p>
<h2 id="h2_32">8.3 <a name="NCXElem">NCXの要素</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_145">以下はNCX要素の簡潔な説明である。それぞれの要素の説明には、適用可能な属性の説明とともに、NCX DTDより抜粋した要素宣言が含まれている。</p>
<!--

Z39.86, section 8.3 ("NCX Elements").

Revisions by jp, 3/31/2004

  - Made audio clipBegin/clipEnd mandatory (change #10)

  - Dropped value attribute from navPoint (change #11)

  - Replaced lang attribute with xml:lang (change #12)

  - Added <pageList> and <pageTarget> elements (change #48)

  - Dropped onFocus and onBlur attributes from navPoint and navTarget (change #49)

  - Added <emmg> to content models of docTitle and docAuthor (change #50)

  - Modified language of docTitle/docAuthor to clarify relationship (none) to dtbook doctitle/docauthor (change #51)

  - Removed reference to pages in description of navTarget value attribute (change #52)

  - Added <navInfo> element (change #53)

  - Added default namespace attribute to description of <ncx> (change #L8)

  - Removed pageRef and mapRef attributes (change #??)

  - Revised definition of value attribute on navTarget to remove mention of "textual content"



  Revisions by mg, 2004-04-01

  - changed wording for class attributes; now silent on what values may or may not be.

  - added class on pageTarget and pageList



-->

<ul id="ul_90">
  <!-- ncx -->
<li id="li_348">
    <!-- Revision:Added pageList to the content model -->
<strong>&lt;ncx&gt;</strong><br><strong>説明:</strong>
ルート要素<br><strong>宣言: </strong><code>&lt;!ELEMENT ncx (head, docTitle, docAuthor*, navMap, pageList?, navList*)&gt;</code><br><strong>Syntax:</strong>
<code>&lt;ncx</code>
...属性...<code>&gt;</code>...内容...<code>&lt;/ncx&gt;</code><br>
<strong>属性:</strong><br>
<ul id="ul_91">
<li id="li_349"><!--MG 30 March, 2004  Require presence in document instance--><strong>version (CDATA, FIXED) "2005-1":</strong>
 このインスタンスで使用されているDTDのバージョンを指定する。（DTDで指定された）この属性とその値は、そのドキュメントインスタンスで明示的に指定されなければならない。</li>
 <!-- Revised:  Added xmlns attribute -->
<li id="li_349a"><!-- JP 2004-03-31 New attribute -->
<strong>xmlns (CDATA, FIXED) "http://www.daisy.org/z3986/2005/ncx/":</strong>NCXにおける全ての要素の初期設定のXML名前空間を指定する。名前空間の詳細については、<a href="#XMLNamespaces">[XML-Namespaces]</a>を参照すること。（DTDで指定された）この属性とその値は、そのドキュメントインスタンスで明示的に指定されなければならない（Must）。</li>
<li id="li_350"><!-- Revised:  changed "lang" to "xml:lang" --><strong>xml:lang (NMTOKEN, IMPLIED):</strong>ドキュメントの言語の<a href="#RFC3066">[RFC 3066]</a>
の言語コードを指定する。</li>
<li id="li_351"><strong>dir ((ltr|rtl), IMPLIED):</strong>
dir属性はテキストの方向を指定する。ltrは左から右へ、rtlは右から左へである。</li></ul><strong>有効な親要素:</strong>
None<br><br>
</li>
    <!-- head -->
<li id="li_352">
<strong>&lt;head&gt;</strong><br>
<strong>説明:</strong>smilCustomTestデータとメタデータを格納している。<br>
<strong>宣言: </strong><code>&lt;!ELEMENT head (smilCustomTest | meta)+&gt;</code><br>
<strong>Syntax:</strong>
<code>&lt;head&gt;</code>...内容...<code>&lt;/head&gt;</code><br>
<strong>属性:</strong>
なし<br>
<strong>有効な親要素:</strong>
<code>&lt;ncx&gt;</code><br>
<br>
</li>
    <!-- smilCustomTest -->
<li id="li_353">
<strong>&lt;smilCustomTest&gt;</strong><br>
      <!-- TM 2004-06-23 corrected link --><!-- TM 2004-05-17 Added @bookStruct and its description --><!-- MM  2004-04-05   Clarifies which attributes need to be copied. -->
<strong>説明:</strong>
SMILファイルにあるcustomTestデータを複製する。1つ以上のSMILファイルに現れ、かつ少なくとも1度は customTest 属性に参照されたそれぞれの一意のcustomTest要素は、NCX内のsmilCustomTest要素内に複製された３つの属性（<code>id</code>、<code>override</code>、そして、<code>defaultState</code>）を持つだろう。そして、NCXはユーザー（User）に提示するために、SMILファイルで使用された全てのcustomTest要素を、<code>defaultState</code>の設定ともに一カ所に集めている。SMIL内のcustomTest要素がセクション8.4.4「<a href="#NCXCustom">smilCustomTest要素</a>」で定義される本の構造の1つを保持する時間コンテナに適用される時には、bookStruct属性が対応するsmilCustomTestに適用され、列挙されたリストの適切な値を格納しなくてはならない（Must）。<br>
<strong>宣言: </strong>
<code>&lt;!ELEMENT smilCustomTest EMPTY&gt; </code><br>
<strong>Syntax:</strong>
<code>&lt;smilCustomTest</code>...属性...<code>/&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_92">
<li id="li_354"><strong>id (ID, REQUIRED)</strong>
</li>
<li id="li_355"><strong>defaultState (true | false) 'false'</strong>
</li>
<li id="li_356"><strong>override (visible | hidden) 'hidden'</strong>
</li>
<li id="li_356a"><strong>bookStruct (PAGE_NUMBER | NOTE | NOTE_REFERENCE | ANNOTATION | LINE_NUMBER | OPTIONAL_SIDEBAR | OPTIONAL_PRODUCER_NOTE) #IMPLIED </strong></li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;head&gt;</code><br>
<br>
</li>    <!-- meta -->
<li id="li_357">
<strong>&lt;meta&gt;</strong><br>
<strong>説明: </strong>
NCXファイルに適用できるメタデータを格納する。<br>
<strong>宣言: </strong><code>&lt;!ELEMENT meta EMPTY&gt;</code><br>
<strong>構文:</strong>
<code>&lt;meta</code>
...属性... <code>/&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_93">
<li id="li_358"><strong>name (CDATA, REQUIRED)</strong>
</li>
<li id="li_359"><strong>content (CDATA, REQUIRED)</strong>
</li>
<li id="li_360"><strong>scheme (CDATA, IMPLIED)</strong>
</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;head&gt;</code><br>
<strong>コメント: </strong>必須および任意のメタデータは、セクション8.4.1で列挙されている。<br>
<br>
</li>
   <!-- docTitle -->
<li id="li_361"><!-- Revision:  Added img to content description --><strong>&lt;docTitle&gt;</strong><br><strong>説明: </strong>読者（Reader）に提示するためのドキュメントのタイトル。テキストとして、そして、任意で音声または画像のレンダリングとして提示される。<br><strong>宣言: </strong>
  <!-- Revision:  Added img to content model -->
<code>&lt;!ELEMENT docTitle (text, audio?, img?)&gt;</code><br><strong>属性:</strong>
<code>&lt;docTitle</code>
...属性... <code>&gt; </code>...内容... <code>&lt;/docTitle&gt;</code><br><strong>属性:</strong><br>
<ul id="ul_94">
<li id="li_362"><strong>id (ID, IMPLIED):</strong>
任意の一意の識別子。</li></ul><strong>有効な親要素:</strong>
<code>&lt;ncx&gt;</code>
<br><!-- Revision:  Added comment about dtbook's doctitle --><strong>コメント:</strong>テキストコンテンツファイル（Textual Content File）内の<code>doctitle</code>要素が存在する場合でも、NCX内の<code>docTitle</code>の内容と、テキストコンテンツファイル（Textual Content File）内の<code>doctitle</code>要素の内容との間には、特に求められる関係はない。<br><br>
</li>
    <!-- docAuthor -->
<li id="li_363"><!-- Revision:  Added img to content description --><strong>&lt;docAuthor&gt;</strong><br>
<strong>説明: </strong>読者（Reader）に提示するためのドキュメントの著者。テキストとして、そして、任意で音声または画像のレンダリングとして提示される。<br>
<strong>宣言: </strong><!-- Revision:  Added img to content model --><code>&lt;!ELEMENT docAuthor (text, audio?, img?)&gt;</code><br><strong>構文:</strong>
<code>&lt;docAuthor</code>
...属性...<code>&gt;</code>...内容...<code>&lt;/docAuthor&gt;</code><br><strong>属性:</strong><br>
<ul id="ul_95">
<li id="li_364"><strong>id (ID, IMPLIED):</strong>
任意の一意の識別子。</li></ul><strong>有効な親要素:</strong>
<code>&lt;ncx&gt;</code>
<br><!-- Revision:  Added comment about dtbook's docauthor --><strong>コメント:</strong>
テキストコンテンツファイル（Textual Content File）内の<code>docauthor</code>要素が存在する場合でも、NCX内の<code>docAuthor</code>の内容と、テキストコンテンツファイル（Textual Content File）内の<code>docauthor</code>要素の内容との間には、特に求められる関係はない。<br><br>
</li>
<!-- text -->
<li id="li_365"><strong>&lt;text&gt;</strong><br><!-- Expanded definition. March 31, 2004 changes by George Kerscher -->
<strong>説明: </strong><code>&lt;docTitle&gt;</code>または<code>&lt;docAuthor&gt;</code>のテキスト、または<code>&lt;navLabel&gt;</code>
または<code>&lt;navInfo&gt;</code>のテキストコンテンツを格納する。<br>
<strong>宣言: </strong><code>&lt;!ELEMENT text (#PCDATA)&gt;</code><br><strong>構文:</strong>
<code>&lt;text</code>
...属性...<code>&gt;</code>...内容...<code>&lt;/text&gt;</code><br><strong>属性:</strong>
<ul id="ul_96">
<li id="li_366"><strong>id (ID, IMPLIED):</strong>
任意の一意の識別子。</li>
<li id="li_367"><strong>class (CDATA, IMPLIED):</strong>
要素のこのインスタンスの任意の記述子。</li></ul>
<strong>有効な親要素:</strong><!-- Revision:  Added <navInfo> to "valid inside" list -->
<code>&lt;navLabel&gt;</code>、<code>&lt;docTitle&gt;</code>、<code>&lt;docAuthor&gt;</code>、<code>&lt;navInfo&gt;</code><br><br>
</li>
<li id="li_368"><strong>&lt;audio&gt;</strong><br><!-- Expanded definition. March 31, 2004 changes by George Kerscher -->
<strong>説明:</strong><code>&lt;docTitle&gt;</code>または<code>&lt;docAuthor&gt;</code>の音声クリップ、または<code>&lt;navLabel&gt;</code>または<code>&lt;navInfo&gt;</code>の音声コンテンツへのポインタを格納する。<br>
<strong>宣言: </strong><code>&lt;!ELEMENT audio EMPTY&gt;</code><br>
<strong>構文:</strong><code>&lt;audio</code>...属性... <code>/&gt;</code><br>
<strong>属性:</strong>
<br>
<ul id="ul_97">
<li id="li_369"><strong>id (ID, IMPLIED):</strong>
任意の一意の識別子。</li>
<li id="li_370"><strong>class (CDATA, IMPLIED):</strong>
要素のこのインスタンスの任意の記述子。</li>
<li id="li_371"><strong>src (CDATA, REQUIRED):</strong>
音声メディアオブジェクトのURI。通常、これはDTBのコンテンツを含む音声ファイルをポイントする。しかし、DTBが複数のメディアユニット（Media Unit）にまたがる場合、URIは参照される見出しやタイトルのクリップを格納するファイルを指し示すことができる。セクション8.4.2 「 <a href="#NCXSpan">複数のメディアユニット（Media Unit）にまたがるDTB</a>
」を参照すること。</li>
<li id="li_372"><!-- Revised:  clipBegin/clipEnd now required --><strong>clipBegin (%SMILtimeVal, REQUIRED): </strong>clipBegin属性は、メディアオブジェクトの開始点からの時間オフセットとして連続的なメディアオブジェクトの区分の開始点を指定する。値の構文は、SMIL 2.0 Timing and Synchronization Module<a href="#ref-SMIL">[SMIL]</a>によって定義される。 セクション7.7「<a href="#Clock">メディアクリッピングとクロック値</a>」を参照すること。</li>
<li id="li_373"><strong>clipEnd (%SMILtimeVal, REQUIRED): </strong>clipEnd属性は、メディアオブジェクトの開始点からの時間オフセットとして連続的なメディアオブジェクトの区分の終点を指定する。clipBegin と同じ属性値の構文を使用する。</li></ul>
<strong>有効な親要素:</strong><!-- Revision:  Added <navInfo> to "valid inside" list -->
<code>&lt;navLabel&gt;</code>、<code>&lt;docTitle&gt;</code>、<code>&lt;docAuthor&gt;</code>、<code>&lt;navInfo&gt;</code><br><br>
</li>
<li id="li_386"><strong>&lt;img&gt;</strong><br><!-- Expanded definition. March 31, 2004 changes by George Kerscher --><strong>説明:</strong>
<code>&lt;docTitle&gt;</code>または<code>&lt;docAuthor&gt;</code>と関連付けられたグラフィカルなコンテンツ、または<code>&lt;navLabel&gt;</code>または<code>&lt;navInfo&gt;</code>のグラフィカルなコンテンツへのポインタを格納する。<br><strong>宣言:</strong><code>
&lt;!ELEMENT img EMPTY&gt;</code><br><strong>構文:</strong>
<code>&lt;img</code>...属性... <code>/&gt;</code><br><strong>属性:</strong>
<br>
<ul id="ul_101">
<li id="li_387"><strong>id (ID, IMPLIED):</strong>
任意の一意の識別子。</li>
<li id="li_388"><strong>class (CDATA, IMPLIED):</strong>
要素のこのインスタンスの任意の記述子。</li>
<li id="li_389"><strong>src (CDATA, REQUIRED):</strong>
メディアオブジェクトのURI。</li></ul><strong>有効な親要素:</strong><!-- Revision:  Added docTitle, docAuthor, and navInfo to list of "valid inside" elements -->
<code>&lt;docTitle&gt;</code>、<code>&lt;docAuthor&gt;</code>、<code>&lt;navLabel&gt;</code>、<code>&lt;navInfo&gt;</code><br><br></li>
<li id="li_374"><!-- Revision:  Added navInfo to content model --><strong>&lt;navMap&gt;</strong><br><strong>説明:</strong>一次ナビゲーション情報のコンテナ。<br><strong>宣言: </strong><code>&lt;!ELEMENT navMap (navInfo*, navLabel*, navPoint+)&gt;</code><br><strong>構文:</strong>
<code>&lt;navMap</code>
...属性...<code>&gt;</code>...内容...<code>&lt;/navMap&gt;</code><br><strong>属性:</strong>
<ul id="ul_98">
<li id="li_375"><strong>id (ID, IMPLIED):</strong>
任意の一意の識別子。</li></ul><strong>有効な親要素:</strong>
<code>&lt;ncx&gt;</code><br><!-- Revision:  Rewrote comments to reflect pageList --><strong>コメント:</strong>
<code>navMap</code>要素は、ドキュメントの主要な構造要素のそれぞれをポイントする一次的なナビゲーション情報を格納する。ページ番号は<code>pageList</code>に格納されている。フットノートのような、その他の二次的なナビゲーション要素は、<code>navMap</code>ではなく、 <code>navList</code>に格納されている。<br><br>
</li>
<li id="li_376"><strong>&lt;navPoint&gt;</strong><br><strong>説明: </strong>ターゲットの説明とコンテンツへのポインタを格納する。<br><strong>宣言:</strong>
<code>&lt;!ELEMENT navPoint (navLabel+, content, navPoint*)&gt;</code><br><strong>構文:</strong>
<code>&lt;navPoint</code>
...属性...<code>&gt;</code>...内容...<code>&lt;/navPoint&gt;</code><br>
<!-- Revised:  Dropped onFocus, onBlur attributes --><!-- Revised:  Dropped value attribute -->

<!-- Revised:  Dropped pageRef attribute and value attribute--><strong>属性:</strong>
<br>
<ul id="ul_99">
<li id="li_377"><strong>id (ID, REQUIRED):</strong>
一意の識別子。</li>
<li id="li_380"><strong>class (CDATA, IMPLIED):</strong>
  <!-- revised mg:

Describes the kind of

structural object represented by this navPoint, e.g. chapter, section; used

to select a presentation from the resource file. Player will locate the

resource whose <code>type</code> attribute equals "ncx", whose

<code>elementRef</code> attribute value is navPoint, and whose

<code>classRef</code> references the class of the current

<code>navPoint</code>.

-->
要素のこのインスタンスの任意の記述子。 リソースファイルからプレゼンテーションを選択するために使用することもできる。セクション10.3「<a href="#ResReq">リソースファイルの要件 </a>」を参照すること。</li>
<li id="li_382"><!-- LR 2004-03-26  replaces pageRef item  with playOrder --><strong>playOrder (CDATA, REQUIRED):</strong>初期設定の再生のシーケンスの中でこの<code>navPoint</code>のコンテンツの位置を示す正整数。セクション8.4.3 「<a href="#NCXplay">playOrder属性</a>」を参照すること。</li>
</ul><strong>有効な親要素:</strong>
<code>&lt;navMap&gt;</code>、<code>&lt;navPoint&gt;</code><br><strong>コメント:</strong>
<code>navPoint</code>要素は、例えば、章名、節番号などのドキュメントの参照される部分を表現する1つ以上の<code>navLabel</code>を<code>content</code>へのポイントといっしょに格納する。<code>&lt;navPoint&gt;</code>はドキュメントの階層構造を表現するためにネストされてもよい（May）。<br><br></li>
<li id="li_383"><strong>&lt;navLabel&gt;</strong><br><!-- Revision:  Added pageList and pageTarget here 2004-04-20 MM/LR/MH Revised description.--><strong>説明: </strong>ユーザー（User）へ提示するために様々なメディアにある<code>&lt;navMap&gt;</code>、<code>&lt;navPoint&gt;</code>、<code>&lt;pageList&gt;</code>、<code>&lt;pageTarget&gt;</code>、<code>&lt;navList&gt;</code>または<code>&lt;navTarget&gt;</code>を識別するラベルを格納する。<code>&lt;navPoint&gt;</code>に適用される場合、一般的にドキュメントの参照されるセクションの見出しを格納している。ラベルは繰り返すことができるため、複数の言語で提供することができる。<br><strong>宣言:</strong><code>
&lt;!ELEMENT navLabel (((text, audio?) | audio), img?)&gt;</code><br><strong>構文:</strong>
<code>&lt;navLabel</code>
...属性...<code>&gt;</code>...内容...<code>&lt;/navLabel&gt;</code><br><strong>属性:</strong>
<ul id="ul_100">
<li id="li_384"><!-- Revised:  Changed "lang" to "xml:lang" --><strong>xml:lang (NMTOKEN, IMPLIED):</strong>
 見出しの言語の<a href="#RFC3066">[RFC 3066]</a>
言語コードを指定する。指定された言語での見出しのプレゼンテーションを制御するために使用することができる。</li>
<li id="li_385"><strong>dir ((rtl|ltr), IMPLIED):</strong>
テキストの方向を指定する。ltrは左から右へ、rtlは右から左へである。.</li></ul>
<!-- Revision:  Added pageList and pageTarget to list of "valid inside" elements -->
<strong>有効な親要素:</strong>
<code>&lt;navMap&gt;</code>、<code>&lt;navPoint&gt;</code>、<code>&lt;pageList&gt;</code>、<code>&lt;pageTarget&gt;</code>、<code>&lt;navList&gt;</code>、<code>&lt;navTarget&gt;</code><br><br></li>
<li id="li_jpni001"><!-- Revision:  New element navInfo -->
<strong>&lt;navInfo&gt;</strong><br><strong>説明:</strong>
 ユーザー（User）に提示するための様々なメディアにおいて<code>&lt;navMap&gt;</code>、<code>&lt;pageList&gt;</code>または <code>&lt;navList&gt;</code>について参考情報となるコメントを格納する。複数の言語で提供可能にするために、コメントは繰り返すことができる。<br><strong>宣言:</strong><code>
&lt;!ELEMENT navInfo (((text, audio?) | audio), img?)&gt;</code><br><strong>構文:</strong>
<code>&lt;navInfo</code>
...属性...<code>&gt;</code>...内容...<code>&lt;/navInfo&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_jpni001">
<li id="li_jpni002"><strong>xml:lang (NMTOKEN, IMPLIED):</strong>
コメントの言語の<a href="#RFC3066">[RFC 3066]</a>言語コードを指定する。指定された言語でのコメントのプレゼンテーションを制御するために使用することができる。</li>
<li id="li_jpni003"><strong>dir ((rtl|ltr), IMPLIED):</strong>
テキストの方向を指定する。ltrは左から右へ、rtlは右から左へである。</li></ul><strong>有効な親要素:</strong>
<code>&lt;navMap&gt;</code>、<code>&lt;pageList&gt;</code>、<code>&lt;navList&gt;</code><br>
<strong>コメント:</strong>
<code>navLabel</code>は<code>navMap</code>、<code>pageList</code>、<code>navList</code>を識別する簡潔なラベルを格納するが、<code>navInfo</code>は、これらのナビゲーション機能の構造や内容について、より長く、説明的な、または参考情報的なテキストを提示するために使用される。<br><br></li>
<li id="li_390">
<strong>&lt;content&gt;</strong><br>
<strong>説明:</strong>
<code>navPoint</code>または<code>navTarget</code>によって参照されるSMILファイルのアイテムの開始点へのポインタ。<br>
<strong>宣言: </strong><code>
&lt;!ELEMENT content EMPTY&gt;</code><br>
<strong>構文:</strong><code>
&lt;content</code>...属性... <code>/&gt;</code><br>
<strong>属性:</strong>
<br>
<ul id="ul_102">
<li id="li_391">
<strong>id (ID, IMPLIED):</strong>
任意の一意の識別子。</li>
<li id="li_392">
<strong>src (CDATA, REQUIRED):</strong>ドキュメントの参照される部分の開始点に対応するSMIL 時間コンテナのURI。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;navPoint&gt;</code>、<code>&lt;navTarget&gt;</code><br>
<br>
</li>
<li id="li_392a"><!-- Revision:  Added new element pageList --><strong>&lt;pageList&gt;</strong><br><strong>説明:</strong>
ページネーション情報のコンテナ。<br><strong>宣言: </strong><code>
&lt;!ELEMENT pageList (navInfo*, navLabel*, pageTarget+)&gt;</code><br><strong>構文:</strong>
<code>&lt;pageList</code>
...属性...<code>&gt;</code>...内容...<code>&lt;/pageList&gt;</code><br>
<strong>属性:</strong><br>
<ul id="ul_102a">
<li id="li_392b"><strong>id (ID, IMPLIED):</strong>
任意の一意の識別子。</li>
<li id="li_392c"><!-- mg added: new attribute--><strong>class (CDATA, IMPLIED):</strong>
要素の任意の記述子。リソースファイルからプレゼンテーションを選択するために使用することもできる。セクション10.3 「 <a href="#ResReq">リソースファイルの要件</a>
」を参照すること。</li></ul>
<strong>有効な親要素:</strong>
<code>&lt;ncx&gt;</code><br><strong>コメント: </strong>
<code>pageList</code>要素は<code>pageTarget</code>内のページのナビゲーション情報を格納する。本の中のナビゲート可能な各ページは、pageList内の pageTargetによって表現されるだろう。<br><br></li>
<li id="li_392c_2"><!-- Revision:  Added pageTarget element description MM, 2004-04-05 made id required. 2004-07-07 MM added content model for "type" attribute --><strong>&lt;pageTarget&gt;</strong><br><strong>説明: </strong>テキスト、音声、画像、そして、コンテンツ要素のためのページのナビゲーション情報を格納するコンテナ。<br><strong>宣言: </strong><code>&lt;!ELEMENT pageTarget (navLabel+, content)&gt;</code><br><strong>構文:</strong><code>
&lt;pageTarget</code>
...属性...<code>&gt;</code>...内容...<code>&lt;/pageTarget&gt;</code><br>
<strong>属性:</strong><br>
<ul id="ul_102b">
<li id="li_392d"><strong>id (ID, REQUIRED):</strong>
一意の識別子。</li>
<li id="li_392e"><!-- MM, LR, Zed AC 2004-03-31 New definition of value --><strong>value (CDATA, IMPLIED):</strong>
1つのページに関係付けられた数値を表す正の整数。value属性が存在する場合、<code>type</code>属性と<code>value</code>属性の値の組み合わせは一意でなければならない（Must）。セクション8.4.5 「<a href="#NCXPage">ページナビゲーションを有効にする</a>
」を参照すること。</li>
<li id="li_392f">
<strong>type (front | normal | special) REQUIRED:</strong>この<code>pageTarget</code>によって表わさられるページの種類を記述する。値は次のうちの1つでなければならない（Must）。: "front" （本の開始がローマ数字のページ用）、"normal" （アラビア数字で識別されるページ用）、または "special" （その他の全てのページ用）。 </li>
<li id="li_392g"><!-- class added by mg: --><strong>class (CDATA, IMPLIED):</strong>
要素のこのインスタンスの任意の記述子。リソースファイルからプレゼンテーションを選択するために使用することもできる。セクション10.3 「 <a href="#ResReq">リソースファイルの要件</a>
」を参照すること。</li>
<li id="li_392h"><!-- LR 2004-04-02 Added attribute playOrder --><strong>playOrder (CDATA, REQUIRED):</strong>
初期設定の再生のシーケンスの中でこの<code>pageTarget</code>
のコンテンツの位置を示す正整数。セクション8.4.3 「<a href="#NCXplay">playOrder属性</a>」を参照すること。</li></ul><strong>有効な親要素:</strong>
<code>&lt;pageList&gt;</code><br><br>
</li>
<li id="li_393"><!-- Revision:  Added navInfo to content model --><strong>&lt;navList&gt;</strong><br><strong>説明: </strong>二次的なナビゲーション情報のコンテナ。<br><strong>宣言: </strong><code>
&lt;!ELEMENT navList (navInfo*, navLabel+, navTarget+)&gt;</code><br><strong>構文:</strong>
<code>&lt;navList</code>
...属性...<code>&gt;</code>...内容...<code>&lt;/navList&gt;</code><br>
<strong>属性:</strong><br>
<ul id="ul_103">
<li id="li_394"><strong>id (ID, IMPLIED):</strong>
任意の一意の識別子。</li>
<li id="li_395"><strong>class (CDATA, IMPLIED):</strong>
  <!-- revised mg:

  The kind of objects represented

  by this <code>navList</code>, described by their <code>dtbook</code> element

  name, e.g. <code>pagenum</code>, <code>note</code>.

  -->
要素のこのインスタンスの任意の記述子。リソースファイルからプレゼンテーションを選択するために使用することもできる。セクション10.3「 <a href="#ResReq">リソースファイルの要件</a>
」を参照すること。</li></ul><strong>有効な親要素:</strong>
<code>&lt;ncx&gt;</code><br><!-- Revision:  Removed mention of pages here --><strong>コメント:</strong>
 <code>navList</code>要素は、<code>navTarget</code>内の二次的なナビゲーション情報を格納する。 <code>navTarget</code>はネストできないが、 <code>navPoint</code>は可能である点を除いて、<code>navMap</code>と同様である。ユーザー（User）が直接アクセスすることを望むかもしれないが、一次的なナビゲーション情報で提供するとごちゃごちゃする可能性があるフットノート、図、表などの要素のリストとして使用される。<br><br></li>
<li id="li_396"><strong>&lt;navTarget&gt;</strong><br><strong>説明: </strong>text要素、audio要素、image要素、そして、content要素のための二次的なナビゲーション情報を格納したコンテナ。<br><strong>宣言: </strong>
<code>&lt;!ELEMENT navTarget (navLabel+, content)&gt;</code><br><strong>構文:</strong><code>
&lt;navTarget</code>
...属性...<code>&gt;</code>...内容...<code>&lt;/navTarget&gt;</code><br><strong>属性:</strong>
<br>
<ul id="ul_104">
<li id="li_397"><strong>id (ID, REQUIRED):</strong>
一意の識別子。<!-- Revised:  Dropped onFocus, onBlur attributes -->

<!-- Revised:  Removed mention of pages here --></li>
<li id="li_400"><strong>value (CDATA, IMPLIED):</strong>
<code>navTarget</code>に関係付けられた数値を表す正の整数。<code>navList</code>内のアイテムの整数の値を提供することに有用である。</li>
<li id="li_401"><strong>class (CDATA, IMPLIED):</strong>
  <!-- revised mg:

  Describes the kind of object

  represented by this <code>navTarget</code>, described by its DTBook element

  name, e.g., <code>pagenum</code>, <code>note</code>. It may be used to

  select a presentation from the resource file. Player will locate the

  resource whose <code>type</code> attribute equals "ncx", whose

  <code>elementRef</code> attribute value is navTarget, and whose

  <code>classRef</code> references the class of the current

  <code>navTarget</code>.

  -->
要素のこのインスタンスの任意の記述子。リソースファイルからプレゼンテーションを選択するために使用することもできる。セクション10.3 「 <a href="#ResReq">リソースファイルの要件</a>
」を参照すること。</li>
<li id="li_402"><!-- LR 2004-03-26 replaces mapRef item with playOrder -->
<strong>playOrder (CDATA, REQUIRED):</strong>
初期設定の再生のシーケンスの中でこの<code>navTarget</code>のコンテンツの位置を示す正整数。セクション8.4.3 「<a href="#NCXplay">playOrder Attribute</a>」を参照すること。</li></ul><strong>有効な親要素:</strong>
<code>&lt;navList&gt;</code><br><strong>コメント: </strong>
<code>navTarget</code>要素は<code>content</code>
へのポインタともに、フットノートなどのドキュメントの参照される部分を表す1つ以上の<code>navLabel</code>を格納する。
<!-- Revised:  Removed mention of pages here -->

<!-- Revised:  Removed mention of mapRef here -->
<br><br></li></ul>
<h2 id="h2_33">8.4 <a name="FileReq">その他のファイルの要件</a></h2>
<p id="para_146">このセクションでは、DTDによって強制できないNCXファイルのその他の規範的な要件をまとめている。</p>
<!-- Section 8.4.1

   Revised by JP, 05 Jan 2004

      - Removed dtb:pageFront, dtb:pageNormal, dtb:pageSpecial, dtb:maxPageNormal

      - Added dtb:totalPageCount and dtb:maxPageNumber

-->

<h3 id="h3_80">8.4.1 <a name="NavMeta">ナビゲーションメタデータ</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_147">メタデータは、 <code>meta</code>要素を使用して、NCX内の <code>head</code>要素の中に含まれなくてはならない（Shall）。コンテンツの製作者は、必要に応じて以下に列挙したもの以外のメタデータを導入してもよい（May）。しかし、この規格で定義されていない限り、メタデータ名は接頭辞"dtb:"で始まってはならない（Shall Not） 。プレイヤー（Player）は、未知のメタデータに遭遇した時も処理を失敗してはならない（Must Not）。少なくともそれを無視しなければならない（Must）。</p>
<ul id="ul_105">
<li id="li_403">dtb:uid<ul id="ul_106">
<li id="li_404">内容: DTBのグローバル一意の識別子。値は、パッケージファイル（Package File）の <code>package</code>要素の<code>unique-identifier</code>属性によって参照される <code>dc:Identifier</code>要素のそれと同じである。セクション3.1「<a href="#PkgId">パッケージの識別</a>」を参照すること。</li>
<li id="li_405">出現: 必須</li>
</ul>
</li>
<li id="li_406">dtb:depth <ul id="ul_107">
<li id="li_407">内容: NCXによって公開されたDTBの構造の深さを示す正の整数。</li>
<li id="li_408">出現: 必須</li>
</ul>
</li>
<li id="li_409">dtb:generator <ul id="ul_108">
<li id="li_410">内容: NCXを生成したソフトウェアの名前とバージョン。</li>
<li id="li_411">出現: 任意 - 推奨</li>
</ul>
</li>
<!-- Removed (JP, 05 Jan 2004)

  <li id=li_412>dtb:maxPageNormal

  <ul id=ul_109>



    <li id=li_413>Content: Non-negative integer indicating the content of the

    highest "normal" <code>pagenum</code> in the DTB.

    <li id=li_414>Occurrence: Required </li></ul>

-->

<!-- Removed (JP, 05 Jan 2004)

  <li id=li_415>dtb:pageFront

  <ul id=ul_110>

    <li id=li_416>Content: Non-negative integer indicating the number of "front"

    pages in the DTB.

    <li id=li_417>Occurrence: Required </li></ul>

-->

<!-- Removed (JP, 05 Jan 2004)

  <li id=li_418>dtb:pageNormal

  <ul id=ul_111>



    <li id=li_419>Content: Positive integer indicating the number of "normal"

    pages in the DTB.

    <li id=li_420>Occurrence: Required </li></ul>

-->

<!-- Removed (JP, 05 Jan 2004)

  <li id=li_421>dtb:pageSpecial

  <ul id=ul_112>

    <li id=li_422>Content: Non-negative integer indicating the number of

    "special" pages in the DTB.

    <li id=li_423>Occurrence: Required </li></ul></li>

-->

<li id="li_jp423a"><!-- Added (JP, 05 Jan 2004) Updated 2004-04-19 MM to change definition. -->
dtb:totalPageCount <ul id="ul_jp423b">
<li id="li_jp423c">内容: <code>pageList</code>にある<code>pageTargets</code>の番号を示す負でない整数。ナビゲート可能なページがない場合は、dtb:totalPageCountの値は 0でなければならない（Must）。</li>
<li id="li_jp423d">出現: 必須</li>
</ul>
</li>
<li id="li_jp423e"><!-- Added (JP, 05 Jan 2004) Updated 2004-04-19 MM to change definition. -->
dtb:maxPageNumber <ul id="ul_jp423f">
<li id="li_jp423g">内容:<code>pageList</code>にある <code>pageTarget</code>上の最大の<code>value</code>属性を示す負でない整数。ナビゲート可能なページがない場合は、dtb:maxPageNumberの値は 0でなければならない（Must）。</li>
<li id="li_jp423h">出現: 必須</li>
</ul>
</li>
</ul>
<h3 id="h3_82">8.4.2 <a name="NCXSpan">複数のメディアユニット（Media Unit）にまたがるDTB</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_148">DTBが複数の配布メディア（例えば、複数のCD-ROMなど）にまたがる場合、NCXに直接参照される全ての音声クリップと画像とともに、完全なNCXがが全てのメディアユニット（Media Unit）に含まれていなければならない（Must）。これは、NCX全体がメディアの各部分で適切に機能することを保証する。</p>
<h3 id="h3_84"><!-- LR 2004-04-02 replace old section 8.4.3 with this one. 2004-04-20 MM/LR/MH  Allow duplicate playOrder values. -->8.4.3 <a name="NCXplay">playOrder属性</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_149"><code>playOrder</code>属性は<code>pageTarget</code>、<code>navTarget</code>、そして<code>navPoint</code>のそれぞれで求められる。<code>playOrder</code>属性は、<code>spine</code>とSMILファイルで表現されるように、本の通常の再生（Playback）の順序に反映する1つの正しい順序で全ての<code>pageTarget</code>、 <code>navTarget</code>
及び<code>navPoint</code>を集める手段を提供する。<code>playOrder</code>は正の整数である。ドキュメントの最初の<code>playOrder</code>の値は1でなければならない（Shall）。 <code>pageTarget</code>、<code>navTarget</code>、または <code>navPoint</code>の<code>content</code>要素が同じSMIL時間コンテナを参照する場合、同じ<code>playOrder</code>の値を保持しなければならない（Must）。<code>playOrder</code>は、<code>pageTarget</code>、<code>navTarget</code>または<code>navPoint</code>によって参照されるそれぞれの一意のSMIL時間コンテナごとに１つずつ増えなければならない（Must）。</p>
<h3 id="h3_86">8.4.4 <a name="NCXCustom">smilCustomTest要素</a></h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_150"><!-- MM  2004-04-05  Specified which elements need to be copied to NCX. 2004-04-20 MM/LR/MH  Added bookStruct attribute requirement.-->1つ以上のSMILファイルに現れ、かつ少なくとも1度は <code>customTest</code>属性に参照されるそれぞれの一意の<code>customTest</code>要素は、NCX内の<code>head</code>
にある<code>smilCustomTest</code>要素内に複製された３つの属性（ <code>id</code>
、 <code>override</code>
、および<code>defaultState</code>）を保持しなければならない（Must）。また、SMIL内の <code>customTest</code>
要素が以下で定義される本の構造の1つを保持する時間コンテナに適用される時には、対応する<code>smilCustomTest</code>に<code>bookStruct</code>
属性が適用され、以下のリストの適切な値を格納しなくてはならない（Must）。</p>
<p id="para_150m"><!-- TM 2004-06-23 Reworded, added resource file note. 2004-07-28 MM Reworded per Zed call. -->以下の特別な語彙は、列挙されたスキップ可能な要素のセマンティクスを識別するために提供される。製作者は、全てのスキップ可能な要素用にリソースファイルのエントリを提供することが求められる。セクション7.4.3「<a href="#Skip">スキップ可能な構造</a>」と<a href="#ResEx">例10.1</a>を参照すること。リソースファイルを使用することができないプレイヤー（Player）は、(サポートされているなら）テキストとここで一覧されているアイテムごとの音声ラベルを提供しなければならない（Must）。リソースファイルを利用可能なプレイヤー（Player）は、プレイヤー（Player）で埋め込まれたラベルに優先して、DTBといっしょに提供されるリソースをレンダリングしなければならない（Must）。</p>
<dl id="dl_6">
<dt id="dt_170">LINE_NUMBER</dt>
<dd id="dd_170">詩、法務、またはその他の文書にある行の番号。</dd>
<dt id="dt_171">NOTE</dt>
<dd id="dd_171">コメント、説明、またはドキュメントのテキストとは別に配置されたリファレンス。（もしページの下部に配置されたら"footnote"、章末や巻末に配置されたら"endnote"と呼ばれる。）</dd>
<dt id="dt_172">NOTE_REFERENCE</dt>
<dd id="dd_172">特定のノートを識別するマークや文字。</dd>
<dt id="dt_173">ANNOTATION</dt>
<dd id="dd_173">通常、余白や見開きのページに置かれるという点でNOTEと区別されるコメントまたは説明。それに対する明示的な参照なく、しばしば本文に挿入される。</dd>
<dt id="dt_174">PAGE_NUMBER</dt>
<dd id="dd_174">ページ番号。</dd>
<dt id="dt_175">OPTIONAL_PRODUCER_NOTE</dt>
<dd id="dd_175">DTBの製作者によって追加されたコメントまたは説明。一般的に視覚的な要素の説明を提供したり、印刷本と音声版間の違いを説明するために使用される。OPTIONAL_PRODUCER_NOTEは危険についての警告や注意事項を含めることはできない（Must Not）。</dd>
<dt id="dt_176">OPTIONAL_SIDEBAR</dt>
<dd id="dd_176">しばしば線で囲まれ、ページの本文ブロックから離れて印刷される本文及び/または話の流れへの情報の補足。OPTIONAL_SIDEBARは危険についての警告や注意事項を含めることはできない（Must Not）。</dd>
</dl>
<h3 id="h3_87a">8.4.5 <a name="NCXPage"><!-- MM, LR, Zed AC 2004-03-31 New section  2004-04-20 MM/LR/MH  Strongly recommended valuing value and text. -->
ページナビゲーションを有効にする</a>
</h3>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_150a">ページへの数値による直接のアクセスを可能にするために、全ての<code>pageTarget</code>
に<code>value</code>属性が適用されることが強く推奨される。 <code>value</code>は正の整数である。<code>value</code>属性が存在する場合、<code>type</code>属性と<code>value</code>属性の値の組み合わせは、一意でなければならない（Must）。</p>
<p id="para_150b">ページ番号が、オリジナルのドキュメント内に存在する場合は、<code>pageTarget</code>に対応する<code>navLabel</code>内の<code>text</code>要素がページ番号のテキストの表現を格納することを強く推奨する。英数字のページ番号が存在しているドキュメント内では、プレイヤー（Player）はページに直接アクセスするために、<code>pageTarget</code>に関連した<code>navLabel</code>の<code>text</code>要素の内容を使用してもよい（May）。<code>navLabel</code>は、ページ識別子の権威あるレンダリングとして扱われるべきである（Should）。</p>
<h2 id="h2_34">8.5 <a name="NCXWorks">NCXの動作の仕方</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_151">DTBを開くと、プレーヤー（Player）は通常、ナビゲーションについてユーザー（User）の選択肢を定義するため、NCXの<code>navMap</code>を使用する。<code>navMap</code>
は、ドキュメントの主要な区分を表すネストされた<code>navPoint</code>を格納する。例えば、セクション 8.6で示されるNCXを持つ例8.1の本の構造は以下のようになる。</p>
<ul id="ul_113">
<li id="li_424">Foreword.........................................(Level 1) <ul id="ul_114">
<li id="li_425">History......................................(Level 2)</li>
<li id="li_426">Development of Standards.........(Level 2) </li>
</ul>
</li>
<li id="li_427">Standards.........................................(Level 1) <ul id="ul_115">
<li id="li_428">1 Core Services........................(Level 2) <ul id="ul_116">
<li id="li_429">1.1....................................(Level 3) <ul id="ul_117">
<li id="li_430">a................................(Level 4)</li>
</ul>
</li>
<li id="li_431">1.2....................................(Level 3)</li>
</ul>
</li>
</ul>
</li>
</ul>
<p id="para_152">ForewordとStandardsは、このケースでは同じレベルで、もっとも高いレベルであるLevel 1である。 <code>navPoint</code>のネストによって、ユーザー（User）は、最も低いレベルの区分を経由することなく、これらのオブジェクトの間を直接移動することができる。Forewordからユーザー（User）は Level 2 に移動し、 Forewordのどのセクションにも移動することができる。 Foreword下には Level 3がないため、NCXからより小さな区分に移動することはできない。そのようなより小さな区分が存在するかもしれないが、<a href="#d-locnav">ローカルナビゲーション（Local navigation）</a>を通してのみアクセスができる。Standards の区分は Level 4が"a"でマークされ、"1 Core Services" と"1.1."を通して到達することができる。 </p>
<p id="para_153"><!-- Added mention of pageLists.  MM 2004-04-05 -->また、例えば、ページ、フットノート、サイドバーなど、ドキュメントの階層構造に容易に収まらないアイテムにユーザー（User）はナビゲートするオプションも持つ。この機能は、<code>pageList</code>
（ページ用）と<code>navList</code>
（他の全ての非階層オブジェクト用）によって提供される。<code>navMap</code>と異なり、<code>pageList</code>と<code>navList</code>はネストできない。例8.1は、ページ番号を表す3つの<code>pageTarget</code>を格納する<code>pageList</code>
と、ノートを表す3つの<code>navTarget</code>を格納する<code>navList</code>を示している。</p>
<p id="para_153a"><!-- 2004-04-20 mm/lr/mh  New para.--><code>navInfo</code>要素で、製作者は<code>navMap</code>
、 <code>pageList</code>
、そして、<code>navList</code>の内容、目的、使用方法についてある程度詳細に説明することができる。以下の例8.1の<code>navList</code>を参照すること。</p>
<p id="para_154"><!-- Additions re navLabel - jp, mm 4/5/2004.  2004-04-20 MM/LR/MH modified description of navLabel. -->それぞれの<code>navPoint</code>、<code>pageTarget</code>まはた<code>navTarget</code>が章、見出し、節番号、ページ番号、図などのドキュメントの一部についてのナビゲーション情報を提供する。<code>navLabel</code>要素は、複数のメディアで見出し、ページ番号、図タイトルなどの内容を提供する。<code>navLabel</code>内で、<code>text</code>要素は、視覚的プレゼンテーション、点字によるプレゼンテーション、またはテキスト音声合成のプレゼンテーションのために実際の見出し、ページ番号などを格納する。 <code>audio</code>要素は、同じ情報の音声プレゼンテーションを格納するクリップを指し示すためにSMIL2.0構文を使用する。１つまたは両方は、ユーザー（User）への位置フィードバックを与えるために使用される。<code>content</code>要素は、DTBの参照された部分の開始点をマークするSMILファイル内のIDへのポインタを提供する。</p>
<p id="para_155"><!-- LR 2004-04-02 Revised to describe playOrder . 2004-04-20 MM/LR/MH Made last sentence parallel to previous one. --><code>pageTarget</code>
、 <code>navTarget</code>と<code>navPoint</code>で求められる<code>playOrder</code>属性によって、<code>navMap</code>
内での<code>pageList</code>と<code>navList</code>の同期が可能になる。ユーザー（User）からの「ここはどこ？」（現在位置の確認）という要求に対して何と言うべきかを決定する際に、プレーヤー（Player）は、最も最近スキャンされた<code>navPoint</code>、<code>pageTarget</code>または<code>navTarget</code>の<code>playOrder</code>属性値と同じかより小さいもののうち、最も大きな<code>playOrder</code>属性値を持つ<code>navPoint</code>を見つけることによって現在の<code>navMap</code>
の位置を見つけることができる。同様に、プレーヤー（Player）は、最も最近スキャンされた<code>navPoint</code>、<code>pageTarget</code>または<code>navTarget</code>の<code>playOrder</code>属性の値と同じかより小さい<code>playOrder</code>属性値を持つ<code>pageTarget</code>を探すことによって現在のページを決定することができる。</p>
<p id="para_156">この規格は、製作者に SMILファイルにある全てのスキップ可能な要素に関する情報をNCXの<code>head</code>に集約する機能を提供している。（セクション7.4.3 「<a href="#Skip">スキップ可能な構造</a>」を参照すること。）。 <code>smilCustomTest</code>要素は、全てのスキップ可能な要素とそのdefaultStatesを一覧するために繰り返されてもよい。再生システム（Playback System）は、スキップ可能な構造のためのオプションや現在の設定を読者（Reader）に知らせるためにこの情報を使用してもよい。</p>
<h2 id="h2_35">8.6 <a name="NCXEx">例</a></h2>
<p class="sstatus" id="h3_89">（この例は、参考情報である（Informative）。）</p>
  <!-- NB20050622 Added class attribute to above h3 (h3_89) and converted to <p> -->
<p id="para_157"><!-- TM 2004-05-17 Added @bookStruct 2004-07-07 MM added xml:lang on ncx--><!-- 2004-04-05 JP, TM, revised per many changes in section 8. 2004-04-20 MM/LR/MH Clarified navInfo on navList.-->例 8.1:</p>
<pre><samp id="smp_15">

&lt;?xml version="1.0"  encoding="UTF-8"?&gt;

&lt;!DOCTYPE ncx PUBLIC "-//NISO//DTD ncx 2005-1//EN"

  "http://www.daisy.org/z3986/2005/ncx-2005-1.dtd"&gt;

&lt;ncx version="2005-1" xml:lang="en" xmlns="http://www.daisy.org/z3986/2005/ncx/"&gt;

  &lt;head&gt;

    &lt;smilCustomTest id="pagenum" defaultState="false"

    override="visible" bookStruct="PAGE_NUMBER"/&gt;

    &lt;smilCustomTest id="note" defaultState="true"

    override="visible" bookStruct="NOTE"/&gt;

    &lt;meta name="dtb:uid" content="us-nls-00001"/&gt;

    &lt;meta name="dtb:depth" content="6"/&gt;

    &lt;meta name="dtb:generator" content="NLSv001"/&gt;

    &lt;meta name="dtb:totalPageCount" content="53"/&gt;

    &lt;meta name="dtb:maxPageNumber" content="49"/&gt;

  &lt;/head&gt;

  &lt;docTitle&gt;

     &lt;text&gt;Revised Standards and Guidelines of Service

     for the Library of Congress Network of Libraries for the

     Blind and Physically Handicapped 1995&lt;/text&gt;

     &lt;audio src="rs_title.mp3" clipBegin="00:00.00" clipEnd="00:09.04"/&gt;

     &lt;img src="rs_title.png" /&gt;

  &lt;/docTitle&gt;

  &lt;docAuthor&gt;

       &lt;text&gt;Association of Specialized and Cooperative

       Library Agencies&lt;/text&gt;

       &lt;audio src="rs_title.mp3" clipBegin="00:09.50" clipEnd="00:14.70"/&gt;

  &lt;/docAuthor&gt;

  &lt;navMap&gt;

      &lt;navPoint class="chapter" id="lvl1_3" playOrder="2"&gt;

        &lt;navLabel&gt;

          &lt;text&gt;Foreword&lt;/text&gt;

          &lt;audio src="rs_fwdx.mp3" clipBegin="00:01.50"

          clipEnd="00:02.00" /&gt;

        &lt;/navLabel&gt;

        &lt;content src="sample.smil#h1_3" /&gt;

        &lt;navPoint class="section" id="lvl2_1" playOrder="3"&gt;

          &lt;navLabel&gt;

            &lt;text&gt;History&lt;/text&gt;

            &lt;audio src="rs_fwdx.mp3" clipBegin="00:03.40"

            clipEnd="00:03.90" /&gt;

          &lt;/navLabel&gt;

          &lt;content src="sample.smil#h2_1" /&gt;

        &lt;/navPoint&gt;

        &lt;navPoint class="section" id="lvl2_2" playOrder="5"&gt;

          &lt;navLabel&gt;

            &lt;text&gt;Development of Standards&lt;/text&gt;

            &lt;audio src="rs_fwdx.mp3" clipBegin="00:56.30"

            clipEnd="00:57.70" /&gt;

          &lt;/navLabel&gt;

          &lt;content src="sample.smil#h2_2" /&gt;

        &lt;/navPoint&gt;

      &lt;/navPoint&gt;

      &lt;navPoint class="chapter" id="lvl1_7" playOrder="10"&gt;

        &lt;navLabel&gt;

          &lt;text&gt;Standards&lt;/text&gt;

          &lt;audio src="rs_stdx.mp3" clipBegin="00:01.30"

          clipEnd="00:02.10" /&gt;

        &lt;/navLabel&gt;

        &lt;content src="sample.smil#h1_7" /&gt;

        &lt;navPoint class="section" id="lvl2_11" playOrder="11"&gt;

          &lt;navLabel&gt;

            &lt;text&gt;1 Core Services&lt;/text&gt;

            &lt;audio src="rs_stdx.mp3" clipBegin="00:02.90"

            clipEnd="00:04.90" /&gt;

          &lt;/navLabel&gt;

          &lt;content src="sample.smil#h2_10" /&gt;

          &lt;navPoint class="subsection" id="lvl3_1" playOrder="12"&gt;

            &lt;navLabel&gt;

              &lt;text&gt;1.1&lt;/text&gt;

              &lt;audio src="rs_stdx.mp3" clipBegin="00:05.70"

              clipEnd="00:06.70" /&gt;

            &lt;/navLabel&gt;

            &lt;content src="sample.smil#h3_1" /&gt;

            &lt;navPoint class="sub-subsection" id="lvl4_1" playOrder="13"&gt;

              &lt;navLabel&gt;

                &lt;text&gt;a.&lt;/text&gt;

                &lt;audio src="rs_stdx.mp3" clipBegin="00:18.70"

                clipEnd="00:19.10" /&gt;

              &lt;/navLabel&gt;

              &lt;content src="sample.smil#h4_1" /&gt;

            &lt;/navPoint&gt;

          &lt;/navPoint&gt;

          &lt;navPoint class="subsection" id="lvl3_2" playOrder="14"&gt;

            &lt;navLabel&gt;

              &lt;text&gt;1.2&lt;/text&gt;

              &lt;audio src="rs_stdx.mp3" clipBegin="00:50.50"

              clipEnd="00:51.40" /&gt;

            &lt;/navLabel&gt;

            &lt;content src="sample.smil#h3_2" /&gt;

          &lt;/navPoint&gt;

        &lt;/navPoint&gt;

      &lt;/navPoint&gt;

      . . .

  &lt;/navMap&gt;

  &lt;pageList id="pages"&gt;

    &lt;navLabel&gt;

        &lt;text&gt;Pages&lt;/text&gt;

        &lt;audio src="navlabels.mp3" clipBegin="00:00.00"

        clipEnd="00:01.10" /&gt;

    &lt;/navLabel&gt;

    &lt;pageTarget class="pagenum" type="normal" id="p1" value="1" playOrder="1"&gt;

      &lt;navLabel&gt;

        &lt;text&gt;1&lt;/text&gt;

        &lt;audio src="rs_fwdx.mp3" clipBegin="00:00.00"

        clipEnd="00:00.90" /&gt;

      &lt;/navLabel&gt;

      &lt;content src="sample.smil#p1" /&gt;

    &lt;/pageTarget&gt;

    &lt;pageTarget class="pagenum" type="normal" id="p2" value="2" playOrder="4"&gt;

      &lt;navLabel&gt;

        &lt;text&gt;2&lt;/text&gt;

        &lt;audio src="rs_fwdx.mp3" clipBegin="00:53.90"

        clipEnd="00:54.60" /&gt;

      &lt;/navLabel&gt;

      &lt;content src="sample.smil#p2" /&gt;

    &lt;/pageTarget&gt;

    &lt;pageTarget class="pagenum" type="normal" id="p3" value="3" playOrder="9"&gt;

      &lt;navLabel&gt;

        &lt;text&gt;3&lt;/text&gt;

        &lt;audio src="rs_stdx.mp3" clipBegin="00:00.00"

        clipEnd="00:00.70" /&gt;

      &lt;/navLabel&gt;

      &lt;content src="sample.smil#p3" /&gt;

    &lt;/pageTarget&gt;

    . . .

  &lt;/pageList&gt;

  &lt;navList id="notes" class="note"&gt;

    &lt;navInfo&gt;

        &lt;text&gt;This list contains the three notes found in this book.

              Each entry in the list, numbered 1 through 3, points to a note reference.

        &lt;/text&gt;

        &lt;audio src="rs_info.mp3" clipBegin="00:00.00"

        clipEnd="00:05.592" /&gt;

    &lt;/navInfo&gt;

    &lt;navLabel&gt;

        &lt;text&gt;Notes&lt;/text&gt;

        &lt;audio src="navlabels.mp3" clipBegin="00:01.50"

        clipEnd="00:02.60" /&gt;

    &lt;/navLabel&gt;

    &lt;navTarget class="note" id="nref_1" playOrder="6"&gt;

      &lt;navLabel&gt;

        &lt;text&gt;1&lt;/text&gt;

        &lt;audio src="rs_fwdx.mp3" clipBegin="01:22.60"

        clipEnd="01:23.50" /&gt;

      &lt;/navLabel&gt;

      &lt;content src="sample.smil#nref_1" /&gt;

    &lt;/navTarget&gt;

    &lt;navTarget class="note" id="nref_2" playOrder="7"&gt;

      &lt;navLabel&gt;

        &lt;text&gt;2&lt;/text&gt;

        &lt;audio src="rs_fwdx.mp3" clipBegin="02:00.60"

        clipEnd="02:01.40" /&gt;

      &lt;/navLabel&gt;

      &lt;content src="sample.smil#nref_2" /&gt;

    &lt;/navTarget&gt;

    &lt;navTarget class="note" id="nref_3" playOrder="8"&gt;

      &lt;navLabel&gt;

        &lt;text&gt;3&lt;/text&gt;

        &lt;audio src="rs_fwdx.mp3" clipBegin="03:13.30"

        clipEnd="03:14.10" /&gt;

      &lt;/navLabel&gt;

      &lt;content src="sample.smil#nref_3" /&gt;

    &lt;/navTarget&gt;

  &lt;/navList&gt;

&lt;/ncx&gt;

</samp>

</pre>
<p id="para_157n"><a href="#toc">目次</a></p>
<h1 id="h1_12">9. <a name="Bkmk">ポータブルブックマークとハイライト</a></h1>
<h2 id="h2_36">9.1 <a name="BkmkIntro">はじめに</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）　</p>
<p id="para_158">この規格は、ブックマークとハイライトのエキスポートとインポートをサポートするために明確な<a href="#XML">XML</a>ファイルフォーマットを定める。再生システム（Playback System）は、読者（Reader）が、ブックマークの設定、ドキュメント内である一節のハイライト、マークされたセクションへのテキストや音声ノートでのラベルを付与、そして、結果として生じたマークやノートのコレクションの準拠した他の再生（Playback）デバイスへのエクスポートをできるようにしてもよい（May）。</p>
<p id="para_159"><!-- 2004-04-05 TM -updated dtd version -->この規格は、準拠したプレーヤー（Player）に上記の機能全てのサポートを求めてはいない。また、この規格は、ブックマークファイルの情報を保存または操作するための再生システム（Playback System）の内部システムについて制約を設けていない。しかし、もしプレーヤー（Player）がブックマークとハイライトとそれに関係付けられたノートのエクスポートをサポートするのであれば、そのプレーヤー（Player）はその情報をbookmark-2005-1.dtdに準拠した妥当な <a href="#XML">XML</a>ファイルとしてフォーマットしなければならない（Must）。（<a href="#DTBookDTD">付録 1</a>"DTD for Portable Bookmarks/Highlights"を参照すること）。同様に、ブックマーク/ハイライトのインポート機能を持つプレイヤー（Player）は、bookmark-2005-1.dtdに従ってフォーマットされたブックマークとハイライトとそれに関係付けられたノートを正しく処理しなければならない（Must）。</p>
<p id="para_160"><!--MH 4 April, 2004 Revised timeOffset description MM 2004-07-29 Changed description of how charOffset is calculated. -->エクスポートして持ち出すことが可能なプレーヤー（Player）は、の位置が音声プレゼンテーション内かテキストコンテンツファイル（Textual Content File）内にあるかに関わらず、DTBの任意の場所でブックマークとハイライトの開始点と終点を設定できなければならない（Must）。つまり、プレイヤー（Player）は要素境界のみに位置情報の取得が限定されていはならない（Shall Not）。音声プレゼンテーション内の要素境界からのオフセットは、URIで参照されるSMIL時間コンテナの開始点と相対的なクロック値を持つ<code>&lt;timeOffset&gt;</code>で識別されなければならない（Shall）。値の構文は、SMIL 2.0  Timing and Synchronization Module<a href="#ref-SMIL">[SMIL]</a>
で定義されている。 セクション7.7「<a href="#Clock">メディアクリッピングとクロック値</a>
」を参照すること。テキストコンテンツファイル（Textual Content File）内の要素境界からのオフセットは、参照された要素の内容の先頭から数え上げた文字数で測定された<code>&lt;charOffset&gt;</code>によって識別されなければならない（Shall）。start- と end-タグはカウントされない。空白は正規化される（１文字に置き換えられる）。</p>
<p id="para_161"><!-- MM 2004-03 Added reference to manifest. -->再生（Playback）デバイスが、エクスポートされてもよい（May）ブックマークやハイライトの音声ノートのユーザー（User）録音をサポートする場合、その録音はこの規格でサポートされている任意の形式で行われてもよい（May）。ノートのファイル名を生成する時、再生（Playback）デバイスは、録音形式に適切なファイル名の拡張子を生成しなければならない（Must）。（対応している形式については、セクション5「<a href="#Audio">音声ファイル形式</a>」、ファイル名の拡張子の要件については、セクション3.3「<a href="#para_53c">Manifest</a>」を参照すること。 ）</p>
<p id="para_162">ブックマークファイルは、初期設定ではブックマークの要素<code>uid</code>の値と拡張子 ".bmk"と一緒に名付けられなければならない（Shall）。例えば、"SE-TPB-14339.bmk"である。プレイヤー（Player）は、ユーザー（User）が他のファイルシステムでの文字制限に適用させたり、ファイル名の衝突を防ぐために独自のファイル名を採用することを認めてもよい（May）。ユーザー（User）が指定する名前に適用するために、ブックマークのインポート機能を備えたプレーヤー（Player）は、正しいブックマークファイルをDTBとマッチさせるためにブックマークファイルを開き、<code>uid</code>を読み取ることができなければならない（Must）。1つのDTBに1つ以上のブックマークファイルが存在する場合は、プレーヤー（Player）はユーザー（User）がそれらのうちから1つを選択できるようにすることが推奨される。</p>
<p id="para_163">ユーザー（User）がステップ実行したり、それらのグループから選択することができるようにするために、プレイヤー（Player）は、ナンバリンク、ブックマークの識別、またはある部分のハイライトのために様々なシステムを実装してもよい（May）。しかし、エクスポート用のブックマークファイルを作成する時に、プレイヤー（Player）はブックマークとハイライトをドキュメントの順番にソートし、その順番でそれらを記述しなければならない（Must）。</p>
<h2 id="h2_37">9.2 <a name="BkmkElem">ブックマーク/ハイライトの要素</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_164">次はブックマーク/ハイライト要素の簡潔な説明である。それぞれの要素の説明には、適用可能な属性の説明とともに、Bookmark DTD（<a href="#DTBookDTD">付録 1</a>を参照すること）より抜粋した要素宣言が含まれている。</p>
<ul id="ul_118">
<li id="li_432"><strong>&lt;bookmarkSet&gt;</strong><br>
<strong>説明: </strong>
Bookmark/Highlight DTD のルート要素。指定されたDTDのブックマーク、ハイライト及びラストマークに関する全てのデータを格納する。<br>
<strong>宣言:</strong><code>
&lt;!ELEMENT bookmarkSet (title, uid, lastmark?, (bookmark | hilite)*) &gt;</code><br>
<strong>構文: </strong><code>
&lt;bookmarkSet&gt;</code>...内容...<code>&lt;/bookmarkSet&gt;</code><br>
<strong>属性: </strong><br>
<ul id="ul_118a">
<li id="li_432a"><!-- JP 2004-03-31 New attribute -->
<strong>xmlns (CDATA, FIXED) "http://www.daisy.org/z3986/2005/bookmark/":</strong>
ブックマークファイルにおける全ての要素の初期設定のXML名前空間を指定する。名前空間の詳細については、<a href="#XMLNamespaces">[XML-Namespaces]</a>を参照すること。この属性と（DTDで指定された）その値は、そのドキュメントインスタンスで明示的に指定されなければならない。</li>
</ul>
<strong>有効な親要素: </strong>なし<br>
<br>
</li>
<li id="li_433"><strong>&lt;title&gt;</strong><br>
<strong>説明: </strong>ブックマークセットが作成されたDTBのタイトルをテキストと任意で音声クリップで格納する。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT title (text, audio?) &gt;</code><br>
<strong>構文: </strong><code>&lt;title&gt;</code>...内容...<code>&lt;/title&gt;</code><br>
<strong>属性: </strong>なし<br>
<strong>有効な親要素:</strong>
<code>&lt;bookmarkSet&gt;</code><br>
<strong>コメント: </strong>ブックマークセットを他の準拠した再生（Playback）デバイスにエクスポートした場合、そのタイトルによって、ユーザー（User）はそれらを識別し、管理することができるだろう。<br>
<br>
</li>
<li id="li_434"><strong>&lt;text&gt;</strong><br>
<strong>説明: </strong>タイトルやノートのテキスト。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT text (#PCDATA)&gt;</code><br>
<strong>構文: </strong><code>&lt;text&gt;</code>...内容...<code>&lt;/text&gt;</code><br>
<strong>属性: </strong>なし<br>
<strong>有効な親要素:</strong>
<code>&lt;title&gt;</code>、 <code>&lt;note&gt; </code><br>
<br>
</li>
<li id="li_435"><strong>&lt;audio&gt;</strong><br>
<strong>説明: </strong>この規格でサポートされている任意の形式による、DTBのタイトル、またはユーザー（User）が録音したノートの音声クリップ。複数のブックマークファイルが存在する場合、タイトルクリップによって、ユーザー（User）は希望するブックマークファイルを識別することができる。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT audio EMPTY &gt;</code><br>
<strong>構文: </strong>
<code>&lt;audio</code>...属性... <code>/&gt;</code><br>
<strong>属性: </strong><br>
<ul id="ul_119">
<li id="li_436"><strong>src (%URI, #REQUIRED):</strong>
src属性は参照されるクリップを格納する音声ファイルのURIを保持する。</li>
<li id="li_437"><!-- 2004-04-05 TM - added ref and link to section 7.7; fixed SMIL ref to

        local --><strong>clipBegin (%SMILtimeVal, IMPLIED): </strong>
<code>clipBegin</code>属性はメディアオブジェクトファイルの開始点からの時間オフセットとして連続的なメディアオブジェクトファイルの区分の開始点を指定する。値の構文は、SMIL 2.0 Timing and Synchronization Module<a href="#ref-SMIL">[SMIL]</a>によって定義される。
<!-- Editorial revision April 21, 2007 by KK

   took quotes out of link in <audio> Attributes "Media Clipping and Clock Values"

-->

セクション7.7「<a href="#Clock">メディアクリッピングとクロック値</a>」を参照すること。</li>
<li id="li_438">
<strong>clipEnd (%SMILtimeVal, IMPLIED): </strong>
<code>clipEnd</code>
属性はメディアオブジェクトファイルの開始点からの時間オフセットとして連続的なメディアオブジェクトファイルの区分の終点を指定する。<code>clipBegin</code>と同じ属性値の構文を使用する。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;title&gt;</code>、 <code>&lt;note&gt;</code><br>
<br>
</li>
<li id="li_439"><strong>&lt;uid&gt;</strong><br>
<strong>説明: </strong>パッケージファイル（Package File）から取り出した、本のグローバルな一意の識別子。パッケージファイル（Package File）の<code>package</code>要素の"unique-identifier"属性によって参照される<code>dc:Identifier</code>と一致する。セクション3.1「<a href="#PkgId">パッケージの識別</a>」を参照すること。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT uid (#PCDATA) &gt;</code><br>
<strong>構文: </strong><code>&lt;uid&gt;</code>...内容...<code>&lt;/uid&gt;</code><br>
<strong>属性: </strong>なし<br>
<strong>有効な親要素:</strong>
<code>&lt;bookmarkSet&gt; </code><br>
<br>
</li>
<li id="li_440"><!-- TM 2004-05-11 Changed content model to allow both timeOffset and charOffset; added and/or -->
<strong>&lt;lastmark&gt;</strong><br>
<strong>説明: </strong>ユーザー（User）が最も最近読むのをやめ、再起動時に再生を再開する位置。位置は、正確なポイントへの時間オフセット 及び/またはキャラクターオフセットを加えて、ラストマークを格納するSMILファイル内の<code>&lt;par&gt;</code>要素または<code>&lt;seq&gt;</code>要素のid属性を指し示す1つのURIで構成される。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT lastmark (ncxRef, URI, ((timeOffset, charOffset?)| charOffset)) &gt;</code><br>
<strong>構文: </strong><code>&lt;lastmark&gt;</code>...内容...<code>&lt;/lastmark&gt;</code><br>
<strong>属性: </strong>なし<br>
<strong>有効な親要素:</strong>
<code>&lt;bookmarkSet&gt;</code><br>
<strong>コメント: </strong>
再生（Playback）デバイスによって<code>&lt;lastmark&gt;</code>が自動的にセットされる。<br>
<br>
</li>
<li id="li_441"><strong>&lt;ncxRef&gt;</strong><br>
<strong>説明: </strong>ラストマーク、ブックマーク、ハイライトがセットされた時のNCXにおける現在の位置（現在の<code>navPoint</code>のid）を取り込む。ユーザー（User）によって発行されたグローバルナビゲーション（Global navigation）コマンドが現在の位置から開始するようにするため、ラストマーク、ブックマーク、ハイライトに移動後、NCXとSMILにおける現在の位置が同期することを保証する。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT ncxRef (#PCDATA)&gt;</code><br>
<strong>構文: </strong><code>&lt;ncxRef&gt;</code>...内容...<code>&lt;/ncxRef&gt;</code><br>
<strong>属性: </strong>なし<br>
<strong>有効な親要素:</strong>
<code>&lt;lastmark&gt;</code>、<code>&lt;bookmark&gt;</code>、<code>&lt;hiliteStart&gt;</code>、<code>&lt;hiliteEnd&gt; </code><br>
<br>
</li>
<li id="li_442"><!-- 2004-04-05 TM - remove audio file from description and lose comment. 2004-07-07 MM Change description to specify that URI points only to SMIL.-->
<strong>&lt;URI&gt;</strong><br><strong>説明: </strong><code>&lt;lastmark&gt;</code>、<code>&lt;bookmark&gt;</code>、<code>&lt;hiliteStart&gt;</code>または<code>&lt;hiliteEnd&gt;</code>を格納するSMIL内の<code>&lt;par&gt;</code>または<code>&lt;seq&gt;</code>のidへのポインタ。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT URI (#PCDATA)&gt;</code><br><strong>構文: </strong><code>&lt;URI&gt;</code>...内容...<code>&lt;/URI&gt;</code><br><strong>属性: </strong>なし<br><strong>有効な親要素:</strong>
<code>&lt;lastmark&gt;</code>、<code>&lt;bookmark&gt;</code>、<code>&lt;hiliteStart&gt;</code>,
<code>&lt;hiliteEnd&gt;</code><br><br></li>
<li id="li_443"><!--MH, MM 5 April, 2004 Revised timeOffset description.-->
<strong>&lt;timeOffset&gt;</strong><br><strong>説明: </strong>連続する音声プレゼンテーションにおける<code>&lt;lastmark&gt;</code>、<code>&lt;bookmark&gt;</code>、<code>&lt;hiliteStart&gt;</code>または<code>&lt;hiliteEnd&gt;</code>
の正確な位置（URIで参照されるSMIL時間コンテナの開始点と関連する負でないクロック値）。値の構文はSMIL 2.0 Timing and Synchronization Module <a href="#ref-SMIL">[SMIL]</a>
によって定義される。 セクション7.7「<a href="#Clock">クロック値</a>」を参照すること。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT timeOffset (#PCDATA) &gt;</code><br>
<strong>Syntax:</strong><code>&lt;timeOffset&gt;</code>...内容 (構文については、セクション7.7「<a href="#Clock">クロック値</a>」を参照すること）...<code>&lt;/timeOffset&gt;</code><br>
<strong>属性: </strong>なし<br><strong>有効な親要素:</strong>
<code>&lt;lastmark&gt;</code>、<code>&lt;bookmark&gt;</code>、<code>&lt;hiliteStart&gt;</code>、<code>&lt;hiliteEnd&gt;</code><br><br>
</li>
<li id="li_446"><!-- 2004-07-07 MM Change description to specify that URI points to text file via SMIL.-->
<strong>&lt;charOffset&gt;</strong><br>
<strong>説明: </strong>URIによって（SMIL経由で）参照されるテキストコンテンツファイル（Textual Content File）における<code>bookmark</code>、<code>lastmark</code>、<code>hiliteStart</code>または<code>hiliteEnd</code>の正確な位置。<code>&lt;charOffset&gt;</code>の値の計算に関する情報については、セクション9.1 「<a href="#BkmkIntro">はじめに</a>」を参照すること。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT charOffset (#PCDATA) &gt;</code><br>
<strong>構文: </strong><code>&lt;charOffset&gt;</code>...内容...<code>&lt;/charOffset&gt;</code><br>
<strong>属性: </strong>なし<br>
<strong>有効な親要素:</strong>
<code>&lt;lastmark&gt;</code>、<code>&lt;bookmark&gt;</code>、<code>&lt;hiliteStart&gt;</code>、<code>&lt;hiliteEnd&gt;</code>
<br>
<br>
</li>
<li id="li_447"><!-- TM 2004-05-11 Changed content model to allow both timeOffset and charOffset; added and/or -->
<strong>&lt;bookmark&gt;</strong><br>
<strong>説明: </strong>将来における直接アクセスのためにユーザー（User）がマークしたドキュメント内のポイント。ブックマークは、位置と任意のノートで構成される。位置は、正確なポイントへの時間オフセット及び/またはキャラクターオフセットに加えて、ブックマークを格納するSMILファイル内の<code>&lt;par&gt;</code>要素または<code>&lt;seq&gt;</code>要素のid属性を指し示す1つのURIで構成される。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT bookmark (ncxRef, URI, ((timeOffset, charOffset?)| charOffset)), note?) &gt; </code><br>
<strong>構文: </strong><code>&lt;bookmark&gt;</code>...内容...<code>&lt;/bookmark&gt;</code><br>
<strong>属性:</strong><br>
<ul id="ul_121">
<li id="li_448"><strong>label (CDATA, #IMPLIED):</strong>
一組のブックマークから選択するユーザー（User）の支援を目的とする識別用のラベルを格納するために使用する任意の属性。</li>
<li id="li_448a"><!-- 2004-04-02 TM -new attribute --><strong>xml:lang (%languagecode, #IMPLIED):</strong><a href="#RFC3066">[RFC 3066]</a>
言語コードを使用して、このブックマークのラベルとノートの言語を識別するために使用するための任意の属性。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;bookmarkSet&gt; </code><br>
<br>
</li>
<li id="li_449"><strong>&lt;note&gt;</strong><br>
<strong>説明: </strong>ブックマークやハイライトされたセクションについての、ユーザー（User）のラベルや考えを保持する。それは、テキストまたは音声またはその両方があり得る。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT note (text?, audio?) &gt;</code><br>
<strong>構文: </strong><code>&lt;note&gt;</code>...内容...<code>&lt;/note&gt;</code><br>
<strong>属性: </strong>なし<br>
<strong>有効な親要素:</strong>
<code>&lt;hilite&gt;</code>、<code>&lt;bookmark&gt;</code><br>
<strong>コメント: </strong>音声<code>&lt;notes&gt;</code>
の録音をサポートする再生（Playback）デバイスが、この規格で認められた全てのコーデックによる録音をサポートする必要はない。<br>
<br>
</li>
<li id="li_450"><strong>&lt;hilite&gt;</strong><br>
<strong>説明: </strong>任意のノートとともにユーザー（User）によってマークされたテキストのブロック。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT hilite (hiliteStart, hiliteEnd, note?) &gt;</code><br>
<strong>構文: </strong><code>&lt;hilite&gt;</code>...内容...<code>&lt;/hilite&gt;</code><br>
<strong>属性:</strong><br>
<ul id="ul_122">
<li id="li_451"><strong>label (CDATA, #IMPLIED):</strong>一組のハイライトから選択するユーザー（User）の支援を目的とする識別用のラベルを格納するために使用する任意の属性。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;bookmarkSet&gt;</code><br>
<br>
</li>
<li id="li_452"><!-- TM 2004-05-11 Changed content model to allow both timeOffset and charOffset; added and/or -->
<strong>&lt;hiliteStart&gt;</strong><br>
<strong>説明: </strong>ハイライトされたブロックの開始点。位置は、正確なポイントへの時間オフセット及び/またはキャラクターオフセットに加えて、ハイライトされたセクションの開始を格納するSMILファイル内の<code>&lt;par&gt;</code>要素または<code>&lt;seq&gt;</code>要素のid属性を指し示す1つのURIで構成される。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT hiliteStart (ncxRef, URI, ((timeOffset, charOffset?)| charOffset)) &gt;</code><br>
<strong>構文: </strong><code>&lt;hiliteStart&gt;</code>...内容...<code>&lt;/hiliteStart&gt;</code><br>
<strong>属性: </strong>なし<br>
<strong>有効な親要素:</strong>
<code>&lt;hilite&gt; </code><br>
<br>
</li>
<li id="li_453"><!-- TM 2004-05-11 Changed content model to allow both timeOffset and charOffset; added and/or -->
<strong>&lt;hiliteEnd&gt;</strong><br>
<strong>説明: </strong>
ハイライトされたブロックの終点。位置は、正確なポイントへの時間オフセット及び/またはキャラクターオフセットに加えて、ハイライトされたセクションの終わりを格納するSMILファイル内の<code>&lt;par&gt;</code>要素または<code>&lt;seq&gt;</code>要素のid属性を指し示す1つのURIで構成される。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT hiliteEnd (ncxRef, URI, ((timeOffset, charOffset?)| charOffset)) &gt;</code><br>
<strong>構文: </strong><code>&lt;hiliteEnd&gt;</code>...内容...<code>&lt;/hiliteEnd&gt;</code><br>
<strong>属性: </strong>なし<br>
<strong>有効な親要素:</strong>
<code>&lt;hilite&gt; </code><br>
<br>
</li>
</ul>
<h2 id="h2_38">9.3 <a name="BkmkEx">例</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_165">例9.1では、読者（Reader）は、2つのブックマークをセットしている。1つは第1章のパラグラフ8の開始から22秒後、もう1つは第3章のパラグラフ12の開始から1分28秒である。読者（Reader）は、2番目のブックマークにテキストノート"Atlanta burns"を追加している。ユーザー（User）は、パラグラフ１の開始点に始まりパラグラフ6の開始後4分6秒に終わる第4章冒頭の一節に、10秒間の音声コメントによるラベルを付けてハイライトもしている。読者（Reader）は、最後に（ <code>&lt;lastmark&gt;</code>によって示されているように）第5章パラグラフ23で読書をやめている。このブックマークファイルの初期設定でのファイル名は "us-rfbd-JT065.bmk"になる。</p>
<p id="para_166"><!-- 2004-04-02 TM -fixed example per changes to timeOffset, xml:lang -->例9.1: </p><pre><samp id="smp_16">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;

&lt;!DOCTYPE bookmarkSet PUBLIC "-//NISO//DTD bookmark 2005-1//EN"

  "http://www.daisy.org/z3986/2005/bookmark-2005-1.dtd"&gt;

&lt;bookmarkSet  xmlns="http://www.daisy.org/z3986/2005/bookmark/"&gt;

    &lt;title&gt;

      &lt;text&gt;Gone with the Wind&lt;/text&gt;

      &lt;audio src="gwtw_title.mp3" /&gt;

    &lt;/title&gt;

    &lt;uid&gt;us-rfbd-JT065&lt;/uid&gt;



    &lt;lastmark&gt;

      &lt;ncxRef&gt;gwtw.ncx#lvl1_5&lt;/ncxRef&gt;

      &lt;URI&gt;gwtw_ch5.smil#para023&lt;/URI&gt;

      &lt;timeOffset&gt;03:52.00&lt;/timeOffset&gt;

    &lt;/lastmark&gt;



    &lt;bookmark&gt;

      &lt;ncxRef&gt;gwtw.ncx#lvl1_1&lt;/ncxRef&gt;

      &lt;URI&gt;gwtw_ch1.smil#para008&lt;/URI&gt;

      &lt;timeOffset&gt;00:22.00&lt;/timeOffset&gt;

    &lt;/bookmark&gt;



    &lt;bookmark&gt;

      &lt;ncxRef&gt;gwtw.ncx#lvl1_3&lt;/ncxRef&gt;

      &lt;URI&gt;gwtw_ch3.smil#para012&lt;/URI&gt;

      &lt;timeOffset&gt;01:28.00&lt;/timeOffset&gt;

      &lt;note&gt;

        &lt;text&gt;Atlanta burns.&lt;/text&gt;

      &lt;/note&gt;

    &lt;/bookmark&gt;



    &lt;hilite&gt;

      &lt;hiliteStart&gt;

        &lt;ncxRef&gt;gwtw.ncx#lvl1_4&lt;/ncxRef&gt;

        &lt;URI&gt;gwtw_ch4.smil#para001&lt;/URI&gt;

        &lt;timeOffset&gt;00:00.00&lt;/timeOffset&gt;

      &lt;/hiliteStart&gt;

      &lt;hiliteEnd&gt;

        &lt;ncxRef&gt;gwtw.ncx#lvl1_4&lt;/ncxRef&gt;

        &lt;URI&gt;gwtw_ch4.smil#para006&lt;/URI&gt;

        &lt;timeOffset&gt;04:06.00&lt;/timeOffset&gt;

      &lt;/hiliteEnd&gt;

      &lt;note&gt;

        &lt;audio src="us-rfbd-JT065.wav" clipBegin="00:00.00"

        clipEnd="00:10.00" /&gt;

      &lt;/note&gt;

    &lt;/hilite&gt;



 &lt;/bookmarkSet&gt;

  </samp></pre>
<p id="para_167">例9.2は、読者（Reader）が最後にパラグラフ297の開始点から130文字のところで読書をやめたテキストのみのファイルを示している。</p>
<p id="para_168"><!-- 2004-04-02 TM -fixed example per changes to xml:lang. 2004-07-06 MM Changed uri to reference SMIL. -->例 9.2:</p>
<pre><samp id="smp_17">

&lt;?xml version="1.0" encoding="UTF-8" ?&gt;

&lt;!DOCTYPE bookmarkSet PUBLIC "-//NISO//DTD bookmark 2005-1//EN"

  "http://www.daisy.org/z3986/2005/bookmark-2005-1.dtd"&gt;

&lt;bookmarkSet  xmlns="http://www.daisy.org/z3986/2005/bookmark/"&gt;



   &lt;title&gt;

      &lt;text&gt;Chemistry Today&lt;/text&gt;

   &lt;/title&gt;

   &lt;uid&gt;uk-rnib-MM499&lt;/uid&gt;



   &lt;lastmark&gt;

      &lt;ncxRef&gt;chemtd.ncx#lvl1_3&lt;/ncxRef&gt;

      &lt;URI&gt;chemtd.smil#para297&lt;/URI&gt;

      &lt;charOffset&gt;130&lt;/charOffset&gt;

   &lt;/lastmark&gt;



&lt;/bookmarkSet&gt;

  </samp></pre>
<p id="para_168a"><!-- TM 2004-05-13 New para -->例9.3はtimeOffsetとcharOffsetとの両方でテキストやオーディオブックのラストマークを示している。</p>
<p id="para_168b"><!-- 2004-05-13 TM Added example with both time and char offsets. 2004-07-06 MM Changed uri to reference SMIL. -->例 9.3:</p>
<pre><samp id="smp_17b">

&lt;?xml version="1.0" encoding="UTF-8" ?&gt;

&lt;!DOCTYPE bookmarkSet PUBLIC "-//NISO//DTD bookmark 2005-1//EN"

  "http://www.daisy.org/z3986/2005/bookmark-2005-1.dtd"&gt;

&lt;bookmarkSet  xmlns="http://www.daisy.org/z3986/2005/bookmark/"&gt;

   &lt;title&gt;

      &lt;text&gt;Physics Yesterday&lt;/text&gt;

   &lt;/title&gt;

   &lt;uid&gt;uk-rnib-MM498&lt;/uid&gt;



   &lt;lastmark&gt;

     &lt;ncxRef&gt;physyd.ncx#lvl1_5&lt;/ncxRef&gt;

     &lt;URI&gt;physyd.smil#para_573&lt;/URI&gt;

     &lt;timeOffset&gt;02:01.00&lt;/timeOffset&gt;

     &lt;charOffset&gt;250&lt;/charOffset&gt;

   &lt;/lastmark&gt;



&lt;/bookmarkSet&gt;

  </samp></pre>
<p id="para_168n"><a href="#toc">目次</a></p>
<h1 id="h1_13">10. <a name="Resource"><!-- MG Entire section revised 2004-06-17 -->リソースファイル</a></h1>
<h2 id="h2_39">10.1 <a name="ResIntro">はじめに</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_169">リソースファイルは、読者（Reader）がDTBを使用する際にその読者（Reader）を支援することができるテキスト及び/または音声セグメントと任意の画像を提供する。そのDTBで回避可能な構造またはスキップ可能な構造が使用可能でない限り、その使用は任意である（セクション7.4,1と7.4.3を参照すること）。これらのメディアオブジェクトまたは「リソース」は、ドキュメントから失われた情報、または読者（Reader）がアクセス可能でない形式でのみ存在する情報を提供する。リソースは、一般的に重要で意味的に豊富な情報から構成されている。リソースは、プレーヤー（Player）やユーザー（User）がどの言語でリソースをレンダリングするべきかを決定できるようにするため、複数の言語で同時に供給することができる。以下はその適用例である。</p>
<ol id="ol_2">
<li id="li_454">多層式の構造を持つが、節（section）レベルより下のアイテムにナビべーションラベルがない本のような、明確な構造をもつが、見出しが欠けているドキュメント。NCXを介してドキュメントにステップ実行する時、リソースファイルは、読者（Reader）へのプレゼンテーションのためにワード"subsection"を格納することがありうる。</li>
<li id="li_455">ユーザー（User）がNCX内でレベルを変更した時に"level2"のような一般的なラベルを提示するプレーヤー（Player）の実装。リソースファイルは、例えば、「章」のように、特定の文脈において、そのレベルにあるアイテムの実際の名前を提示するために使用されることがありうる。</li>
<li id="li_456">「ここはどこ？」（現在位置の確認）に適用。</li>
<li id="li_457">テキストコンテンツファイル（Textual Content File）内での現在の位置のセマンティクスに関する詳細な情報。ドキュメントの最も微細な構造に関する正確な知識が不可欠である時に有用である。リソースファイルは、パラグラフ、リストアイテム、表のセルなどの境界を超える時にユーザー（User）に警告するテキストコンテンツファイル（Textual Content File）文法での要素名のテキストまたは音声クリップを提供することができるだろう。</li>
<li id="li_458">SMIL経由でユーザー（User）が「オフにする」（セクション7.4.3「<a href="#Skip">'スキップ可能な構造</a>」を参照すること）または「回避する」（セクション　7.4.1「<a href="#Escape">'回避可能な構造</a>」を参照すること）を選択することができるというテキスト構造のタイプに関する情報。リソースファイルは、影響を受けた構造の名前のテキストセグメントまたは音声クリップへのポインタを格納するだろう。例えば、ページ番号、ノート、表である。</li>
</ol>
<p id="para_169a">リソースファイルは、DTBファイルセットにある任意の要素のセットとリソースを関係付けるために、W3C XPath 1.0（<a href="#XPath10">[XPath10]</a>を参照すること）のサブセットを使用している。専用のXPathプロセッサを持たないプレーヤー（Player）のために、サブセットは関連付けを確立するために連結された文字列マッチングの使用を可能にするのに十分に厳格である。</p>
<p id="para_175">リソースは、適切な場合にのみ呼び出される。つまり、明示的なユーザー（User）要件/設定に対するレスポンス、そして、必要に応じてである。</p>
<h2 id="h2_40">10.2 <a name="ResElem">リソースの要素</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_177">以下は、リソース要素の簡潔な説明である。それぞれの要素の説明には、適用可能な属性の説明とともに、Resouce DTDからより抜粋した要素宣言が含まれている。</p>
<ul id="ul_123">
<li id="li_459"><strong>&lt;resources&gt;</strong><br>
<strong>説明: </strong>Resource DTDにおけるルート要素。<br>
<strong>宣言:</strong><code>
&lt;!ELEMENT resources (head?, scope+) &gt;</code><br>
<strong>構文:</strong>
<code>&lt;resources</code>...属性...<code>&gt;</code>...内容...<code>&lt;/resources&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_124">
<li id="li_460"><!--MG 30 March, 2004--><strong>version (CDATA, FIXED): "2005-1"</strong>
 このインスタンスで使用されるDTDのバージョンを指定する。この属性と（DTDで指定された）その値は、そのドキュメントインスタンスで明示的に指定されなければならない。</li>
<li id="li_460a"><!-- JP 2004-03-31 New attribute -->
<strong>xmlns (CDATA, FIXED) "http://www.daisy.org/z3986/2005/resource/"</strong>: リソースファイルにおける全ての要素の初期設定のXML名前空間を指定する。名前空間の詳細については<a href="#XMLNamespaces">[XML-Namespaces] </a>を参照すること。この属性と（DTDで指定された）その値は、そのドキュメントインスタンスで明示的に指定されなければならない（Must）。</li>
<li id="li_460b"><!-- MG 2004-04-22 New attribute --><strong>id (ID, IMPLIED):</strong>
任意の識別子。</li>
</ul>
<strong>有効な親要素:</strong>
なし<br><br>
</li>
<li id="li_461"><strong>&lt;head&gt;</strong><br>
<strong>説明: </strong>メタデータの任意のコンテナ。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT head (meta*) &gt;</code><br>
<strong>構文:</strong>
 <code>&lt;head&gt;</code>...内容...<code>&lt;/head&gt;</code><br>
<strong>属性:</strong>
なし<br>
<strong>有効な親要素:</strong>
<code>&lt;resources&gt;</code><br>
<br>
</li>
<li id="li_462"><strong>&lt;meta&gt;</strong><br>
<strong>説明: </strong>製作者が定義するメタデータ。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT meta EMPTY &gt;</code><br>
<strong>構文:</strong>
 <code>&lt;meta</code>...属性...<code>/&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_125">
<li id="li_463"><strong>name (CDATA, REQUIRED) </strong>
</li>
<li id="li_464"><strong>content (CDATA, REQUIRED) </strong>
</li>
<li id="li_465"><strong>scheme (CDATA, IMPLIED) </strong>
</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;head&gt;</code><br>
<br>
</li>
<li id="li_462a"><strong>&lt;scope&gt;</strong><br>
<strong>説明: </strong>その名前空間によって識別される特定の語彙に関係付けられたリソースのコンテナ。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT scope (nodeSet+)&gt;</code><br>
<strong>構文:</strong>
 <code>&lt;scope</code>...属性...<code>&gt;</code>...内容...<code>&lt;/scope&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_125b">
<li id="li_463b"><strong>nsuri (%URI;, REQUIRED):</strong> この<code>&lt;scope&gt;</code>
要素の子孫 <code>&lt;resource&gt;</code>
がどの名前空間が適用されるかを定義する名前空間 URI。</li>
<li id="li_464b"><strong>id (ID, IMPLIED):</strong>
任意の識別子。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;resources&gt;</code><br>
<br>
</li>
<li id="li_462b"><strong>&lt;nodeSet&gt;</strong><br>
<strong>説明: </strong> <code>scope</code>の親によって定義された名前空間内の要素のセットのセレクタ。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT nodeSet (resource+)&gt;</code><br>
<strong>構文:</strong>
<code>&lt;nodeSet</code>...属性...<code>&gt;</code>...内容...<code>&lt;/nodeSet&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_125c">
<li id="li_463c"><strong>select (%XPathSubset, REQUIRED):</strong>
要素セットの選定を表現するW3C XPath 1.0 文字列。XPath サブセットは、 <a href="#ResReq">セクション10.3</a>で定義されている。</li>
<li id="li_464c"><strong>id (ID, REQUIRED):</strong>
必須の識別子。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;scope&gt;</code><br>
<br>
</li>
<li id="li_466"><strong>&lt;resource&gt;</strong><br>
<strong>説明: </strong>格納するnodeSedにおける要素に適用されるために、ラベルとしてのテキスト、音声クリップへのポインタ、及び/または画像を格納する。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT resource (((text, audio?) | audio), img?)&gt;</code><br>
<strong>構文:</strong>
<code>&lt;resource</code>...属性...<code>&gt;</code>...内容...<code>&lt;/resource&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_126">
<li id="li_471"><!-- 2004-04-02 TM - new attribute --><strong>xml:lang (%languagecode;, REQUIRED):</strong>
<a href="#RFC3066">[RFC 3066]</a>言語コードを使用して、リソースアイテムの言語を指定する。</li>
<li id="li_471b"><strong>id (ID, REQUIRED):</strong>
必須の識別子。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;nodeSet&gt;</code><br>
<br>
</li>
<li id="li_472"><strong>&lt;text&gt;</strong><br>
<strong>説明: </strong>ラベルに使用されるためのテキストを格納する。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT text (#PCDATA) &gt;</code><br>
<strong>構文:</strong>
<code>&lt;text&gt;</code>...内容<code>...&lt;/text&gt;</code><br>
<strong>属性:</strong><br>
<ul id="ul_126b">
<li id="li_476c"><strong>id (ID, IMPLIED):</strong>
任意の識別子。</li>
<li id="li_476d"><strong>dir ((ltr|rtl), IMPLIED):</strong>
テキスト方向性。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;resource&gt;</code><br>
<br>
</li>
<li id="li_473"><strong>&lt;audio&gt;</strong><br>
<strong>説明: </strong>音声ラベルを格納するファイルを指し示し、クリップの開始点と終点の時間オフセットを提供する。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT audio EMPTY &gt;</code><br>
<strong>構文:</strong>
<code>&lt;audio</code>...属性...<code>
/&gt;</code><br>
<strong>属性:</strong><br>
<ul id="ul_127">
<li id="li_474"><strong>src (%URI, REQUIRED): </strong>
音声ファイルのURI。<br>
</li>
<li id="li_475"><strong>clipBegin (%SMILtimeVal, REQUIRED):</strong>
音声ファイルの開始点からの時間オフセットとして連続的な音声ファイルの区分の開始点を指定する。値の構文は、SMIL 2.0 Timing and Synchronization Module<a href="#ref-SMIL">[SMIL]</a>によって定義される セクション7.7「<a href="#Clock">メディアクリッピングとクロック値</a>」を参照すること</li>
<li id="li_476"><strong>clipEnd (%SMILtimeVal, REQUIRED):</strong>
音声ファイルの開始点からの時間オフセットとして連続的な音声ファイルの区分の終点を指定する。<code>clipBegin</code>と同じ属性値の構文を使用する。</li>
<li id="li_476b"><strong>id (ID, IMPLIED):</strong>
任意の識別子。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;resource&gt;</code><br>
<br>
</li>
<li id="li_477"><strong>&lt;img&gt;</strong><br>
<strong>説明:</strong>画像を格納するファイルを指し示す。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT img EMPTY &gt;</code><br>
<strong>構文:</strong>
<code>&lt;img</code>...属性...<code>/&gt;</code><br>
<strong>属性:</strong>
<br>
<ul id="ul_128">
<li id="li_478"><strong>src ( %URI, REQUIRED): </strong>
画像ファイルのURI。</li>
<li id="li_478b"><strong>id (ID, IMPLIED):</strong>
任意の識別子。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;resource&gt;</code><br>
<br>
</li>
</ul>
<h2 id="h2_41">10.3 <a name="ResReq">リソースファイルの要件</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_176">
<!--MG 30 March, 2004 Added requirements re namespaces and entity declarations and reference re filename extensions.-->
リソースファイルが実装されている場合、次の要件を満たしていなければならない（Must）。リソースファイルは、文書型定義 resource-2005-1.dtd（ <a href="#DTBookDTD">付録1</a>"DTD for Resource File"を参照すること）に準拠したXML1.0ファイルである。<code>resources</code>要素上の <code>version</code>属性と<code>xmlns</code>属性は、上記のDTDに記載されている値を使用して明示的にドキュメントインスタンス内で指定されなければならない（Must）。エンティティ宣言は、内部のDTDサブセットになければならない（Must）。詳細は、セクション16.1 「<a href="#FileConform">一般的なファイルの適合性要件</a>」を参照すること。  <!--MG 30 March, 2004 Added requirements re namespaces and entity declarations and reference re filename extensions.-->DTBが、複数のメディアユニット（Media Unit）にまたがっている場合、DTBから直接参照されるリソースファイルと全ての音声及び画像ファイルの同一の複製物は、DTBの各メディアユニット（Media Unit）ごとに配布されなければならない（Shall）。</p>
<p id="para_176a"><code>&lt;resource&gt;</code>要素の子である様々なメディアは、提供する情報が同等でなければならない（Must）。ある特定の<code>&lt;nodeSet&gt;</code>要素の子である<code>&lt;resource&gt;</code>
は、異なる言語でも提供する情報が同等でなければならない（Must）。指定された<code>&lt;nodeSet&gt;</code>のいずれかの中で 、同じ言語を持つ2つのリソースがあってはならない（Must Not）。名前空間URI（<code>nsuri</code>属性の値）は、各&lt;scope&gt; 要素で一意でなければならない（Must）。</p>
<p id="para_176b"><code>select</code>属性で使用されるW3C XPath 1.0（<a href="#XPath10">[XPath10]</a>を参照すること）サブセット文字列は次の規則に従わなければならない（Must）。文字列は、妥当なXPath 1.0の文字列でなければならない（Must）し、XPath 1.0の省略構文のみを使用しなければならない（Must）。認められた唯一のロケーションパスは <code>/descendant-or-self::node()/</code>であり、省略構文では、<code>//</code>として表現される。ノードテストは要素名のみを選択してもよい（May）。ワイルドカードは、述語内ではなく、ノードテスト内の要素セレクタとして認められている。0以上の複数の述語が認められている。述語は属性のみを選択することができる。そして、属性名と属性の値を明示的に使用しなければならない（Must）。
<!--OHA 10-09-2004: Added rules regarding double and single quotes in attribute values-->
述部の属性値は、ダブルクォーテーションまたはシングルクォーテーション（" または '）で区切られる。ダブルクォーテーションを含む属性値は、シングルクォーテーションで区切られなければならず（Must）、シングルクォーテーションを含む属性値は、ダブルクォーテーションで区切られなければならない（Must）。ダブルクォーテーションとシングルクォーテーションの両方を含む属性値は認められない。述語はシングルトンでなければならない（Must）。つまり、述語では<code>and</code>も<code>or</code>のステートメントは認められない。要素と属性の選択は、qnameのローカル部分のみを使用しなければならない（Must）( <a href="#XMLNamespaces">[XML-Namespaces]</a>)を参照すること)。</p>
<p id="para_176c">以下は、EBNF形式で定義されているXPath1.0サブセットである。</p>
<pre>
<samp id="XPathSubset">

DTBLocationPath   ::=   '//' Step

Step              ::=   NodeTest Predicate*

NodeTest          ::=   '*' | QNameLocalPart

Predicate         ::=   '[' PredicateExpr ']'

PredicateExpr     ::=   Expr

Expr              ::=   EqualityExpr

EqualityExpr      ::=   AttrSpecifier '=' Literal

AttrSpecifier     ::=   '@' QNameLocalPart

Literal           ::=   '"' [^"]* '"'  | "'" [^']* "'"

QNameLocalPart    ::=   NCName

NCName            ::=   (Letter | '_') (NCNameChar)

NCNameChar        ::=   Letter | Digit | '.' | '-' | '_' | CombiningChar | Extender

</samp>

</pre>
<p id="para_176d">Letter、Digit、CombiningChar、ExtenderはXML 1.0 仕様で定義されている （<a href="http://www.w3.org/TR/REC-xml#NT-Letter">http://www.w3.org/TR/REC-xml#NT-Letter</a>
を参照すること）。</p>
<p id="para_176e">（<code>scope</code>要素によって定義される）特定の語彙内で、任意の要素は、それに関係付けられた 0個以上のリソースを有してもよい（May）。しかし、複数同時に関係付けられる場合、リソースファイルのサポートを実装するプレイヤー（Player）は、これらのリソースのうち、<em>（ドキュメント順で）最初に一致する</em>関連する&lt;scope&gt;要素の子の<code>&lt;nodeSet&gt;</code>、1つだけを選択することが求められる。</p>
<p id="para_176f">ドキュメントの作成者は、順次、<code>&lt;nodeSet&gt;</code>要素を順序づけるため、明示的にリソースの優先順位を表現する方法でこのプレーヤー（Player）の要件を利用する。次はオーサリングツールによって実装される順序付けアルゴリズムなどの有益な例である。</p>
<ol id="ol_3">
<li id="ol_3-li_1">まず、指定された要素名に一致する全ての<code>&lt;nodeSet&gt;</code>要素はワイルドカードに一致する<code>&lt;nodeSet&gt;</code>要素の前に出現する。</li>
<li id="ol_3-li_2">第二に、上記の並べ替えに伴う2つのグループ内で、 （属性が一致する）述語数のより多い<code>&lt;nodeSet&gt;</code>要素がより述語の少ない<code>&lt;nodeSet&gt;</code>要素の前に出現する。</li>
<li id="ol_3-li_3">第三に、<code>id</code>属性が一致するリソースを、他の一致する可能性があるものより優先させるため、シーケンスの先頭に移動することになる。</li>
</ol>
<p id="para_176g">次は、プレイヤー（Player）の視点からの典型的なリソース選択プロセスである。</p>
<ol id="ol_4">
<li id="ol_4-li_1">リソースが関係付けられてもよい（May）要素のインスタンス（「アクティブな要素」）が、<code>nsuri</code>属性値がそのアクティブな要素の名前空間URIとマッチするそのリソースファイル<code>&lt;scope&gt;</code>要素を検索する。</li>
<li id="ol_4-li_2">マッチする<code>&lt;scope&gt;</code>要素が見つかった場合、<code>select</code>属性に与えられたものとしてのXPathステートメントがそのアクティブ要素とマッチする最初の<code>&lt;nodeSet&gt;</code>を検索する。（一部のXPathプロセッサは実行前に、要素のselect文節にqname接頭辞を追加する必要があることに注意すること。）</li>
<li id="ol_4-li_3">マッチングする<code>&lt;nodeSet&gt;</code>要素が見つかった場合、言語設定に基づいて、このセットの子である1つのリソースを選択する。（プレイヤー（Player）は、通常、アクティブな要素の言語と一致する言語のリソースを選択する。プレイヤー（Player）は、初期設定の言語及び/またはユーザー（User）優先言語設定も実装してもよい（May）。それは、プレゼンテーションのためのリソースが選択された際にアクティブ要素の言語に優先するだろう。プレイヤー（Player）は、マッチする<code>&lt;nodeSet&gt;</code>が発見され、しかし、その子のリソースに望ましい言語が使用されていない場合のフォールバック動作を実装してもよい（May）し、しなくてもよい（may not）。</li>
</ol>
<h2 id="h2_42">10.4 <a name="ResEx">例</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_179">例10.1では、リソースファイルが、NCXとDTBookの名前空間のために英語のリソースのみを格納している。</p>
<p id="para_179a">NCXの名前空間（最初の<code>&lt;scope&gt;</code>要素）内で、2つのリソースがNCX <code>&lt;smilCustomTest&gt;</code>要素の選択を経由してスキップ可能な要素に提供される。最初の<code>&lt;nodeSet&gt;</code>が、 "PAGE_NUMBER"の値を持つ属性<code>bookStruct</code>を持つ1つの<code>&lt;smilCustomTest&gt;</code>要素にマッピングされる。2番目の<code>&lt;nodeSet&gt;</code>が、"foo"の値を持つ属性<code>id</code>を持つ<code>&lt;smilCustomTest&gt;</code>にマッピングされる。3番目の <code>&lt;nodeSet&gt;</code>が、"chapter"の値を持つ <code>class</code>属性を持つ<code>&lt;navPoint&gt;</code>要素にマッピングされる。</p>
<p id="para_179b">DTBookの名前空間（2番目の<code>&lt;scope&gt;</code>要素）内で、2つのリソースが次のとおり与えられている。1つが要素 <code>&lt;td&gt;</code>、もう1つが "optional"の値を持つ<code>render</code>
属性を持つ要素 <code>&lt;prodnote&gt;</code>である。</p>
<p id="para_179n"><strong>
例 10.1:</strong><br><br></p>
<pre><samp>

&lt;?xml version="1.0" encoding="UTF-8" ?&gt;

&lt;!DOCTYPE resources PUBLIC "-//NISO//DTD resource 2005-1//EN"

  "http://www.daisy.org/z3986/2005/resource-2005-1.dtd"&gt;

&lt;resources xmlns="http://www.daisy.org/z3986/2005/resource/" version="2005-1"&gt;

  &lt;scope nsuri="http://www.daisy.org/z3986/2005/ncx/"&gt;

    &lt;nodeSet id="ns001" select="//smilCustomTest[@bookStruct='PAGE_NUMBER']"&gt;

      &lt;resource xml:lang="en" id="r001"&gt;

        &lt;text&gt;page&lt;/text&gt;

        &lt;audio src="res_en.mp3" clipBegin="0.2s" clipEnd="0.4s"/&gt;

      &lt;/resource&gt;

    &lt;/nodeSet&gt;

    &lt;nodeSet id="ns002" select="//smilCustomTest[@id='foo']"&gt;

      &lt;resource xml:lang="en" id="r002"&gt;

        &lt;text&gt;verse&lt;/text&gt;

        &lt;audio src="res_en.mp3" clipBegin="0.8s" clipEnd="1.0s"/&gt;

      &lt;/resource&gt;

    &lt;/nodeSet&gt;

    &lt;nodeSet id="ns003" select="//navPoint[@class='chapter']"&gt;

      &lt;resource xml:lang="en" id="r003"&gt;

        &lt;text&gt;chapter&lt;/text&gt;

        &lt;audio src="chapter.mp3" clipBegin="2.8s" clipEnd="3.0s"/&gt;

        &lt;img src="chapter.png" /&gt;

      &lt;/resource &gt;

    &lt;/nodeSet&gt;

  &lt;/scope&gt;



  &lt;scope nsuri="http://www.daisy.org/z3986/2005/dtbook/"&gt;

    &lt;nodeSet id="ns004" select="//prodnote[@render='optional']"&gt;

      &lt;resource xml:lang="en" id="r004"&gt;

        &lt;text&gt;optional producers note&lt;/text&gt;

        &lt;audio src="res_en.mp3" clipBegin="2.8s" clipEnd="3.0s"/&gt;

      &lt;/resource&gt;

    &lt;/nodeSet&gt;

    &lt;nodeSet id="ns005" select="//td"&gt;

      &lt;resource xml:lang="en" id="r005"&gt;

        &lt;text&gt;table cell&lt;/text&gt;

        &lt;audio src="res_en.mp3" clipBegin="1.2s" clipEnd="1.4s"/&gt;

      &lt;/resource&gt;

    &lt;/nodeSet&gt;

  &lt;/scope&gt;

&lt;/resources&gt;

</samp>

</pre>
<p id="para_180">例10.2では、3つの複数の言語リソースが、DTBookの名前空間に与えられている。そして、1つのリソースは、SMILの名前空間に与えられている。</p>
<p id="para_180a">DTBookの名前空間（最初の<code>&lt;scope&gt;</code>要素）内で、リソースがimageの<code>class</code>属性値を持つ<code>&lt;prodnote&gt;</code>要素、属性指定のない<code>&lt;prodnote&gt;</code>要素、そして、最後に<code>image</code>の<code>class</code>属性値を持つ任意の要素に与えられる。</p>
<p id="para_180b">SMILの名前空間（2番目の<code>&lt;scope&gt;</code>要素）内で、リソースが「回避可能な」要素に与えられている。この場合、そのリソースは、任意の<code>class</code>属性値を経由してマッピングされる。</p>
<p id="para_180n"><strong>例 10.2:</strong></p>
<pre><samp>

&lt;?xml version="1.0" encoding="UTF-8" ?&gt;

&lt;!DOCTYPE resources PUBLIC "-//NISO//DTD resource 2005-1//EN"

  "http://www.daisy.org/z3986/2005/resource-2005-1.dtd"&gt;

&lt;resources xmlns="http://www.daisy.org/z3986/2005/resource/" version="2005-1"&gt;

  &lt;scope nsuri="http://www.daisy.org/z3986/2005/dtbook/"&gt;

    &lt;nodeSet id="ns001" select="//prodnote[@class='image']"&gt;

      &lt;resource xml:lang="en" id="r001"&gt;[...]&lt;/resource&gt;

      &lt;resource xml:lang="da" id="r002"&gt;[...]&lt;/resource&gt;

      &lt;resource xml:lang="ja" id="r003"&gt;[...]&lt;/resource&gt;

    &lt;/nodeSet&gt;

    &lt;nodeSet id="ns002" select="//prodnote"&gt;

      &lt;resource xml:lang="en" id="r004"&gt;[...]&lt;/resource&gt;

      &lt;resource xml:lang="da" id="r005"&gt;[...]&lt;/resource&gt;

      &lt;resource xml:lang="ja" id="r006"&gt;[...]&lt;/resource&gt;

    &lt;/nodeSet&gt;

    &lt;nodeSet id="ns003" select="//*[@class='image']"&gt;

      &lt;resource xml:lang="en" id="r007"&gt;[...]&lt;/resource&gt;

      &lt;resource xml:lang="da" id="r008"&gt;[...]&lt;/resource&gt;

      &lt;resource xml:lang="ja" id="r009"&gt;[...]&lt;/resource&gt;

    &lt;/nodeSet&gt;

  &lt;/scope&gt;

  &lt;scope nsuri="http://www.w3.org/2001/SMIL20/"&gt;

    &lt;nodeSet id="ns004" select="//*[@class='table']"&gt;

      &lt;resource xml:lang="en" id="r010"&gt;[...]&lt;/resource&gt;

      &lt;resource xml:lang="da" id="r011"&gt;[...]&lt;/resource&gt;

      &lt;resource xml:lang="ja" id="r012"&gt;[...]&lt;/resource&gt;

    &lt;/nodeSet&gt;

  &lt;/scope&gt;

&lt;/resources&gt;

</samp>

</pre>
<p id="para_181"><a href="#toc">目次</a></p>
<h1 id="h1_14">11. <a name="Dist">配布のためのパッケージングファイル</a></h1>
<h2 id="h2_43">11.1 <a name="DistIntro">はじめに</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_182">DTBが、CD-ROMなどの物理媒体によって配布される場合、製作者は、１つのディスクに1つ以上の本を入れたり、また、１つの本を格納するために1枚以上のディスクを使用するだろう。複数のDTBが単一の配布媒体（「メディアユニット（Media Unit）」）に格納される場合、読者（Reader）に本の「本棚」を提示するために、プレーヤー（Player）が簡単にアクセスできるようにこの情報を格納する簡単な方法が必要である。単一のDTBが複数のメディアにまたがっている場合、プレーヤー（Player）は、例えば、必要に応じて「ディスク2を挿入してください」などの正しい指示を読者に提供するために特定の情報にアクセスする必要がある。"Distribution Information File" (または "distInfo File") はこれらの目的を満たすためのデータを持つ。</p>
<p id="para_183">次のシナリオでは、プレイヤー（Player）は、適切に対応をするために正確な「配信情報」が必要になる。</p>
<ol id="ol_3gwk">
<li id="li_479">別のディスク上にあるNCXのターゲットにリーチしようとする。</li>
<li id="li_480">別のディスク上にあるブックマークやハイライトにリーチしようとする。</li>
<li id="li_481">最後に終了したものとは異なるディスクで読書を再開する。"<code>Lastmark</code>"は別のディスクを指すだろう。</li>
<li id="li_482">相互参照、または別のディスク上のターゲットを指し示す他のリンクに続く。</li>
<li id="li_483">新しいディスクを挿入することを求めているリンクをたどり、元となるポイントへのパスをたどる。</li>
<li id="li_484">通常再生（Playback）中にノートを読む。ノートが章や本の最後に印刷され、それらのノートを参照しているテキストとは別のところに記録されている場合、それらはnoterefsとは別のディスク上に置かれるかもしれない。</li>
<li id="li_485">複数枚のディスクで構成される本の1枚のディスクの終わりに達する。これは、別の方法で処理されるかもしれないが、distInfo ファイルを使用して実装することができる。</li>
</ol>
<p id="para_184">その他のDTBファイルはDTBの配布方法に応じた変更はされないが、distInfo ファイルは、通常、配布メディアのそれぞれのタイプにあわせて作成される。</p>
<h2 id="h2_44">11.2 <a name="DistReq">配布の要件</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_185">メディアユニット（Media Unit）ごとに1つのDTBを配布する場合、パッケージファイル（Package File ）は、メディアユニット（Media Unit）のファイルシステムのルートに配置されなければならない（Must）。メディアユニット（Media Unit）ごとに複数のDTBを配布する場合は、distinfoファイルのみがメディアユニット（Media Unit）のファイルシステムのルートに配置されなければならない（Must）。ハードディスクドライブなどのリムーバルではない記憶媒体にDTBが格納されている場合、これらの制限は適用されない。</p>
<p id="para_186">ある1つのDTBが1つ以上の配布メディアにまたがる時または複数のDTBが1つのメディアユニット（Media Unit）に格納される時、distInfo ファイルはその DTBの全てのメディアユニット（Media Unit）で求められる。それ以外の場合は、distinfoにファイルは任意である。1つのメディアユニット（Media Unit）（例えば、CD-ROMディスク）につき、ただ1つのdistinfoにファイルがなければならない（Shall）。</p>
<p id="para_187">
  <!--MG 30 March, 2004 Added requirements re namespaces and entity declarations.-->

  <!-- jp, 2004-04-26 changed DTD version number -->
distInfoファイルが存在するなら、そのdistInfoファイルは distInfo-2005-1.dtd（(<a href="#DTBookDTD">付録 1</a>, "Distribution Information DTD"を参照すること)に準拠した妥当な<a href="#XML">XML</a>
1.0 ファイルでなければならない（Must）。そして、distInfoファイルのファイル名は"distInfo.dinf"にしなければならない（Shall）。<code>distInfo</code>要素の<code>version</code>属性と<code>xmlns</code>属性は、上記のDTDに記載されている値を使用して、明示的にドキュメントインスタンスで指定されなければならない（Must）。エンティティ宣言は内部のDTBサブセット内で出現しなくてはならない（Must）。さらなる詳細については、セクション16.1　「<a href="#FileConform">一般的なファイルの適合性要件</a>」を参照すること。 </p>
<p id="para_188">複数のメディアユニット（Media Unit）による配布はNCXとSMILの作成に密接に関係がある。NCXについては、セクション8.4.2　「<a href="#NCXSpan">複数のメディアユニット（Media Unit）にまたがるDTB</a>」を参照すること。SMILについては、セクション7.4.4「<a href="#SMILDist">複数のメディアユニット（Media Unit）をまたぐファイルのパッケージング</a>
」を参照すること。</p>
<p id="para_189">読書を続けるために別のメディアユニット（Media Unit）が必要になる時に、ユーザー（User）に読書を継続する方法を指示する目的でカスタマイズされたメッセージを与えるために任意で<code>changeMsg</code>を使用してもよい（May）。そのような<code>changeMsg</code>を使用することで、テキストまたは音声のいずれかの方式でのメッセージのプレゼンテーションが可能になる。もし<code>changeMsg</code>が存在せず、別のメディアユニット（Media Unit）が必要な場合、プレーヤー（Player）は、（例えば、ディスク2を挿入してくださいなどの）初期設定の音声またはテキストメッセージをレンダリングするしなければならない（Must）。</p>
<p id="para_189a">
<!-- jp, 2004-04-26 Added this paragraph on fileSet requirements -->
distinfoにファイルは、<code>&lt;fileSet&gt;</code>要素を経由したディストリビューション内の全てのファイルのリストを含んでもよい（May）。これは任意であり、再生システム（Playback System）が、任意の特定の方法でこれを処理することは期待されない。使用された場合は、<code>&lt;fileSet&gt;</code>は、非DTBファイル、distInfoファイルそのものなど通常はDTBのパッケージファイル（Package File）で一覧にされないアイテムを含めて、ディストリビューションのメディアにある全てのファイルを一覧にしなければならない（Must）。</p>
<p id="para_190">
<!-- jp, 2004-04-27 Added <file> to this description -->
<code>&lt;book&gt;</code>要素の<code>media</code>属性の値と<code>smilRef</code>要素、<code>changeMsg</code>要素、<code>file</code>要素の<code>mediaRef</code>属性の値は、 "x:y"形式でなければならない（Shall）。x はこのメディアユニット（Media Unit）の配列番号で、y はこの本のディストリビューションでのメディアユニット（Media Unit）の総数である。本は2つ以上のメディアユニット（Media Unit）にまたがっている場合、<code>&lt;book&gt;</code>の<code>media</code>属性は存在して値を格納しなくてはならない（Must）。</p>
<h2 id="h2_45">11.3 <a name="DistElem">DistInfoの要素</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<ul id="ul_129">
<li id="li_486">
<!-- jp, 2004-04-26 Rewrote content model to include fileSet -->
<strong>&lt;distInfo&gt;</strong><br>
<strong>説明:</strong>
distinfoファイルのルート要素。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT distInfo (book+, fileSet?) &gt;</code><br>
<strong>構文:</strong>
<code>&lt;distInfo</code>...属性...<code>&gt;</code>...内容...<code>&lt;/distInfo&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_130">
<li id="li_487">
  <!--MG 30 March, 2004, revised definition. -->
  <!--TM 2004-04-05 changed version number -->
<strong>version (CDATA, FIXED) "2005-1":</strong>このインスタンスで使用されているDTDのバージョンを指定する。この属性と（DTDで指定された）その値は、そのドキュメントインスタンスで明示的に指定されなければならない。</li>
<li id="li_487a">
<!-- JP 2004-03-31 New attribute -->
<strong>xmlns (CDATA, FIXED) "http://www.daisy.org/z3986/2005/distInfo/":</strong>
distInfoファイルにおける全ての要素の初期設定のXML名前空間を指定する。 名前空間の詳細については<a href="#XMLNamespaces">[XML-Namespaces] </a>を参照すること。この属性と（DTDで指定された）その値は、そのドキュメントインスタンスで明示的に指定されなければならない（Must）。</li>
</ul>
<strong>有効な親要素:</strong>
None<br>
<br>
</li>
<li id="li_488"><!-- jp, 2004-04-26 Rewrote content model to include docTitle and docAuthor -->
<strong>&lt;book&gt;</strong><br>
<strong>説明: </strong>この配布メディア上に存在する一部分または全体のDTBを識別する。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT book (docTitle, docAuthor*, distMap?, changeMsg*)&gt;</code><br>
<strong>構文:</strong>
<code>&lt;book</code>
...属性...<code>&gt;</code>...内容...<code>&lt;/book&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_131">
<li id="li_489"><strong>uid (CDATA, REQUIRED): </strong>DTBのグローバルな一意な識別子。値は、パッケージファイル（Package File）の<code>package</code>
要素のunique-identifier属性に参照される<code>dc:Identifier</code>要素とのそれと同じである。セクション3.1 「<a href="#PkgId">パッケージの識別</a>
」を参照すること。</li>
<li id="li_490"><strong>pkgRef (CDATA, REQUIRED): </strong>本のパッケージファイルのURI。しかし、distInfoファイルが存在しない場合でも、プレーヤー（Player）はDTBのパッケージファイル（Package File）の位置を特定できなければならない（Must）。</li>
<li id="li_491"><strong>media (CDATA, IMPLIED):</strong>本が2つ以上のメディアユニット（Media Unit）にまたがる場合、 <code>media</code>属性は進行中のメディアユニット（Media Unit）を "x:y"形式で識別する。x はこのメディアユニット（Media Unit）の配列番号で、y はこの本のディストリビューションでのメディアユニット（Media Unit）の総数である。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;distInfo&gt;</code><br>
<strong>コメント: </strong>
0個または1個の<code>distMap</code>と0個以上の<code>changeMsg</code>を格納する。<br>
<br>
</li>
<li id="li_492"><!-- jp, 2004-04-27 Added comment about when distMap is required -->
<strong>&lt;distMap&gt;</strong><br>
<strong>説明:</strong>どのメディアユニット（Media Unit）に個々のSMILファイルが存在するかを識別する地図。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT distMap (smilRef+) &gt;</code><br>
<strong>構文:</strong>
<code>&lt;distMap&gt;</code>...内容...<code>&lt;/distMap&gt;</code><br>
<strong>属性:</strong>
なし<br>
<strong>有効な親要素:</strong>
<code>&lt;book&gt;</code><br>
<strong>コメント: </strong>1個以上の<code>smilRef</code>を格納する。1つの本が複数のメディアにまたがる時のみ<code>distMap</code>は必要である。<br>
<br>
</li>
<li id="li_493"><strong>&lt;smilRef&gt;</strong><br>
<strong>説明: </strong>
DTB SMILファイルへの参照。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT smilRef EMPTY &gt;</code><br>
<strong>構文:</strong>
<code>&lt;smilRef</code>...属性...<code>/&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_132">
<li id="li_494"><strong>file (CDATA, REQUIRED):</strong>
SMILファイルのファイル名。</li>
<li id="li_495"><strong>mediaRef (CDATA, REQUIRED):</strong>あるSMILファイルが存在するメディアユニット（Media Unit）を"x:y"形式で識別する。x はこのメディアユニット（Media Unit）の配列番号で、y はこの本のディストリビューションでのメディアユニット（Media Unit）の総数である。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;distMap&gt;</code><br>
<strong>コメント: </strong>パッケージファイル（Package File）のManifestにSMILファイルが存在する際にそのSMILファイルのファイル名を格納する。<br>
<br>
</li>
<li id="li_495a">
<!-- jp, 2004-04-26 Added docTitle; language taken from NCX -->
<strong>&lt;docTitle&gt;</strong><br><strong>概要: </strong>読者（Reader）に提示するための本のタイトル。テキストとして、そして、任意で音声または画像のレンダリングとして提示される。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT docTitle (text, audio?, img?)&gt;</code><br>
<strong>構文:</strong>
<code>&lt;docTitle</code>
...属性... <code>&gt; </code>...内容... <code>&lt;/docTitle&gt;</code><br><strong>属性:</strong><br>
<ul id="ul_132a">
<li id="li_495b"><strong>xml:lang (NMTOKEN, IMPLIED):</strong>
タイトルの言語の <a href="#RFC3066">[RFC 3066]</a>
言語コードを指定する。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;book&gt;</code><br>
<br></li>
<li id="li_495c">
<!-- jp, 2004-04-26 Added docAuthor; language taken from NCX -->
<strong>&lt;docAuthor&gt;</strong><br><strong>概要: </strong>読者（Reader）提示するための本の著者。テキストとして、そして、任意で音声または画像のレンダリングとして提示される。<br><strong>宣言:</strong>
<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT docAuthor (text, audio?, img?)&gt;</code><br>
<strong>構文:</strong>
<code>&lt;docAuthor</code>
...属性...<code>&gt;</code>...内容...<code>&lt;/docAuthor&gt;</code><br>
<ul id="ul_132b">
<li id="li_495d"><strong>xml:lang (NMTOKEN, IMPLIED):</strong>タイトルの言語の <a href="#RFC3066">[RFC 3066]</a>
言語コードを指定する。</li></ul><strong>有効な親要素:</strong>
<code>&lt;book&gt;</code><br>
<br></li>
<li id="li_496"><strong>&lt;changeMsg&gt;</strong><br>
<strong>説明:</strong>
新しいディスクがリーディングシステムによってリクエストされた時に読まれるべき特別メッセージのテキスト及び/または音声版を格納する。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT changeMsg ((text, audio?) | audio)&gt;</code><br>
<strong>構文:</strong>
<code>&lt;changeMsg</code>...属性...<code>&gt;</code>...内容...<code>&lt;/changeMsg&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_133">
<li id="li_497"><strong>mediaRef (CDATA, REQUIRED):</strong>このメッセージ（例えば、「ディスク2を挿入してください」など）が指定するメディアユニット（Media Unit）を識別する。プレイヤー（Player）は、この<code>mediaRef</code>属性と選択された<code>&lt;smilRef&gt;</code>の<code>mediaRef</code>のマッチングによって正しい<code>&lt;changeMsg&gt;</code>を呼び出す。"x:y"形式。x はこのメディアユニット（Media Unit）の配列番号で、y はこの本のディストリビューションでのメディアユニット（Media Unit）の総数である。</li>
<li id="li_498"><!-- 2004-04-02 TM - changed lang to xml:lang; changed RFC1766 to RFC3066 --><strong>xml:lang (NMTOKEN, IMPLIED):</strong>
 表現されるメッセージの言語の<a href="#RFC3066">[RFC 3066]</a>言語コードを指定する。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;book&gt;</code><br>
<br></li>
<li id="li_498a"><!-- jp, 2004-04-26 Added fileSet -->
<strong>&lt;fileSet&gt;</strong><br>
<strong>説明: </strong>ディストリビューション内の全てのファイルのリストを格納する。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT fileSet (file+) &gt;</code><br>
<strong>構文:</strong>
<code>&lt;fileSet&gt;</code>...内容...<code>&lt;/fileSet&gt;</code><br>
<strong>属性:</strong>
なし<br>
<strong>有効な親要素:</strong>
<code>&lt;distInfo&gt;</code><br>
<br></li>
<li id="li_498b"><!-- jp, 2004-04-26 Added file -->
<strong>&lt;file&gt;</strong><br>
<strong>説明: </strong>ディストリビューション内の1つのファイル。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT file EMPTY &gt;</code><br>
<strong>構文:</strong>
<code>&lt;file</code>...属性...<code>/&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_133a">
<li id="li_498c"><strong>fileRef (CDATA, REQUIRED):</strong>
ファイルのURI。</li>
<li id="li_498d"><strong>mediaRef (CDATA, IMPLIED):</strong>あるファイルが存在するメディアユニット（Media Unit）を "x:y"形式で識別する。x はこのメディアユニット（Media Unit）の配列番号で、y はこの本のディストリビューションでのメディアユニット（Media Unit）の総数である。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;fileSet&gt;</code><br>
<br>
</li>
<li id="li_499">
<!-- jp, 2004-04-26 Changed description to generalize usage -->
<!-- jp, 2004-04-26 Added docTitle/docAuthor to "Valid inside" -->
<strong>&lt;text&gt;</strong><br>
<strong>説明:</strong>タイトル、著者、またはメディア変換メッセージのテキストを格納する。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT text (#PCDATA) &gt;</code><br>
<strong>構文:</strong><code>
&lt;text&gt;</code>...内容...<code>&lt;/text&gt;</code><br>
<strong>属性:</strong>
なし<br>
<strong>有効な親要素:</strong>
<code>&lt;changeMsg&gt;</code>、<code>&lt;docTitle&gt;</code>、<code>&lt;docAuthor&gt;</code><br>
<br>
</li>
<li id="li_500">
<!-- jp, 2004-04-26 Changed description to generalize usage -->
<!-- jp, 2004-04-26 Added docTitle/docAuthor to "Valid inside" -->
<strong>&lt;audio&gt;</strong><br>
<strong>説明: </strong>タイトル、著者、またはメディア変更メッセージの音声クリップへのポインタ。<br>
<strong>宣言:</strong>
<code>&lt;!ELEMENT audio EMPTY&gt;</code><br>
<strong>構文:</strong><code>
&lt;audio</code>...属性...<code>/&gt;</code><br>
<strong>属性:</strong>
<ul id="ul_134">
<li id="li_501"><!-- jp, 2004-04-26 Bug fix:  @src is REQUIRED in DTD -->
<strong>src (%URI, REQUIRED):</strong>
メディア変換メッセージの音声コンテンツのURI。</li>
<li id="li_501a"><!-- jp, 2004-04-26 @clipBegin now REQUIRED -->
<strong>clipBegin (CDATA, REQUIRED):</strong>
音声ファイルの開始点からの時間オフセットとして連続的な音声ファイルの区分の開始点を指定する。値の構文は、SMIL 2.0 Timing and Synchronization Module<a href="#ref-SMIL">[SMIL]</a>によって定義される セクション7.7「<a href="#Clock">メディアクリッピングとクロック値</a>」を参照すること。</li>
<li id="li_501b"><!-- jp, 2004-04-26 @clipEnd now REQUIRED -->
<strong>clipEnd (CDATA, REQUIRED):</strong>
音声ファイルの開始点からの時間オフセットとして連続的な音声ファイルの区分の終点を指定する。<code>clipBegin</code>と同じ属性値の構文を使用する。</li>
</ul>
<strong>有効な親要素:</strong>
<code>&lt;changeMsg&gt;</code>、<code>&lt;docTitle&gt;</code>、<code>&lt;docAuthor&gt;</code><br>
<br>
</li>
<li id="li_501c"><!-- jp, 2004-04-26 Added img (language from NCX) -->
<strong>&lt;img&gt;</strong><br>
<strong>説明: </strong>
<code>&lt;docTitle&gt;</code>
または<code>&lt;docAuthor&gt;</code>と関係付けられたグラフィカルなコンテンツへのポインタを格納する。<br><strong>宣言:</strong><code>
&lt;!ELEMENT img EMPTY&gt;</code><br><strong>構文:</strong>
<code>&lt;img</code>...属性... <code>/&gt;</code><br><strong>属性:</strong>
<br>
<ul id="ul_134a">
<li id="li_501d"><strong>src (CDATA, REQUIRED):</strong>
メディアオブジェクトのURI。</li></ul>
<strong>有効な親要素:</strong>
<code>&lt;docTitle&gt;</code>、<code>&lt;docAuthor&gt;</code><br><br></li>
</ul>
<h2 id="h2_46">11.4 <a name="DistEx">例</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_191">例 11.1は3枚のCD-ROMにまたがる1冊の本の最初のディスクのdistInfo ファイルを示している。<code>book</code>要素は<code>pkgRef</code>経由でパッケージファイル（Package File）を指し示す <code>uid</code>属性を通してその本を識別している。そして、このディスクが3枚のうちの1枚目であることを<code>media</code>属性で指し示している。プレーヤー（Player）は本のメタデータなどを取得するためにパッケージファイル（Package File）をパースする。<code>distMap</code>要素はその本の各SMILファイルごとに1つの<code>smilRef</code>を格納する（この例にあるのケースでは10個ある。）。<code>file</code>属性はそれぞれ個々のSMILの名前を提供する。<code>mediaRef</code>属性は、その特定のSMILファイル（とそれに参照される全ての音声/テキスト/画像ファイル）がどのディスクに存在するかを指し示している。</p>
<p id="para_192">プレーヤー（Player）は特定のSMILファイルが再生（Playback）のターゲットになった時にこのマップを参照するだろう。もしファイルが現在のディスクに存在しない場合は、選択された<code>smilRef</code>要素の<code>mediaRef</code>属性と一致する<code>mediaRef</code>属性を持つ<code>changeMsg</code>が再生されるだろう。</p>
<p id="para_193">
  <!-- 2004-04-02 TM - fixed example per changes to version and xmlns -->

  <!-- jp, 2004-04-26 Revised example to include docTitle/docAuthor, plus different SMIL

       clock value syntax (just for the heck of it)

  -->
例11.1: </p><pre><samp id="smp_20">

&lt;?xml version="1.0"  encoding="UTF-8"?&gt;

&lt;!DOCTYPE distInfo PUBLIC "-//NISO//DTD distInfo 2005-1//EN"

  "http://www.daisy.org/z3986/2005/distInfo-2005-1.dtd"&gt;

&lt;distInfo version="2005-1" xmlns="http://www.daisy.org/z3986/2005/distInfo/"&gt;



  &lt;book uid="us-rfbd-tbfz284" pkgRef="./FZ284.opf" media="1:3"&gt;

        &lt;docTitle&gt;

            &lt;text&gt;Development through the lifespan&lt;/text&gt;

            &lt;audio src="FZ284_1098.mp3" clipBegin="0s"

            clipEnd="3.087s" /&gt;

        &lt;/docTitle&gt;

        &lt;docAuthor&gt;

            &lt;text&gt;Laura E. Berk&lt;/text&gt;

            &lt;audio src="FZ284_1098.mp3" clipBegin="3.5s"

            clipEnd="5.28s" /&gt;

        &lt;/docAuthor&gt;



    &lt;distMap&gt;

      &lt;smilRef file="FZ284_0001d.smil" mediaRef="1:3"/&gt;

      &lt;smilRef file="FZ284_0002d.smil" mediaRef="1:3"/&gt;

      &lt;smilRef file="FZ284_0003d.smil" mediaRef="1:3"/&gt;

      &lt;smilRef file="FZ284_0004d.smil" mediaRef="1:3"/&gt;

      &lt;smilRef file="FZ284_0005d.smil" mediaRef="2:3"/&gt;

      &lt;smilRef file="FZ284_0006d.smil" mediaRef="2:3"/&gt;

      &lt;smilRef file="FZ284_0007d.smil" mediaRef="2:3"/&gt;

      &lt;smilRef file="FZ284_0008d.smil" mediaRef="2:3"/&gt;

      &lt;smilRef file="FZ284_0009d.smil" mediaRef="2:3"/&gt;

      &lt;smilRef file="FZ284_0010d.smil" mediaRef="3:3"/&gt;

    &lt;/distMap&gt;



    &lt;changeMsg mediaRef="1:3"&gt;

       &lt;text&gt;Insert disc one.&lt;/text&gt;

       &lt;audio src="insert.wav" clipBegin="0s"

       clipEnd="2.256s" /&gt;

    &lt;/changeMsg&gt;

    &lt;changeMsg mediaRef="2:3"&gt;

       &lt;text&gt;Insert disc two.&lt;/text&gt;

       &lt;audio src="insert.wav" clipBegin="3s"

       clipEnd="5.881s" /&gt;

    &lt;/changeMsg&gt;

    &lt;changeMsg mediaRef="3:3"&gt;

       &lt;text&gt;Insert disc three.&lt;/text&gt;

       &lt;audio src="insert.wav" clipBegin="6.901s"

       clipEnd="10s" /&gt;

    &lt;/changeMsg&gt;

  &lt;/book&gt;

&lt;/distInfo&gt;



</samp></pre>
<p id="para_194">
<!-- jp, 2004-04-26 Rewrote description to match new example -->
例11.2では、2つの本が1枚のCD-ROMに格納されている場合の1つのdistInfoファイルがサンプルとして提示されている。そのファイルは2つの本のパッケージファイル（Package File）へのポインタを格納している。両方の本は、この1つのメディアユニット（Media Unit）で完結しているため、<code>media</code>属性が省略されている。このdistInfoファイルは、任意で<code>&lt;fileSet&gt;</code>要素も格納している。これは、非DTBの "extras"に加えて、2つの本の全てのファイルを一覧している。</p>
<p id="para_195">
  <!-- 2004-04-02 TM - fixed example per changes to version and xmlns -->

  <!-- jp, 2004-04-26 Revised example to include docTitle/docAuthor, plus fileSet -->
例11.2:</p><pre><samp id="smp_21">

&lt;?xml version="1.0"  encoding="UTF-8"?&gt;

&lt;!DOCTYPE distInfo PUBLIC "-//NISO//DTD distInfo 2005-1//EN"

  "http://www.daisy.org/z3986/2005/distInfo-2005-1.dtd"&gt;

&lt;distInfo version="2005-1" xmlns="http://www.daisy.org/z3986/2005/distInfo/"&gt;

    &lt;book uid="us-nls-db00001" pkgRef="./book1/AllAboutDogs.opf" &gt;

        &lt;docTitle&gt;

            &lt;text&gt;All About Dogs:  Everything you wanted to know about

                  canines, but were afraid to ask&lt;/text&gt;

            &lt;audio src="distAudioClips.mp3" clipBegin="00:00"

            clipEnd="00:09.632" /&gt;

            &lt;img src="./book1/cover.jpg" /&gt;

        &lt;/docTitle&gt;

        &lt;docAuthor&gt;

            &lt;text&gt;George Kerscher&lt;/text&gt;

            &lt;audio src="distAudioClips.mp3" clipBegin="00:10"

            clipEnd="00:13.109" /&gt;

        &lt;/docAuthor&gt;

        &lt;docAuthor&gt;

            &lt;text&gt;Nesbit Kerscher&lt;/text&gt;

            &lt;audio src="distAudioClips.mp3" clipBegin="00:14"

            clipEnd="00:15.53" /&gt;

        &lt;/docAuthor&gt;

    &lt;/book&gt;



    &lt;book uid="us-nls-db98765" pkgRef="./book2/AllAboutCats.opf" &gt;

        &lt;docTitle&gt;

            &lt;text&gt;All About Cats:  Everything you wanted to know about

                  felines, but were afraid to ask&lt;/text&gt;

            &lt;audio src="distAudioClips.mp3" clipBegin="00:20"

            clipEnd="00:24.87" /&gt;

            &lt;img src="./book2/cover.jpg" /&gt;

        &lt;/docTitle&gt;

        &lt;docAuthor&gt;

            &lt;text&gt;Frances White&lt;/text&gt;

            &lt;audio src="distAudioClips.mp3" clipBegin="00:26"

            clipEnd="00:27.45" /&gt;

        &lt;/docAuthor&gt;

        &lt;docAuthor&gt;

            &lt;text&gt;Isabel White&lt;/text&gt;

            &lt;audio src="distAudioClips.mp3" clipBegin="00:28"

            clipEnd="00:29.71" /&gt;

        &lt;/docAuthor&gt;

    &lt;/book&gt;



    &lt;fileSet&gt;

        &lt;file fileRef="./book1/AllAboutDogs.opf" /&gt;

        &lt;file fileRef="./book1/AllAboutDogs.ncx" /&gt;

        &lt;file fileRef="./book1/AllAboutDogs.smil" /&gt;

        &lt;file fileRef="./book1/db00001_1.mp4" /&gt;

        &lt;file fileRef="./book1/db00001_2.mp4" /&gt;

        &lt;file fileRef="./book1/db00001_3.mp4" /&gt;

        &lt;file fileRef="./book1/cover.jpg" /&gt;

        &lt;file fileRef="./book1/NLS.res" /&gt;

        &lt;file fileRef="./book1/NLSres.mp4" /&gt;

        &lt;file fileRef="./book2/AllAboutCats.opf" /&gt;

        &lt;file fileRef="./book2/AllAboutCats.ncx" /&gt;

        &lt;file fileRef="./book2/AllAboutCats.smil" /&gt;

        &lt;file fileRef="./book1/db98765_1.mp4" /&gt;

        &lt;file fileRef="./book1/db98765_2.mp4" /&gt;

        &lt;file fileRef="./book1/db98765_3.mp4" /&gt;

        &lt;file fileRef="./book1/db98765_4.mp4" /&gt;

        &lt;file fileRef="./book2/cover.jpg" /&gt;

        &lt;file fileRef="./book2/NLS.res" /&gt;

        &lt;file fileRef="./book2/NLSres.mp4" /&gt;

        &lt;file fileRef="./extras/Guide_Dogs.mov" /&gt;

        &lt;file fileRef="./extras/Attack_Cats.mov" /&gt;

        &lt;file fileRef="distAudioClips.mp3" /&gt;

        &lt;file fileRef="distInfo.dinf" /&gt;

    &lt;/fileSet&gt;

&lt;/distInfo&gt;



</samp></pre>
<p id="para_195n"><a href="#toc">目次</a></p>
<h1 id="h1_15">12. <a name="Style">プレゼンテーションスタイル</a></h1>
<h2 id="h2_47">12.1 <a name="StyleIntro">はじめに</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_196">W3Cは、プレゼンテーションからコンテンツを分離するために、Cascading Style Sheet <a href="#CSS">[CSS]</a>およびExtensible Style Language <a href="#XSL">[XSL]</a>
と呼ばれるメカニズムを定義している。CSS（ <a href="#CSS1">Level 1 [CSS1]</a>と<a href="#CSS2">Level 2 [CSS2]</a>の２つのレベルの機能が現在、定義されている。)とXSLによって、マークアップのための特定の書式ルールを定義し、独立したコンテンツとして格納することができる。初期設定のルールは、通常、特定の再生（Playback）またはレンダリングシステムによって適用される。CSS <em>Cascade</em>は、ユーザー（User）によってだけではなく、コンテンツ製作者によってもスタイル規則を適用させることができる定義されたメカニズムを提供する。製作者が提供するスタイルシートは、プレーヤー（Player）やユーザー（User）の初期設定のスタイルでは満たせない書式設定やプレゼンテーション上の要件を持つ複雑なドキュメントには特に重要である。</p>
<p id="para_197">視覚的表示を組み込み、CSSまたはXSLのサポートしているシステム上でDTBが再生される時に、コンテンツ製作者は、テキストコンテンツの視覚的書式設定を制御するためにCSSまたはXSLファイルを提供してもよい（May）</p>
<p id="para_198">点字ディスプレイがDTBプレーヤー（Player）に接続されているならば、点字用のスタイルシートはドキュメントをよりナビゲートしやすいようにするため、書式を制御することができる。</p>
<p id="para_199">Audio CSS（ ACSS、CSS2の一部）とXSLも視覚的書式設定と同等の聴覚のそれをサポートし、テキストコンテンツのマークアップに関係付けるオーディオキューを可能にする。例えば、章の開始や改ページで特定のオーディオキューで示すことができる。</p>
<h2 id="h2_48">12.2 <a name="ImpStyles">DTBのためのスタイルシートの実装</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_200">スタイルシートはDTBとDTB配布システムの任意の構成要素である。DTBの製作者は、初期設定で視覚的スタイルシート、点字用のスタイルシート、音声用のスタイルシートを与えることを選択してもよい（May）。</p>
<p id="para_201">スタイルシートは、ユーザー（User）による上書きを妨げるような方法で書かれてはならない（Must Not）。スタイルシートを参照するDTBは、XMLソースとそのスタイルシート（<a href="#XML-Style">[XML-Style]</a>を参照すること）を関係付けさせる標準的なW3Cのメカニズムを使用しなければならない（Must）。指示を処理する全てのスタイルシートは、どのメディアに適用するスタイルシートであるかを指定する<em>media</em>属性が含まれていなければならない（Must）。 適用できる値は次の通りである。: all （全てのメディアに対して）、 aural （音声プレゼンテーションに対して）、braille (点字ディスプレイに対して)、 embossed (エンボス加工された点字に対して）、handheld (小さなモノクロスクリーンを持つデバイスに対して）、 print（印刷出力された視覚的形式に対して）、そして、screen（(カラーのコンピュータースクリーンに対して）。 例えば、次のとおりである。<br><br>
<samp id="smp_22">&lt;?xml-stylesheet href="brstyle.css" type="text/css" media="braille"?&gt;</samp></p>
<p id="para_202">一般的なPCベースのブラウザを使用する再生システム（Playback System）は、少なくともそのブラウザ自体が行う程度のプレゼンテーションスタイルをサポートするべきである（Should）。しかし、視覚ディスプレイを組み込んだあらゆるDTBプレーヤー（Player）は、少なくともCSS1を実装することが強く推奨される。ポータブルプレーヤー（Player）は一般的にスタイルシートの完全なサポートを提供してはいないが、DTBでの利用とプレーヤー（Player）上で表示されるメディアに十分なCSS またはXSLのサブセットを実装してもよい（May）。例えば、テキストコンテンツを認識している音声のみのプレイヤー（Player）は、上記の音声スタイルのみをサポートするかもしれない。</p>
<p id="para_203">再生システム（Playback System）の開発者は、スタイルシートのローカル制御をサポートするユーザーインターフェイス機能を実装してもよい（May）。それによってユーザー（User）は、プレーヤー（Player）または製作者が初期設定で定義したスタイルを上書きするスタイルを定義することが可能になる。スタイルシートを実装するプレーヤー（Player）はプレゼンテーションスタイルのユーザー（User）制御をサポートすることが強く推奨される。</p>
<p id="para_204">複数のスタイルシートがレンダリングされるコンテンツのために存在し、ユーザー（User）が定義したスタイルが存在する場合は、ユーザー（User）が定義したスタイルが優先され、その後に製作者が定義したもの、続いてプレーヤー（Player）が定義したものという順序で優先されなければならない（Shall）。</p>
<p id="para_204n"><a href="#toc">目次</a></p>
<h1 id="h1_16">13. <!-- jp 2004-03-10

[Removed subsections 13.1 and 13.2; promoted section 13.3; changed dtb:multimediaType to dtb:multimediaContent]--><a name="Render">
コンテンツのレンダリング</a></h1>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_207">プレイヤー（Player）は、現行のファイルのタイプからコンテンツをレンダリングする方法を決定しなければならない（Must）。テキストコンテンツファイル（Textual Content File）のみである場合は、ユーザー（User）の設定と再生システム（Playback System）が提供する機能に従って、合成音声のレンダリング、点字ディスプレイへのアウトプット及び/または視覚的表示が提示されてもよい（May）。音声ファイルのみである場合、連続した音声の再生（Playback）が開始されなければならない（Shall）。DTBに格納されているメディアのサブセットのみをサポートしているプレイヤー（Player）がサポートしていないメディアに出会ったら、サポートしていないファイルを無視し、サポートしているファイルを正しくレンダリングしなければならない（Must）。さらに、再生システム（Playback System）がDTBにあるどのメディアもレンダリングできない場合は、パッケージファイル（Package File）のメタデータにある<code>dtb:multimediaContent</code>の値を元に、ユーザー（User）にその事実を伝えなくてはならない（Must）。</p>
<p id="para_207n"><a href="#toc">目次</a></p>
<h1 id="h1_17">14. <a name="DRM">デジタル著作権管理（Digital Rights Management : DRM）</a></h1>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<p id="para_208">知的財産の保護は、プリントディスアビリティのある者にサービスを提供する国立図書館や他の機関にとって重要な問題であり続けるだろう。しかし、この責任をデジタル録音図書（Digital Talking Book）の配布プログラムでどう満たしていくかは、代替フォーマット資料の配布に取り巻く法的な環境が国ごとに異なってくるだろう。また、アイテムが著作権の保護期間中のものか、パブリックドメインにあるものかでも異なってくる。しかし、アイテムが著作権の保護期間中である場合、著作権者の権利を保護するためにエージェンシーは合理的な管理と技術的な対策をとることが重要である。もっとも、エージェンシーが、彼らの目標母集団（Target population）による代替フォーマット資料へのアクセスを保証することも同様に重要である。<a href="#d-drm">DRM</a>システムを実装するDTB製作者とディストリビューターは、資格のあるユーザー（User）が準拠したDTBにアクセスすることを制限したり、妨げたりしない方法で、それを行わなくてはならない。</p>
<p id="para_208n"><a href="#toc">目次</a></p>
<h1 id="h1_18">15. <a name="TSM">タイムスケールの調整</a></h1>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_209">ユーザー（User）が再生（Playback）速度を制御できるようにするために再生システム（Playback System）はタイムスケールの調整機能（Time-Scale Modification : <a href="#d-tsm">TSM</a>)を実装することを強く推奨する。3分の1から3倍速までの連続可変再生（Playback）速度が推奨される。また、プレイヤー（Player）は、TSM作動中はピッチ補正を無効にするオプションをユーザー（User）が選択できることを推奨する。</p>
<p id="para_210">DTBの全ての時間オフセット（例えば、SMILおよびNCXの <code>clipBegin</code>
/ <code>clipEnd</code>
、ブックマークの<code>timeOffset</code>など）は、通常の再生速度に基づいる。同期を維持するために、プレイヤー（Player）は実際の再生（Playback）速度の時間オフセットを独立して処理しなければならない（Must）。</p>
<p id="para_210n"><a href="#toc">目次</a></p>
<h1 id="h1_19">16. <a name="Conform">適合性</a></h1>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_211"><!--MG 30 March, 2004  Changed "standard" to "fie conformance" in last sentence.-->この規格は、ファイルの適合性とプレーヤー（Player）の適合性の2種類の適合性を定義する。準拠したデジタル録音図書（Digital Talking Book）とDTB再生システム（Playback System）は、この規格の規範的なセクションで規定された適用可能な要件を全て満たしていなければならない（Must）。要件は、DTBに含まれるメディアとDTBプレーヤー（Player）によってサポートされる機能によって異なってくるだろう。ファイルの適合性の多くは、この規格に含まれているDTDを通じて強制的に守らせることができるが、他はすることができない。できないところは、他の手段を介して強制的に守らせなければならない（Must）ことに留意すべきである（Should）。</p>
<h2 id="h2_109_2"><!--MG 30 March, 2004 New section-->16.1 <a name="FileConform">一般的なファイルの適合性要件</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p id="para_211_2">この仕様は、DTB再生（Playback）デバイスが<a href="#ValNon-Val">妥当性を検証するXMLプロセッサと検証しないXMLプロセッサ</a>を使用することを認める。DTBファイルセット内の全てのXMLドキュメントは、次の文法規則とファイルの適合性要件がこの柔軟性を可能にするために組み込まれている。</p>
<ul id="nonval_req">
<li>全てのドキュメントの文法は、唯一のIDトークンとして <code>id</code>で名付けられた属性を使用する。</li>
<li>それぞれのDTDで#FIXED として宣言される全ての属性は、ドキュメントインスタンスの中で明示的に指定されることが求められる。</li>
<li>全てのエンティティ宣言は内部DTDサブセットに出現しなくてはならない（Must）。</li>
</ul>
<p id="para_211n"><a href="#toc">目次</a></p>
<h1 id="h1_20">17. <a name="Ref">その他の仕様/ドキュメントへの参照</a></h1>
<p id="para_212">この規格は次の規格、勧告、およびガイドラインを参照している。</p>
<h2 id="h2_51a">17.1 <a name="Norm-Ref">引用規定</a></h2>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<dl id="dl_5">
<dt id="dt_137"><a name="CSS1">CSS1</a></dt>
<dd id="dd_137">Cascading Style Sheets, Level 1: <a href="http://www.w3.org/TR/REC-CSS1">http://www.w3.org/TR/REC-CSS1</a></dd>
<dt id="dt_138"><a name="CSS2">CSS2</a></dt>
<dd id="dd_138">Cascading Style Sheets, Level 2: <a href="http://www.w3.org/TR/REC-CSS2/">http://www.w3.org/TR/REC-CSS2/</a></dd>
<dt id="dt_140"><a name="DC">Dublin Core</a></dt>
<dd id="dd_140">Dublin Core Metadata Initiative: <a href="http://dublincore.org/">http://dublincore.org/</a></dd>
<dt id="dt_141"><a name="DC-Type">DC-Type</a></dt>
<dd id="dd_141">Dublin Core Type Vocabulary: <a href="http://dublincore.org/documents/dcmi-type-vocabulary/">
http://dublincore.org/documents/dcmi-type-vocabulary/</a></dd>
<dt id="dt_145"><a name="ISO3166">ISO 3166</a></dt>
<dd id="dd_145">ISO 3166 - Codes for the Representation of Names of Countries and their Subdivisions: <a href="http://www.iso.ch/iso/en/ISOOnline.openerpage">http://www.iso.ch/iso/en/ISOOnline.openerpage</a></dd>
<dt id="dt_146"><a name="ISO8601">ISO 8601</a></dt>
<dd id="dd_146">W3C Profile of ISO8601 - Representation of Dates and Times: <a href="http://www.w3.org/TR/NOTE-datetime.html">
http://www.w3.org/TR/NOTE-datetime.html</a></dd>
<dt id="dt_147"><a name="ISO8859-1">ISO 8859-1</a></dt>
<dd id="dd_147">ISO 8859-1 - 8-bit single-byte coded graphic character sets -- Part 1: Latin alphabet No. 1 (HTML character set): <a href="http://www.iso.ch/iso/en/ISOOnline.openerpage">http://www.iso.ch/iso/en/ISOOnline.openerpage</a></dd>
<dt id="dt_148"><a name="ISO10646">ISO/IEC 10646</a></dt>
<dd id="dd_148">ISO/IEC 10646 - Universal Multiple-Octet Coded Character Set: <a href="http://www.unicode.org/">http://www.unicode.org</a></dd>
<dt id="dt_149"><a name="JPEG">JPEG</a></dt>
<dd id="dd_149">JPEG JFIF V1.02: <a href="http://www.jpeg.org/public/jfif.pdf">http://www.jpeg.org/public/jfif.pdf</a></dd>
<dt id="dt_150"><a name="MPEG">MPEG</a></dt>
<dd id="dd_150">
これらのMPEG規格のコピーである: <ul id="ul_135">
<li id="li_502">MPEG-1 Audio, ISO/IEC 11172-3</li>
<li id="li_503">MPEG-4 Audio, ISO/IEC 14496-3</li>
</ul>
上は International Organization for Standardizationのホームページ （<a href="http://www.iso.ch/iso/en/ISOOnline.openerpage" name="ISO">http://www.iso.ch/iso/en/ISOOnline.openerpage</a>
）または貴方の国で国家規格を制定・管理する機関から入手することができる。米国では、American National Standards Institute（ <a href="http://www.ansi.org/" name="ANSI">http://www.ansi.org</a>）である。</dd>
<dt id="dt_152"><a name="ref-NameSpaces">NS</a></dt>
<dd id="dd_152">XML NameSpaces: <a href="http://www.w3.org/TR/REC-xml-names/">http://www.w3.org/TR/REC-xml-names/</a></dd>
<dt id="dt_153"><a name="OEBF">OEBF</a></dt>
<dd id="dd_153">The Open eBook Forum Publication Structure, version 1.2: <a href="http://www.openebook.org/">http://www.openebook.org</a></dd>
<dt id="dt_155a"><a name="RFC2046"><!-- jp - 2004-03-29 New reference-->RFC 2046</a></dt>
<dd id="dd_155a">Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types: <a href="http://www.ietf.org/rfc/rfc2046.txt">http://www.ietf.org/rfc/rfc2046.txt</a></dd>
<dt id="dt_156"><a name="RFC2083">RFC 2083</a></dt>
<dd id="dd_156">Portable Network Graphics, Version 1: <a href="http://www.ietf.org/rfc/rfc2083.txt">http://www.ietf.org/rfc/rfc2083.txt</a></dd>
<dt id="dt_156a"><a name="RFC2396">RFC 2396</a></dt>
<dd id="dd_156a">Uniform Resource Identifiers (URI): Generic Syntax: <a href="http://www.ietf.org/rfc/rfc2396.txt">http://www.ietf.org/rfc/rfc2396.txt</a></dd>
<dt id="dt_155"><a name="RFC3066">RFC 3066</a></dt>
<dd id="dd_155"><!-- Replaces RFC 1766. April 3, 2004 George Kerscher -->Tags for the Identification of Languages: <a href="http://www.ietf.org/rfc/rfc3066.txt">
http://www.ietf.org/rfc/rfc3066.txt</a></dd>
<dt id="dt_157"><a name="RIFFWAV">RIFFWAV</a></dt>
<dd id="dd_157">RIFF WAV format information: <a href="ftp://ftp.cwi.nl/pub/audio/RIFF-format">ftp://ftp.cwi.nl/pub/audio/RIFF-format </a></dd>
<dt id="dt_158"><a name="ref-SMIL">SMIL</a></dt>
<dd id="dd_158">SMIL 2.0 W3C Recommendation [Second Edition] 07 January 2005: <a href="http://www.w3.org/TR/2005/REC-SMIL2-20050107/">http://www.w3.org/TR/2005/REC-SMIL2-20050107/</a></dd>
<dt id="dt_163"><a name="SVG">SVG</a></dt>
<dd id="dd_163">Scalable Vector Graphics: <a href="http://www.w3.org/TR/2001/REC-SVG-20010904/">http://www.w3.org/TR/2001/REC-SVG-20010904/</a></dd>
<dt id="dt_166"><a name="XML">XML</a></dt>
<dd id="dd_166">XML Version 1.0: <a href="http://www.w3.org/TR/REC-xml/">http://www.w3.org/TR/REC-xml/</a></dd>
<dt id="dt_166a"><a name="XMLNamespaces">XML-Namespaces</a>
</dt>
<dd id="dd_166a">Namespaces in XML: <a href="http://www.w3.org/TR/REC-xml-names/">http://www.w3.org/TR/REC-xml-names/</a></dd>
<dt id="dt_167"><a name="XML-Style">XML-Style</a></dt>
<dd id="dd_167">Associating Style Sheets with XML Documents 1.0: <a href="http://www.w3.org/TR/xml-stylesheet/">http://www.w3.org/TR/xml-stylesheet/</a></dd>
<dt id="dt_167a"><a name="XPath10">XPath10</a></dt>
<dd id="dd_167a">XML Path Language (XPath) Version 1.0: <a href="http://www.w3.org/TR/xpath">http://www.w3.org/TR/xpath</a></dd>
<dt id="dt_168"><a name="XSL">XSL</a></dt>
<dd id="dd_168">Extensible Stylesheet Language (XSL) Version 1.0: <a href="http://www.w3.org/TR/xsl/">http://www.w3.org/TR/xsl/</a></dd>
</dl>
<h2 id="h2_51b">17.2 <a name="Inform-Ref">参考規定</a></h2>
<p class="sstatus">（このセクションは参考情報である（Informative）。）</p>
<dl id="dl_5a">
<dt id="dt_135"><a name="ATAG">
ATAG</a></dt>
<dd id="dd_135">Authoring Tool Accessibility Guidelines: <a href="http://www.w3.org/TR/WAI-AUTOOLS/">http://www.w3.org/TR/WAI-AUTOOLS/</a></dd>
<dt id="dt_136"><a name="CSS">CSS</a></dt>
<dd id="dd_136">Cascading Style Sheets: <a href="http://www.w3.org/Style/CSS/">http://www.w3.org/Style/CSS/</a></dd>
<dt id="dt_139"><a name="DAISY">DAISY</a></dt>
<dd id="dd_139">The DAISY Consortium: <a href="http://www.daisy.org/">http://www.daisy.org/</a></dd>
<dt id="dt_142"><a name="Dtbookhtm">DTBook HTML</a></dt>
<!--

  <dd id="dd_142">HTML version of expanded DTBook DTD: <a href="http://www.loc.gov/nls/z3986/2005/dtbook122doc.htm">

    http://www.loc.gov/nls/z3986/2005/dtbook122doc.htm</a></dd>

-->
<dd id="dd_142">HTML version of expanded DTBook DTD: <a href="http://www.daisy.org/z3986/2005/dtbook/dtbookdoc.html">
http://www.daisy.org/z3986/2005/dtbook/dtbookdoc.html</a></dd>
<dt id="dt_143"><a name="Theory">DTBook Theory</a></dt>
<dd id="dd_143">Theory behind the DTBook DTD: <a href="http://www.daisy.org/publications/docs/theory_dtbook/theory_dtbook.html">
http://www.daisy.org/publications/docs/theory_dtbook/theory_dtbook.html</a></dd>
<dt id="dt_151"><a name="Navfeat">Navigation Features</a></dt>
<dd id="dd_151">Document Navigation Features List: <a href="http://www.loc.gov/nls/z3986/background/navigation.htm">
http://www.loc.gov/nls/z3986/background/navigation.htm</a></dd>
<dt id="dt_154"><a name="Playfeat">Player Features</a></dt>
<dd id="dd_154">Playback Device Features List: <a href="http://www.loc.gov/nls/z3986/background/features.htm">
http://www.loc.gov/nls/z3986/background/features.htm</a></dd>
<dt id="dt_154a"><a name="RFC2048"><!-- jp - 2004-03-29 New reference-->RFC 2048</a></dt>
<dd id="dd_154a">Multipurpose Internet Mail Extensions (MIME) Part Four: Registration Procedures <a href="http://www.ietf.org/rfc/rfc2048.txt">http://www.ietf.org/rfc/rfc2048.txt</a></dd>
<dt id="dt_154b"><a name="RFC3023"><!-- jp - 2004-03-29 New reference-->RFC 3023</a></dt>
<dd id="dd_154b">XML Media Types <a href="http://www.ietf.org/rfc/rfc3023.txt">http://www.ietf.org/rfc/rfc3023.txt</a></dd>
<dt id="dt_162"><a name="StructGuide">StructGuide</a></dt>
<dd id="dd_162">Structure Guidelines: <a href="http://www.daisy.org/publications/guidelines/sg-daisy3/structguide.htm">
http://www.daisy.org/publications/guidelines/sg-daisy3/structguide.htm</a></dd>
<dt id="dt_164"><a name="UAAG">UAAG</a></dt>
<dd id="dd_164">User Agent Accessibility Guidelines: <a href="http://www.w3.org/TR/UAAG10/">http://www.w3.org/TR/UAAG10/</a></dd>
<dt id="dt_164_2"><!--MG 30 March, 2004 New reference--><a name="ValNon-Val">Validating and Non-Validating Processors</a></dt>
<dd id="dd_164_2">XML 1.0 Specification (Third Edition), section 5.1: <a href="http://www.w3.org/TR/2004/REC-xml-20040204/#proc-types">http://www.w3.org/TR/2004/REC-xml-20040204/#proc-types</a></dd>
<dt id="dt_165"><a name="WCAG">WCAG</a></dt>
<dd id="dd_165">Web Content Accessibility Guidelines: <a href="http://www.w3.org/TR/WAI-WEBCONTENT/">http://www.w3.org/TR/WAI-WEBCONTENT/</a></dd>
<dt id="dt_169"><a name="XSLT">XSLT</a></dt>
<dd id="dd_169">XSL Transformations (XSLT) Version 1.0: <a href="http://www.w3.org/TR/xslt">http://www.w3.org/TR/xslt</a></dd>
</dl>
<p id="para_212n"><a href="#toc">目次</a></p>
<h1 id="h1_21"><!-- See change list in DTD. --><a name="DTBookDTD">付録1 - 文書型定義（Document Type Definitions : DTD） </a></h1>
<p class="sstatus">（このセクションは規範的である（Normative）。）</p>
<p>次のDTDは 保守機関（<a href="http://www.daisy.org/z3986/">http://www.daisy.org/z3986/</a>）からプレーンテキストで入手することができる。
</p>
<ul>
<li>DTBook DTD</li>
<li>DTB-Specific SMIL DTD</li>
<li>NCX DTD</li>
<li>DTD for Portable Bookmarks/Highlights</li>
<li>DTD for Resource File</li>
<li>Distribution Information DTD</li>
</ul>
<p id="para_212t"><a href="#toc">目次</a></p>
<h1 id="h1_27"><a name="MaintDes">付録2 - 保守機関の指定</a></h1>
<p id="para_213">（この付録は、米国国家規格 Z39.86-2005、デジタル録音図書（Digital Talking Book）の仕様の一部ではない。情報提供のみを目的に掲載されている。）</p>
<!-- Editorial revision April 21, 2007 by KK

   Verbage changed to reference using Contact Us form on DAISY Web site

-->
<p id="para_214">セクション1.7で規定された保守機関として指定された機能は、DAISYコンソーシアムによって管理されるだろう。この規格の実装に関する質問と情報提供の要求は、<a href="http://www.daisy.org/">http://www.daisy.org/</a>の "Contact Us"フォームを使用し、"Z3986 Standard"とうい件名を指定してDAISYコンソーシアムのスタッフに送るべきである。</p>
<p id="para_215"><a href="#toc">目次</a></p>


</body></html>
